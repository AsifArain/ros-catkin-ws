<title>gdm_tdlas: QProblemB.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">QProblemB.cpp</div>  </div>
</div>
<div class="contents">
<a href="QProblemB_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *      This file is part of qpOASES.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *      qpOASES -- An Implementation of the Online Active Set Strategy.</span>
<a name="l00005"></a>00005 <span class="comment"> *      Copyright (C) 2007-2012 by Hans Joachim Ferreau, Andreas Potschka,</span>
<a name="l00006"></a>00006 <span class="comment"> *      Christian Kirches et al. All rights reserved.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *      qpOASES is free software; you can redistribute it and/or</span>
<a name="l00009"></a>00009 <span class="comment"> *      modify it under the terms of the GNU Lesser General Public</span>
<a name="l00010"></a>00010 <span class="comment"> *      License as published by the Free Software Foundation; either</span>
<a name="l00011"></a>00011 <span class="comment"> *      version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> *      qpOASES is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"> *      but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"> *      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
<a name="l00016"></a>00016 <span class="comment"> *      See the GNU Lesser General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> *      You should have received a copy of the GNU Lesser General Public</span>
<a name="l00019"></a>00019 <span class="comment"> *      License along with qpOASES; if not, write to the Free Software</span>
<a name="l00020"></a>00020 <span class="comment"> *      Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA</span>
<a name="l00021"></a>00021 <span class="comment"> *</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="QProblemB_8hpp.html">qpOASES/QProblemB.hpp</a>&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <a class="code" href="Types_8hpp.html#afd127fcb3c8f47975e9fa0ec2bacde52">BEGIN_NAMESPACE_QPOASES</a>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="comment">/*****************************************************************************</span>
<a name="l00042"></a>00042 <span class="comment"> *  P U B L I C                                                              *</span>
<a name="l00043"></a>00043 <span class="comment"> *****************************************************************************/</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="comment">/*</span>
<a name="l00047"></a>00047 <span class="comment"> *      Q P r o b l e m B</span>
<a name="l00048"></a>00048 <span class="comment"> */</span>
<a name="l00049"></a><a class="code" href="classQProblemB.html#a130f38af91d808933e0f89948a82d030">00049</a> <a class="code" href="classQProblemB.html#a130f38af91d808933e0f89948a82d030">QProblemB::QProblemB</a>( )
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051         <span class="comment">/* print copyright notice */</span>
<a name="l00052"></a>00052         <span class="keywordflow">if</span> (<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> &gt; <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a8f8368df28c91ba1e51b3977a7ea8ac8">PL_NONE</a>)
<a name="l00053"></a>00053                 <a class="code" href="Utils_8hpp.html#ae117e78f4acacd8459d993d6eabeefab">printCopyrightNotice</a>( );
<a name="l00054"></a>00054 
<a name="l00055"></a>00055         <span class="comment">/* reset global message handler */</span>
<a name="l00056"></a>00056         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aee146336fc1d08ae20ea00498aee471f">reset</a>( );
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         <a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00059"></a>00059         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> = 0;
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> = 0;
<a name="l00062"></a>00062         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> = 0;
<a name="l00063"></a>00063         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> = 0;
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> = 0;
<a name="l00066"></a>00066         <a class="code" href="classQProblemB.html#a3647c70d0d4fba3f2afe2cca4d289102">haveCholesky</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068         <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> = 0;
<a name="l00069"></a>00069         <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> = 0;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> = 0.0;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a3479cf4e632ae731d4da9bf57a9f8907">HST_UNKNOWN</a>;
<a name="l00074"></a>00074         <a class="code" href="classQProblemB.html#a2584bbb5ab93f06aa5f3a634ac9076ac">isRegularised</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a>  = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00077"></a>00077         <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a>   = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00078"></a>00078 
<a name="l00079"></a>00079         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a>;
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <a class="code" href="classQProblemB.html#acd42fb385651070ee34d7ad7802e924b">count</a> = 0;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083         <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#ae6f01e48e40c0e90c1d081225824fa69">initialRamping</a>;
<a name="l00084"></a>00084         <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a> = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#adf4a78f73d1efb4f645e9875e2f8be07">finalRamping</a>;
<a name="l00085"></a>00085         <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a> = 0;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> = 0;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <a class="code" href="classQProblemB.html#a2be2208a1befa1f7fa03f3c11d91ae7b">setPrintLevel</a>( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> );
<a name="l00090"></a>00090 }
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="comment">/*</span>
<a name="l00094"></a>00094 <span class="comment"> *      Q P r o b l e m B</span>
<a name="l00095"></a>00095 <span class="comment"> */</span>
<a name="l00096"></a><a class="code" href="classQProblemB.html#a3c284fc80e399c9d67d2e902755764f5">00096</a> <a class="code" href="classQProblemB.html#a130f38af91d808933e0f89948a82d030">QProblemB::QProblemB</a>( <span class="keywordtype">int</span> _nV, <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9">HessianType</a> _hessianType )
<a name="l00097"></a>00097 {
<a name="l00098"></a>00098         <span class="comment">/* print copyright notice */</span>
<a name="l00099"></a>00099         <span class="keywordflow">if</span> (<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> &gt; <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a8f8368df28c91ba1e51b3977a7ea8ac8">PL_NONE</a>)
<a name="l00100"></a>00100                 <a class="code" href="Utils_8hpp.html#ae117e78f4acacd8459d993d6eabeefab">printCopyrightNotice</a>( );
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         <span class="comment">/* consistency check */</span>
<a name="l00103"></a>00103         <span class="keywordflow">if</span> ( _nV &lt;= 0 )
<a name="l00104"></a>00104         {
<a name="l00105"></a>00105                 _nV = 1;
<a name="l00106"></a>00106                 <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00107"></a>00107         }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <span class="comment">/* reset global message handler */</span>
<a name="l00110"></a>00110         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aee146336fc1d08ae20ea00498aee471f">reset</a>( );
<a name="l00111"></a>00111 
<a name="l00112"></a>00112         <a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00113"></a>00113         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> = 0;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l00116"></a>00116         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l00117"></a>00117         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l00118"></a>00118 
<a name="l00119"></a>00119         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a11440ef91a144d38738d0d979ee8e9e3">init</a>( _nV );
<a name="l00120"></a>00120 
<a name="l00121"></a>00121         <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV*_nV];
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l00124"></a>00124         <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l00125"></a>00125 
<a name="l00126"></a>00126         <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> = 0.0;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = _hessianType;
<a name="l00129"></a>00129         <a class="code" href="classQProblemB.html#a2584bbb5ab93f06aa5f3a634ac9076ac">isRegularised</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00130"></a>00130 
<a name="l00131"></a>00131         <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a>  = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00132"></a>00132         <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a>   = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00133"></a>00133 
<a name="l00134"></a>00134         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a>;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136         <a class="code" href="classQProblemB.html#acd42fb385651070ee34d7ad7802e924b">count</a> = 0;
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#ae6f01e48e40c0e90c1d081225824fa69">initialRamping</a>;
<a name="l00139"></a>00139         <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a> = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#adf4a78f73d1efb4f645e9875e2f8be07">finalRamping</a>;
<a name="l00140"></a>00140         <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a> = 0;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142         <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l00143"></a>00143 
<a name="l00144"></a>00144         <a class="code" href="classQProblemB.html#a2be2208a1befa1f7fa03f3c11d91ae7b">setPrintLevel</a>( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> );
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         <a class="code" href="classQProblemB.html#afc23c08b6cdc0ca93f9c049e9a318744">flipper</a>.<a class="code" href="classFlipper.html#ab5e31dfda4904925b0884c6aa14c49dc">init</a>( _nV );
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="comment">/*</span>
<a name="l00151"></a>00151 <span class="comment"> *      Q P r o b l e m B</span>
<a name="l00152"></a>00152 <span class="comment"> */</span>
<a name="l00153"></a><a class="code" href="classQProblemB.html#a370995d62be6dbeef2415b3882c00fe7">00153</a> <a class="code" href="classQProblemB.html#a130f38af91d808933e0f89948a82d030">QProblemB::QProblemB</a>( <span class="keyword">const</span> <a class="code" href="classQProblemB.html" title="Implements the online active set strategy for box-constrained QPs.">QProblemB</a>&amp; rhs )
<a name="l00154"></a>00154 {
<a name="l00155"></a>00155         <a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00156"></a>00156         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> = 0;
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         <a class="code" href="classQProblemB.html#aeb2920c00630c6643b05c8ee10d717ac">copy</a>( rhs );
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">/*</span>
<a name="l00163"></a>00163 <span class="comment"> *      ~ Q P r o b l e m B</span>
<a name="l00164"></a>00164 <span class="comment"> */</span>
<a name="l00165"></a><a class="code" href="classQProblemB.html#a9b7c6eb715d0d16ff8f3e7882b3982e7">00165</a> <a class="code" href="classQProblemB.html#a9b7c6eb715d0d16ff8f3e7882b3982e7">QProblemB::~QProblemB</a>( )
<a name="l00166"></a>00166 {
<a name="l00167"></a>00167         <a class="code" href="classQProblemB.html#a957104bb5ebd44cd9d37878c2b6e8a52">clear</a>( );
<a name="l00168"></a>00168 
<a name="l00169"></a>00169         <span class="comment">/* reset global message handler */</span>
<a name="l00170"></a>00170         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aee146336fc1d08ae20ea00498aee471f">reset</a>( );
<a name="l00171"></a>00171 }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 <span class="comment">/*</span>
<a name="l00175"></a>00175 <span class="comment"> *      o p e r a t o r =</span>
<a name="l00176"></a>00176 <span class="comment"> */</span>
<a name="l00177"></a><a class="code" href="classQProblemB.html#aefdce5618a0c88d7677b5783b6e40578">00177</a> <a class="code" href="classQProblemB.html" title="Implements the online active set strategy for box-constrained QPs.">QProblemB</a>&amp; <a class="code" href="classQProblemB.html#aefdce5618a0c88d7677b5783b6e40578">QProblemB::operator=</a>( <span class="keyword">const</span> <a class="code" href="classQProblemB.html" title="Implements the online active set strategy for box-constrained QPs.">QProblemB</a>&amp; rhs )
<a name="l00178"></a>00178 {
<a name="l00179"></a>00179         <span class="keywordflow">if</span> ( <span class="keyword">this</span> != &amp;rhs )
<a name="l00180"></a>00180         {
<a name="l00181"></a>00181                 <a class="code" href="classQProblemB.html#a957104bb5ebd44cd9d37878c2b6e8a52">clear</a>( );
<a name="l00182"></a>00182                 <a class="code" href="classQProblemB.html#aeb2920c00630c6643b05c8ee10d717ac">copy</a>( rhs );
<a name="l00183"></a>00183         }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00186"></a>00186 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="comment">/*</span>
<a name="l00190"></a>00190 <span class="comment"> *      r e s e t</span>
<a name="l00191"></a>00191 <span class="comment"> */</span>
<a name="l00192"></a><a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">00192</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">QProblemB::reset</a>( )
<a name="l00193"></a>00193 {
<a name="l00194"></a>00194         <span class="keywordtype">int</span> i;
<a name="l00195"></a>00195         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00196"></a>00196 
<a name="l00197"></a>00197         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00198"></a>00198                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00199"></a>00199 
<a name="l00200"></a>00200         <span class="comment">/* 1) Reset bounds. */</span>
<a name="l00201"></a>00201         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a11440ef91a144d38738d0d979ee8e9e3">init</a>( nV );
<a name="l00202"></a>00202 
<a name="l00203"></a>00203         <span class="comment">/* 2) Reset Cholesky decomposition. */</span>
<a name="l00204"></a>00204         <span class="keywordflow">for</span>( i=0; i&lt;nV*nV; ++i )
<a name="l00205"></a>00205                 <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>[i] = 0.0;
<a name="l00206"></a>00206         
<a name="l00207"></a>00207         <a class="code" href="classQProblemB.html#a3647c70d0d4fba3f2afe2cca4d289102">haveCholesky</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         <span class="comment">/* 3) Reset steplength and status flags. */</span>
<a name="l00210"></a>00210         <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> = 0.0;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212         <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a3479cf4e632ae731d4da9bf57a9f8907">HST_UNKNOWN</a>;
<a name="l00213"></a>00213         <a class="code" href="classQProblemB.html#a2584bbb5ab93f06aa5f3a634ac9076ac">isRegularised</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215         <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a>  = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00216"></a>00216         <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a>   = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a>;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220         <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#ae6f01e48e40c0e90c1d081225824fa69">initialRamping</a>;
<a name="l00221"></a>00221         <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a> = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#adf4a78f73d1efb4f645e9875e2f8be07">finalRamping</a>;
<a name="l00222"></a>00222         <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a> = 0;
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l00225"></a>00225 }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="comment">/*</span>
<a name="l00229"></a>00229 <span class="comment"> *      i n i t</span>
<a name="l00230"></a>00230 <span class="comment"> */</span>
<a name="l00231"></a><a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">00231</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">QProblemB::init</a>(    <a class="code" href="classSymmetricMatrix.html" title="Abstract base class for interfacing matrix-vector operations tailored to symmetric matrices...">SymmetricMatrix</a> *_H, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _g,
<a name="l00232"></a>00232                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _ub,
<a name="l00233"></a>00233                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime
<a name="l00234"></a>00234                                                                 )
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ) == 0 )
<a name="l00237"></a>00237                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         <span class="comment">/* 1) Consistency check. */</span>
<a name="l00240"></a>00240         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ace7ad79b45cadc772e4824523f633e58">isInitialised</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00241"></a>00241         {
<a name="l00242"></a>00242                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea37e621bb9516e08bd37c3767e0fbe168">RET_QP_ALREADY_INITIALISED</a> );
<a name="l00243"></a>00243                 <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">reset</a>( );
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245 
<a name="l00246"></a>00246         <span class="comment">/* 2) Setup QP data. */</span>
<a name="l00247"></a>00247         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">setupQPdata</a>( _H,_g,_lb,_ub ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00248"></a>00248                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00249"></a>00249 
<a name="l00250"></a>00250         <span class="comment">/* 3) Call to main initialisation routine (without any additional information). */</span>
<a name="l00251"></a>00251         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">solveInitialQP</a>( 0,0,0, nWSR,cputime );
<a name="l00252"></a>00252 }
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="comment">/*</span>
<a name="l00256"></a>00256 <span class="comment"> *      i n i t</span>
<a name="l00257"></a>00257 <span class="comment"> */</span>
<a name="l00258"></a><a class="code" href="classQProblemB.html#a9f302939834d7d875f7cbc0304e6fd7e">00258</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">QProblemB::init</a>(    <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _H, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _g,
<a name="l00259"></a>00259                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _ub,
<a name="l00260"></a>00260                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime
<a name="l00261"></a>00261                                                                 )
<a name="l00262"></a>00262 {
<a name="l00263"></a>00263         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ) == 0 )
<a name="l00264"></a>00264                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00265"></a>00265 
<a name="l00266"></a>00266         <span class="comment">/* 1) Consistency check. */</span>
<a name="l00267"></a>00267         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ace7ad79b45cadc772e4824523f633e58">isInitialised</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00268"></a>00268         {
<a name="l00269"></a>00269                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea37e621bb9516e08bd37c3767e0fbe168">RET_QP_ALREADY_INITIALISED</a> );
<a name="l00270"></a>00270                 <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">reset</a>( );
<a name="l00271"></a>00271         }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273         <span class="comment">/* 2) Setup QP data. */</span>
<a name="l00274"></a>00274         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">setupQPdata</a>( _H,_g,_lb,_ub ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00275"></a>00275                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <span class="comment">/* 3) Call to main initialisation routine (without any additional information). */</span>
<a name="l00278"></a>00278         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">solveInitialQP</a>( 0,0,0, nWSR,cputime );
<a name="l00279"></a>00279 }
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 <span class="comment">/*</span>
<a name="l00283"></a>00283 <span class="comment"> *      i n i t</span>
<a name="l00284"></a>00284 <span class="comment"> */</span>
<a name="l00285"></a><a class="code" href="classQProblemB.html#a58b2ceae10bff1427de22847dea012f4">00285</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">QProblemB::init</a>(    <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> H_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> g_file,
<a name="l00286"></a>00286                                                                 <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> lb_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> ub_file,
<a name="l00287"></a>00287                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime
<a name="l00288"></a>00288                                                                 )
<a name="l00289"></a>00289 {
<a name="l00290"></a>00290         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ) == 0 )
<a name="l00291"></a>00291                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00292"></a>00292 
<a name="l00293"></a>00293         <span class="comment">/* 1) Consistency check. */</span>
<a name="l00294"></a>00294         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ace7ad79b45cadc772e4824523f633e58">isInitialised</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00295"></a>00295         {
<a name="l00296"></a>00296                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea37e621bb9516e08bd37c3767e0fbe168">RET_QP_ALREADY_INITIALISED</a> );
<a name="l00297"></a>00297                 <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">reset</a>( );
<a name="l00298"></a>00298         }
<a name="l00299"></a>00299 
<a name="l00300"></a>00300         <span class="comment">/* 2) Setup QP data from files. */</span>
<a name="l00301"></a>00301         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a6ea1dcb60fb520c18f1612b944875160">setupQPdataFromFile</a>( H_file,g_file,lb_file,ub_file ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00302"></a>00302                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea75a82ee30ebf002f5f8092258bafa76a">RET_UNABLE_TO_READ_FILE</a> );
<a name="l00303"></a>00303 
<a name="l00304"></a>00304         <span class="comment">/* 3) Call to main initialisation routine (without any additional information). */</span>
<a name="l00305"></a>00305         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">solveInitialQP</a>( 0,0,0, nWSR,cputime );
<a name="l00306"></a>00306 }
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="comment">/*</span>
<a name="l00310"></a>00310 <span class="comment"> *      i n i t</span>
<a name="l00311"></a>00311 <span class="comment"> */</span>
<a name="l00312"></a><a class="code" href="classQProblemB.html#aa0098e5825e460380a3211b14f31e232">00312</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">QProblemB::init</a>(    <a class="code" href="classSymmetricMatrix.html" title="Abstract base class for interfacing matrix-vector operations tailored to symmetric matrices...">SymmetricMatrix</a> *_H, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _g,
<a name="l00313"></a>00313                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _ub,
<a name="l00314"></a>00314                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime,
<a name="l00315"></a>00315                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt,
<a name="l00316"></a>00316                                                                 <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds
<a name="l00317"></a>00317                                                                 )
<a name="l00318"></a>00318 {
<a name="l00319"></a>00319         <span class="keywordtype">int</span> i;
<a name="l00320"></a>00320         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00321"></a>00321 
<a name="l00322"></a>00322         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00323"></a>00323                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00324"></a>00324 
<a name="l00325"></a>00325         <span class="comment">/* 1) Consistency checks. */</span>
<a name="l00326"></a>00326         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ace7ad79b45cadc772e4824523f633e58">isInitialised</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00327"></a>00327         {
<a name="l00328"></a>00328                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea37e621bb9516e08bd37c3767e0fbe168">RET_QP_ALREADY_INITIALISED</a> );
<a name="l00329"></a>00329                 <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">reset</a>( );
<a name="l00330"></a>00330         }
<a name="l00331"></a>00331 
<a name="l00332"></a>00332         <span class="keywordflow">if</span> ( guessedBounds != 0 )
<a name="l00333"></a>00333         {
<a name="l00334"></a>00334                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00335"></a>00335                 {
<a name="l00336"></a>00336                         <span class="keywordflow">if</span> ( guessedBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> )
<a name="l00337"></a>00337                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00338"></a>00338                 }
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340 
<a name="l00341"></a>00341         <span class="comment">/* exclude this possibility in order to avoid inconsistencies */</span>
<a name="l00342"></a>00342         <span class="keywordflow">if</span> ( ( xOpt == 0 ) &amp;&amp; ( yOpt != 0 ) &amp;&amp; ( guessedBounds != 0 ) )
<a name="l00343"></a>00343                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00344"></a>00344 
<a name="l00345"></a>00345         <span class="comment">/* 2) Setup QP data. */</span>
<a name="l00346"></a>00346         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">setupQPdata</a>( _H,_g,_lb,_ub ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00347"></a>00347                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00348"></a>00348 
<a name="l00349"></a>00349         <span class="comment">/* 3) Call to main initialisation routine. */</span>
<a name="l00350"></a>00350         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">solveInitialQP</a>( xOpt,yOpt,guessedBounds, nWSR,cputime );
<a name="l00351"></a>00351 }
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="comment">/*</span>
<a name="l00355"></a>00355 <span class="comment"> *      i n i t</span>
<a name="l00356"></a>00356 <span class="comment"> */</span>
<a name="l00357"></a><a class="code" href="classQProblemB.html#a2cd4ae459e01c4199fa59ec6b5750db8">00357</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">QProblemB::init</a>(    <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _H, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _g,
<a name="l00358"></a>00358                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _ub,
<a name="l00359"></a>00359                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime,
<a name="l00360"></a>00360                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt,
<a name="l00361"></a>00361                                                                 <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds
<a name="l00362"></a>00362                                                                 )
<a name="l00363"></a>00363 {
<a name="l00364"></a>00364         <span class="keywordtype">int</span> i;
<a name="l00365"></a>00365         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00366"></a>00366 
<a name="l00367"></a>00367         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00368"></a>00368                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00369"></a>00369 
<a name="l00370"></a>00370         <span class="comment">/* 1) Consistency checks. */</span>
<a name="l00371"></a>00371         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ace7ad79b45cadc772e4824523f633e58">isInitialised</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00372"></a>00372         {
<a name="l00373"></a>00373                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea37e621bb9516e08bd37c3767e0fbe168">RET_QP_ALREADY_INITIALISED</a> );
<a name="l00374"></a>00374                 <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">reset</a>( );
<a name="l00375"></a>00375         }
<a name="l00376"></a>00376 
<a name="l00377"></a>00377         <span class="keywordflow">if</span> ( guessedBounds != 0 )
<a name="l00378"></a>00378         {
<a name="l00379"></a>00379                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00380"></a>00380                 {
<a name="l00381"></a>00381                         <span class="keywordflow">if</span> ( guessedBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> )
<a name="l00382"></a>00382                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00383"></a>00383                 }
<a name="l00384"></a>00384         }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386         <span class="comment">/* exclude this possibility in order to avoid inconsistencies */</span>
<a name="l00387"></a>00387         <span class="keywordflow">if</span> ( ( xOpt == 0 ) &amp;&amp; ( yOpt != 0 ) &amp;&amp; ( guessedBounds != 0 ) )
<a name="l00388"></a>00388                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         <span class="comment">/* 2) Setup QP data. */</span>
<a name="l00391"></a>00391         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">setupQPdata</a>( _H,_g,_lb,_ub ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00392"></a>00392                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00393"></a>00393 
<a name="l00394"></a>00394         <span class="comment">/* 3) Call to main initialisation routine. */</span>
<a name="l00395"></a>00395         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">solveInitialQP</a>( xOpt,yOpt,guessedBounds, nWSR,cputime );
<a name="l00396"></a>00396 }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 <span class="comment">/*</span>
<a name="l00400"></a>00400 <span class="comment"> *      i n i t</span>
<a name="l00401"></a>00401 <span class="comment"> */</span>
<a name="l00402"></a><a class="code" href="classQProblemB.html#a7729f4af7a6492717d81ae77a60ed5ff">00402</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae54b44fbc6c1c37144e25fc201981e55">QProblemB::init</a>(    <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> H_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> g_file,
<a name="l00403"></a>00403                                                                 <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> lb_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> ub_file,
<a name="l00404"></a>00404                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime,
<a name="l00405"></a>00405                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt,
<a name="l00406"></a>00406                                                                 <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds
<a name="l00407"></a>00407                                                                 )
<a name="l00408"></a>00408 {
<a name="l00409"></a>00409         <span class="keywordtype">int</span> i;
<a name="l00410"></a>00410         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00411"></a>00411 
<a name="l00412"></a>00412         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00413"></a>00413                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00414"></a>00414 
<a name="l00415"></a>00415         <span class="comment">/* 1) Consistency checks. */</span>
<a name="l00416"></a>00416         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ace7ad79b45cadc772e4824523f633e58">isInitialised</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00417"></a>00417         {
<a name="l00418"></a>00418                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea37e621bb9516e08bd37c3767e0fbe168">RET_QP_ALREADY_INITIALISED</a> );
<a name="l00419"></a>00419                 <a class="code" href="classQProblemB.html#a975c13e1a8fbe8c3e9c4dfbce9dc9a71">reset</a>( );
<a name="l00420"></a>00420         }
<a name="l00421"></a>00421 
<a name="l00422"></a>00422         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00423"></a>00423         {
<a name="l00424"></a>00424                 <span class="keywordflow">if</span> ( guessedBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> )
<a name="l00425"></a>00425                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00426"></a>00426         }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         <span class="comment">/* exclude this possibility in order to avoid inconsistencies */</span>
<a name="l00429"></a>00429         <span class="keywordflow">if</span> ( ( xOpt == 0 ) &amp;&amp; ( yOpt != 0 ) &amp;&amp; ( guessedBounds != 0 ) )
<a name="l00430"></a>00430                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00431"></a>00431 
<a name="l00432"></a>00432         <span class="comment">/* 2) Setup QP data from files. */</span>
<a name="l00433"></a>00433         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a6ea1dcb60fb520c18f1612b944875160">setupQPdataFromFile</a>( H_file,g_file,lb_file,ub_file ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00434"></a>00434                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea75a82ee30ebf002f5f8092258bafa76a">RET_UNABLE_TO_READ_FILE</a> );
<a name="l00435"></a>00435 
<a name="l00436"></a>00436         <span class="comment">/* 3) Call to main initialisation routine. */</span>
<a name="l00437"></a>00437         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">solveInitialQP</a>( xOpt,yOpt,guessedBounds, nWSR,cputime );
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00441"></a>00441 <span class="comment">/*</span>
<a name="l00442"></a>00442 <span class="comment"> *      h o t s t a r t</span>
<a name="l00443"></a>00443 <span class="comment"> */</span>
<a name="l00444"></a><a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">00444</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">QProblemB::hotstart</a>(        <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new,
<a name="l00445"></a>00445                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new,
<a name="l00446"></a>00446                                                                         <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime
<a name="l00447"></a>00447                                                                         )
<a name="l00448"></a>00448 {
<a name="l00449"></a>00449         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ) == 0 )
<a name="l00450"></a>00450                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00451"></a>00451 
<a name="l00452"></a>00452         ++<a class="code" href="classQProblemB.html#acd42fb385651070ee34d7ad7802e924b">count</a>;
<a name="l00453"></a>00453 
<a name="l00454"></a>00454         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue = <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l00455"></a>00455         <span class="keywordtype">int</span> nFar, i;
<a name="l00456"></a>00456         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a> ();
<a name="l00457"></a>00457 
<a name="l00458"></a>00458         <span class="keywordtype">int</span> nWSR_max = nWSR;
<a name="l00459"></a>00459         <span class="keywordtype">int</span> nWSR_performed = 0;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> cputime_remaining = <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l00462"></a>00462         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> cputime_needed = 0.0;
<a name="l00463"></a>00463 
<a name="l00464"></a>00464         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> farbound = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a2ec58bd7731426a3eb260ed7a9ad481c">initialFarBounds</a>;
<a name="l00465"></a>00465         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> t, rampVal;
<a name="l00466"></a>00466 
<a name="l00467"></a>00467         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa691471f2994643343ddcf2b697a19aa">enableFarBounds</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l00468"></a>00468         {
<a name="l00469"></a>00469                 <span class="comment">/*if (haveCholesky == BT_FALSE)</span>
<a name="l00470"></a>00470 <span class="comment">                {</span>
<a name="l00471"></a>00471 <span class="comment">                        returnvalue = computeInitialCholesky();</span>
<a name="l00472"></a>00472 <span class="comment">                        if (returnvalue != SUCCESSFUL_RETURN)</span>
<a name="l00473"></a>00473 <span class="comment">                                return THROWERROR(returnvalue);</span>
<a name="l00474"></a>00474 <span class="comment">                }*/</span>
<a name="l00475"></a>00475 
<a name="l00476"></a>00476                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00477"></a>00477                         returnvalue = <a class="code" href="classQProblemB.html#aa33ddd65f2e97695c58dacecf9f39e1e">solveRegularisedQP</a>( g_new,lb_new,ub_new, nWSR,cputime,0 );
<a name="l00478"></a>00478                 <span class="keywordflow">else</span>
<a name="l00479"></a>00479                         returnvalue = <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( g_new,lb_new,ub_new, nWSR,cputime,0 );
<a name="l00480"></a>00480         }
<a name="l00481"></a>00481         <span class="keywordflow">else</span>
<a name="l00482"></a>00482         {
<a name="l00483"></a>00483                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> *ub_new_far = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00484"></a>00484                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> *lb_new_far = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00485"></a>00485 
<a name="l00486"></a>00486                 <span class="comment">/* possibly extend initial far bounds to largest bound/constraint data */</span>
<a name="l00487"></a>00487                 <span class="keywordflow">if</span> (ub_new)
<a name="l00488"></a>00488                         <span class="keywordflow">for</span> (i = 0; i &lt; nV; i++)
<a name="l00489"></a>00489                                 <span class="keywordflow">if</span> (ub_new[i] &lt; <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> &amp;&amp; ub_new[i] &gt; farbound) farbound = ub_new[i];
<a name="l00490"></a>00490                 <span class="keywordflow">if</span> (lb_new)
<a name="l00491"></a>00491                         <span class="keywordflow">for</span> (i = 0; i &lt; nV; i++)
<a name="l00492"></a>00492                                 <span class="keywordflow">if</span> (lb_new[i] &gt; -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> &amp;&amp; lb_new[i] &lt; -farbound) farbound = -lb_new[i];
<a name="l00493"></a>00493 
<a name="l00494"></a>00494                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a8346f6e9a849cc3da7cbbede72a10196">enableRamping</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00495"></a>00495                 {
<a name="l00496"></a>00496                         <span class="comment">/* TODO: encapsule this part to avoid code duplication! */</span>
<a name="l00497"></a>00497                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00498"></a>00498                         {
<a name="l00499"></a>00499                                 t = <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>((i + <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a>) % nV) / <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>(nV-1);
<a name="l00500"></a>00500                                 rampVal = farbound + (1.0-t) * <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> + t * <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a>;
<a name="l00501"></a>00501 
<a name="l00502"></a>00502                                 <span class="keywordflow">if</span> ( ( lb_new == 0 ) || ( lb_new[i] &lt;= -rampVal ) )
<a name="l00503"></a>00503                                         lb_new_far[i] = - rampVal;
<a name="l00504"></a>00504                                 <span class="keywordflow">else</span>
<a name="l00505"></a>00505                                         lb_new_far[i] = lb_new[i];
<a name="l00506"></a>00506                                 <span class="keywordflow">if</span> ( ( ub_new == 0 ) || ( ub_new[i] &gt;= rampVal ) )
<a name="l00507"></a>00507                                         ub_new_far[i] = rampVal;
<a name="l00508"></a>00508                                 <span class="keywordflow">else</span>
<a name="l00509"></a>00509                                         ub_new_far[i] = ub_new[i];
<a name="l00510"></a>00510                         }
<a name="l00511"></a>00511                 }
<a name="l00512"></a>00512                 <span class="keywordflow">else</span>
<a name="l00513"></a>00513                 {
<a name="l00514"></a>00514                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00515"></a>00515                         {
<a name="l00516"></a>00516                                 lb_new_far[i] = lb_new[i];
<a name="l00517"></a>00517                                 ub_new_far[i] = ub_new[i];
<a name="l00518"></a>00518                         }
<a name="l00519"></a>00519                 }
<a name="l00520"></a>00520 
<a name="l00521"></a>00521                 <span class="comment">/*if (haveCholesky == BT_FALSE)</span>
<a name="l00522"></a>00522 <span class="comment">                {</span>
<a name="l00523"></a>00523 <span class="comment">                        returnvalue = computeInitialCholesky();</span>
<a name="l00524"></a>00524 <span class="comment">                        if (returnvalue != SUCCESSFUL_RETURN)</span>
<a name="l00525"></a>00525 <span class="comment">                                goto farewell;</span>
<a name="l00526"></a>00526 <span class="comment">                }*/</span>
<a name="l00527"></a>00527 
<a name="l00528"></a>00528                 <span class="keywordflow">for</span> ( ;; )
<a name="l00529"></a>00529                 {
<a name="l00530"></a>00530                         nWSR = nWSR_max;
<a name="l00531"></a>00531                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l00532"></a>00532                                 cputime_remaining = *cputime - cputime_needed;
<a name="l00533"></a>00533 
<a name="l00534"></a>00534                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00535"></a>00535                                 returnvalue = <a class="code" href="classQProblemB.html#aa33ddd65f2e97695c58dacecf9f39e1e">solveRegularisedQP</a>( g_new,lb_new_far,ub_new_far, nWSR,&amp;cputime_remaining,nWSR_performed );
<a name="l00536"></a>00536                         <span class="keywordflow">else</span>
<a name="l00537"></a>00537                                 returnvalue = <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( g_new,lb_new_far,ub_new_far, nWSR,&amp;cputime_remaining,nWSR_performed );
<a name="l00538"></a>00538 
<a name="l00539"></a>00539                         nWSR_performed  = nWSR;
<a name="l00540"></a>00540                         cputime_needed += cputime_remaining;
<a name="l00541"></a>00541 
<a name="l00542"></a>00542                         <span class="comment">/* Check for active far-bounds and move them away */</span>
<a name="l00543"></a>00543                         nFar = 0;
<a name="l00544"></a>00544                         farbound *= <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a5331179ac3983d3e57d7d6a80e3c8175">growFarBounds</a>;
<a name="l00545"></a>00545 
<a name="l00546"></a>00546                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> maxFarbound = 1e20;
<a name="l00547"></a>00547                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00548"></a>00548                         {
<a name="l00549"></a>00549                                 <span class="keywordflow">if</span> ( farbound &gt; maxFarbound )
<a name="l00550"></a>00550                                 {
<a name="l00551"></a>00551                                         returnvalue = <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaa14167098be18a37cb7dd01f271d9c9c">RET_HOTSTART_STOPPED_INFEASIBILITY</a>;
<a name="l00552"></a>00552                                         <span class="keywordflow">goto</span> farewell;
<a name="l00553"></a>00553                                 }
<a name="l00554"></a>00554 
<a name="l00555"></a>00555                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a8346f6e9a849cc3da7cbbede72a10196">enableRamping</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00556"></a>00556                                 {
<a name="l00557"></a>00557                                         <span class="comment">/* TODO: encapsule this part to avoid code duplication! */</span>
<a name="l00558"></a>00558                                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00559"></a>00559                                         {
<a name="l00560"></a>00560                                                 t = <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>((i + <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a>) % nV) / <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>(nV-1);
<a name="l00561"></a>00561                                                 rampVal = farbound + (1.0-t) * <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> + t * <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a>;
<a name="l00562"></a>00562 
<a name="l00563"></a>00563                                                 <span class="keywordflow">if</span> ( lb_new == 0 )
<a name="l00564"></a>00564                                                         lb_new_far[i] = - rampVal;
<a name="l00565"></a>00565                                                 <span class="keywordflow">else</span>
<a name="l00566"></a>00566                                                         lb_new_far[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a> (- rampVal, lb_new[i]);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568                                                 <span class="keywordflow">if</span> ( ub_new == 0 )
<a name="l00569"></a>00569                                                         ub_new_far[i] = rampVal;
<a name="l00570"></a>00570                                                 <span class="keywordflow">else</span>
<a name="l00571"></a>00571                                                         ub_new_far[i] = <a class="code" href="Utils_8hpp.html#aa083f5ed6e68f9cf54621ab4dc072fcf">getMin</a> (rampVal, ub_new[i]);
<a name="l00572"></a>00572                                         }
<a name="l00573"></a>00573                                 }
<a name="l00574"></a>00574                                 <span class="keywordflow">else</span>
<a name="l00575"></a>00575                                 {
<a name="l00576"></a>00576                                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00577"></a>00577                                         {
<a name="l00578"></a>00578                                                 lb_new_far[i] = lb_new[i];
<a name="l00579"></a>00579                                                 ub_new_far[i] = ub_new[i];
<a name="l00580"></a>00580                                         }
<a name="l00581"></a>00581                                 }
<a name="l00582"></a>00582                         }
<a name="l00583"></a>00583                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a> )
<a name="l00584"></a>00584                         {
<a name="l00585"></a>00585                                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> tol = farbound * <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a9cc43ec93c854bd0302de1a940fda5dd">boundTolerance</a>;
<a name="l00586"></a>00586                                 <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a>;
<a name="l00587"></a>00587 
<a name="l00588"></a>00588                                 nFar = 0;
<a name="l00589"></a>00589                                 <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00590"></a>00590                                 {
<a name="l00591"></a>00591                                         <span class="keywordflow">if</span> ( ( ( lb_new == 0 ) || ( lb_new_far[i] &gt; lb_new[i] ) ) &amp;&amp; ( fabs ( lb_new_far[i] - <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] ) &lt; tol ) )
<a name="l00592"></a>00592                                                 ++nFar;
<a name="l00593"></a>00593                                         <span class="keywordflow">if</span> ( ( ( ub_new == 0 ) || ( ub_new_far[i] &lt; ub_new[i] ) ) &amp;&amp; ( fabs ( ub_new_far[i] - <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] ) &lt; tol ) )
<a name="l00594"></a>00594                                                 ++nFar;
<a name="l00595"></a>00595                                 }
<a name="l00596"></a>00596 
<a name="l00597"></a>00597                                 <span class="keywordflow">if</span> ( nFar == 0 )
<a name="l00598"></a>00598                                         <span class="keywordflow">break</span>;
<a name="l00599"></a>00599 
<a name="l00600"></a>00600                                 <span class="keywordflow">if</span> ( farbound &gt; maxFarbound )
<a name="l00601"></a>00601                                 {
<a name="l00602"></a>00602                                         <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l00603"></a>00603                                         returnvalue = <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadfc914d50d132f250df763ba5908246e">RET_HOTSTART_STOPPED_UNBOUNDEDNESS</a>;
<a name="l00604"></a>00604                                         <span class="keywordflow">goto</span> farewell;
<a name="l00605"></a>00605                                 }
<a name="l00606"></a>00606 
<a name="l00607"></a>00607                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a8346f6e9a849cc3da7cbbede72a10196">enableRamping</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00608"></a>00608                                 {
<a name="l00609"></a>00609                                         <span class="comment">/* TODO: encapsule this part to avoid code duplication! */</span>
<a name="l00610"></a>00610                                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00611"></a>00611                                         {
<a name="l00612"></a>00612                                                 t = <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>((i + <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a>) % nV) / <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>(nV-1);
<a name="l00613"></a>00613                                                 rampVal = farbound + (1.0-t) * <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> + t * <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a>;
<a name="l00614"></a>00614 
<a name="l00615"></a>00615                                                 <span class="keywordflow">if</span> ( lb_new == 0 )
<a name="l00616"></a>00616                                                         lb_new_far[i] = - rampVal;
<a name="l00617"></a>00617                                                 <span class="keywordflow">else</span>
<a name="l00618"></a>00618                                                         lb_new_far[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a> (- rampVal, lb_new[i]);
<a name="l00619"></a>00619 
<a name="l00620"></a>00620                                                 <span class="keywordflow">if</span> ( ub_new == 0 )
<a name="l00621"></a>00621                                                         ub_new_far[i] = rampVal;
<a name="l00622"></a>00622                                                 <span class="keywordflow">else</span>
<a name="l00623"></a>00623                                                         ub_new_far[i] = <a class="code" href="Utils_8hpp.html#aa083f5ed6e68f9cf54621ab4dc072fcf">getMin</a> (rampVal, ub_new[i]);
<a name="l00624"></a>00624                                         }
<a name="l00625"></a>00625                                 }
<a name="l00626"></a>00626                                 <span class="keywordflow">else</span>
<a name="l00627"></a>00627                                 {
<a name="l00628"></a>00628                                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l00629"></a>00629                                         {
<a name="l00630"></a>00630                                                 lb_new_far[i] = lb_new[i];
<a name="l00631"></a>00631                                                 ub_new_far[i] = ub_new[i];
<a name="l00632"></a>00632                                         }
<a name="l00633"></a>00633                                 }
<a name="l00634"></a>00634                         }
<a name="l00635"></a>00635                         <span class="keywordflow">else</span>
<a name="l00636"></a>00636                         {
<a name="l00637"></a>00637                                 <span class="comment">/* some other error */</span>
<a name="l00638"></a>00638                                 <span class="keywordflow">break</span>;
<a name="l00639"></a>00639                         }
<a name="l00640"></a>00640 
<a name="l00641"></a>00641                         <span class="comment">/* advance ramp offset to avoid Ramping cycles */</span>
<a name="l00642"></a>00642                         <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a>++;
<a name="l00643"></a>00643                 }
<a name="l00644"></a>00644 
<a name="l00645"></a>00645                 farewell:
<a name="l00646"></a>00646                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l00647"></a>00647                                 *cputime = cputime_needed;
<a name="l00648"></a>00648                         <span class="keyword">delete</span>[] lb_new_far; <span class="keyword">delete</span>[] ub_new_far;
<a name="l00649"></a>00649         }
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         <span class="keywordflow">return</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> ) ? <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue ) : returnvalue;
<a name="l00652"></a>00652 }
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 
<a name="l00655"></a>00655 <span class="comment">/*</span>
<a name="l00656"></a>00656 <span class="comment"> *      h o t s t a r t</span>
<a name="l00657"></a>00657 <span class="comment"> */</span>
<a name="l00658"></a><a class="code" href="classQProblemB.html#a4806dbbdca448bc76123b0a7c1b5400b">00658</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">QProblemB::hotstart</a>(        <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> g_file,
<a name="l00659"></a>00659                                                                         <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> lb_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> ub_file,
<a name="l00660"></a>00660                                                                         <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime
<a name="l00661"></a>00661                                                                         )
<a name="l00662"></a>00662 {
<a name="l00663"></a>00663         <span class="keywordtype">int</span> nV  = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00664"></a>00664 
<a name="l00665"></a>00665         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00666"></a>00666                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         <span class="comment">/* consistency check */</span>
<a name="l00669"></a>00669         <span class="keywordflow">if</span> ( g_file == 0 )
<a name="l00670"></a>00670                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00671"></a>00671 
<a name="l00672"></a>00672 
<a name="l00673"></a>00673         <span class="comment">/* 1) Allocate memory (if bounds exist). */</span>
<a name="l00674"></a>00674         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* g_new  = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00675"></a>00675         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* lb_new = 0;
<a name="l00676"></a>00676         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* ub_new = 0;
<a name="l00677"></a>00677 
<a name="l00678"></a>00678         <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l00679"></a>00679                 lb_new = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00680"></a>00680         <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l00681"></a>00681                 ub_new = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00682"></a>00682 
<a name="l00683"></a>00683         <span class="comment">/* 2) Load new QP vectors from file. */</span>
<a name="l00684"></a>00684         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue;
<a name="l00685"></a>00685         returnvalue = <a class="code" href="classQProblemB.html#ae259361d8fafaaef726effba9d63c95b">loadQPvectorsFromFile</a>(    g_file,lb_file,ub_file,
<a name="l00686"></a>00686                                                                                         g_new,lb_new,ub_new
<a name="l00687"></a>00687                                                                                         );
<a name="l00688"></a>00688         <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00689"></a>00689         {
<a name="l00690"></a>00690                 <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l00691"></a>00691                         <span class="keyword">delete</span>[] ub_new;
<a name="l00692"></a>00692                 <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l00693"></a>00693                         <span class="keyword">delete</span>[] lb_new;
<a name="l00694"></a>00694                 <span class="keyword">delete</span>[] g_new;
<a name="l00695"></a>00695 
<a name="l00696"></a>00696                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea75a82ee30ebf002f5f8092258bafa76a">RET_UNABLE_TO_READ_FILE</a> );
<a name="l00697"></a>00697         }
<a name="l00698"></a>00698 
<a name="l00699"></a>00699         <span class="comment">/* 3) Actually perform hotstart. */</span>
<a name="l00700"></a>00700         returnvalue = <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">hotstart</a>( g_new,lb_new,ub_new, nWSR,cputime );
<a name="l00701"></a>00701 
<a name="l00702"></a>00702         <span class="comment">/* 4) Free memory. */</span>
<a name="l00703"></a>00703         <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l00704"></a>00704                 <span class="keyword">delete</span>[] ub_new;
<a name="l00705"></a>00705         <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l00706"></a>00706                 <span class="keyword">delete</span>[] lb_new;
<a name="l00707"></a>00707         <span class="keyword">delete</span>[] g_new;
<a name="l00708"></a>00708 
<a name="l00709"></a>00709         <span class="keywordflow">return</span> returnvalue;
<a name="l00710"></a>00710 }
<a name="l00711"></a>00711 
<a name="l00712"></a>00712 
<a name="l00713"></a>00713 <span class="comment">/*</span>
<a name="l00714"></a>00714 <span class="comment"> *      h o t s t a r t</span>
<a name="l00715"></a>00715 <span class="comment"> */</span>
<a name="l00716"></a><a class="code" href="classQProblemB.html#aab13eb93ae331a62f72f812d5e42a664">00716</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">QProblemB::hotstart</a>(        <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new,
<a name="l00717"></a>00717                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new,
<a name="l00718"></a>00718                                                                         <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime,
<a name="l00719"></a>00719                                                                         <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds
<a name="l00720"></a>00720                                                                         )
<a name="l00721"></a>00721 {
<a name="l00722"></a>00722         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00723"></a>00723 
<a name="l00724"></a>00724         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00725"></a>00725                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00726"></a>00726 
<a name="l00727"></a>00727 
<a name="l00728"></a>00728         <span class="comment">/* start runtime measurement */</span>
<a name="l00729"></a>00729         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> starttime = 0.0;
<a name="l00730"></a>00730         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l00731"></a>00731                 starttime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( );
<a name="l00732"></a>00732 
<a name="l00733"></a>00733 
<a name="l00734"></a>00734         <span class="comment">/* 1) Update working set according to guess for working set of bounds. */</span>
<a name="l00735"></a>00735         <span class="keywordflow">if</span> ( guessedBounds != 0 )
<a name="l00736"></a>00736         {
<a name="l00737"></a>00737                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#aa241e899e7019423ee5bba4edc1f4d23">setupAuxiliaryQP</a>( guessedBounds ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00738"></a>00738                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l00739"></a>00739         }
<a name="l00740"></a>00740         <span class="keywordflow">else</span>
<a name="l00741"></a>00741         {
<a name="l00742"></a>00742                 <span class="comment">/* create empty bounds for setting up auxiliary QP */</span>
<a name="l00743"></a>00743                 <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a> emptyBounds( nV );
<a name="l00744"></a>00744                 <span class="keywordflow">if</span> ( emptyBounds.<a class="code" href="classBounds.html#ae2f0eb4f34eb9a16b7d036ce23fa7ad0">setupAllFree</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00745"></a>00745                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l00746"></a>00746 
<a name="l00747"></a>00747                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#aa241e899e7019423ee5bba4edc1f4d23">setupAuxiliaryQP</a>( &amp;emptyBounds ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00748"></a>00748                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l00749"></a>00749         }
<a name="l00750"></a>00750 
<a name="l00751"></a>00751         <span class="comment">/* 2) Perform usual homotopy. */</span>
<a name="l00752"></a>00752 
<a name="l00753"></a>00753         <span class="comment">/* Allow only remaining CPU time for usual hotstart. */</span>
<a name="l00754"></a>00754         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l00755"></a>00755                 *cputime -= <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l00756"></a>00756 
<a name="l00757"></a>00757         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue = <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">hotstart</a>( g_new,lb_new,ub_new, nWSR,cputime );
<a name="l00758"></a>00758 
<a name="l00759"></a>00759         <span class="comment">/* stop runtime measurement */</span>
<a name="l00760"></a>00760         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l00761"></a>00761                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l00762"></a>00762 
<a name="l00763"></a>00763         <span class="keywordflow">return</span> returnvalue;
<a name="l00764"></a>00764 }
<a name="l00765"></a>00765 
<a name="l00766"></a>00766 
<a name="l00767"></a>00767 <span class="comment">/*</span>
<a name="l00768"></a>00768 <span class="comment"> *      h o t s t a r t</span>
<a name="l00769"></a>00769 <span class="comment"> */</span>
<a name="l00770"></a><a class="code" href="classQProblemB.html#ae66c51f20ffcb48b09ef1b40cc833095">00770</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">QProblemB::hotstart</a>(        <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> g_file,
<a name="l00771"></a>00771                                                                         <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> lb_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> ub_file,
<a name="l00772"></a>00772                                                                         <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime,
<a name="l00773"></a>00773                                                                         <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds
<a name="l00774"></a>00774                                                                         )
<a name="l00775"></a>00775 {
<a name="l00776"></a>00776         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00777"></a>00777 
<a name="l00778"></a>00778         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00779"></a>00779                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea149376c1abe7c87dc927566e4e60af10">RET_QPOBJECT_NOT_SETUP</a> );
<a name="l00780"></a>00780 
<a name="l00781"></a>00781         <span class="comment">/* consistency check */</span>
<a name="l00782"></a>00782         <span class="keywordflow">if</span> ( g_file == 0 )
<a name="l00783"></a>00783                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l00784"></a>00784 
<a name="l00785"></a>00785 
<a name="l00786"></a>00786         <span class="comment">/* 1) Allocate memory (if bounds exist). */</span>
<a name="l00787"></a>00787         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* g_new  = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00788"></a>00788         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* lb_new = 0;
<a name="l00789"></a>00789         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* ub_new = 0;
<a name="l00790"></a>00790 
<a name="l00791"></a>00791         <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l00792"></a>00792                 lb_new = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00793"></a>00793         <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l00794"></a>00794                 ub_new = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00795"></a>00795 
<a name="l00796"></a>00796         <span class="comment">/* 2) Load new QP vectors from file. */</span>
<a name="l00797"></a>00797         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue;
<a name="l00798"></a>00798         returnvalue = <a class="code" href="classQProblemB.html#ae259361d8fafaaef726effba9d63c95b">loadQPvectorsFromFile</a>(    g_file,lb_file,ub_file,
<a name="l00799"></a>00799                                                                                         g_new,lb_new,ub_new
<a name="l00800"></a>00800                                                                                         );
<a name="l00801"></a>00801         <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l00802"></a>00802         {
<a name="l00803"></a>00803                 <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l00804"></a>00804                         <span class="keyword">delete</span>[] ub_new;
<a name="l00805"></a>00805                 <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l00806"></a>00806                         <span class="keyword">delete</span>[] lb_new;
<a name="l00807"></a>00807                 <span class="keyword">delete</span>[] g_new;
<a name="l00808"></a>00808 
<a name="l00809"></a>00809                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea75a82ee30ebf002f5f8092258bafa76a">RET_UNABLE_TO_READ_FILE</a> );
<a name="l00810"></a>00810         }
<a name="l00811"></a>00811 
<a name="l00812"></a>00812         <span class="comment">/* 3) Actually perform hotstart using initialised homotopy. */</span>
<a name="l00813"></a>00813         returnvalue = <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">hotstart</a>( g_new,lb_new,ub_new, nWSR,cputime,
<a name="l00814"></a>00814                                                         guessedBounds
<a name="l00815"></a>00815                                                         );
<a name="l00816"></a>00816 
<a name="l00817"></a>00817         <span class="comment">/* 4) Free memory. */</span>
<a name="l00818"></a>00818         <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l00819"></a>00819                 <span class="keyword">delete</span>[] ub_new;
<a name="l00820"></a>00820         <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l00821"></a>00821                 <span class="keyword">delete</span>[] lb_new;
<a name="l00822"></a>00822         <span class="keyword">delete</span>[] g_new;
<a name="l00823"></a>00823 
<a name="l00824"></a>00824         <span class="keywordflow">return</span> returnvalue;
<a name="l00825"></a>00825 }
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 
<a name="l00828"></a>00828 <span class="comment">/*</span>
<a name="l00829"></a>00829 <span class="comment"> *      g e t N Z</span>
<a name="l00830"></a>00830 <span class="comment"> */</span>
<a name="l00831"></a><a class="code" href="classQProblemB.html#aa14b698cecac984c3084eccdd4de2848">00831</a> <span class="keywordtype">int</span> <a class="code" href="classQProblemB.html#aa14b698cecac984c3084eccdd4de2848">QProblemB::getNZ</a>( )<span class="keyword"> const</span>
<a name="l00832"></a>00832 <span class="keyword"></span>{
<a name="l00833"></a>00833         <span class="comment">/* if no constraints are present: nZ=nFR */</span>
<a name="l00834"></a>00834         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l00835"></a>00835 }
<a name="l00836"></a>00836 
<a name="l00837"></a>00837 
<a name="l00838"></a>00838 <span class="comment">/*</span>
<a name="l00839"></a>00839 <span class="comment"> *      g e t O b j V a l</span>
<a name="l00840"></a>00840 <span class="comment"> */</span>
<a name="l00841"></a><a class="code" href="classQProblemB.html#a3f204b057ad15d9c8eaf79fa8839f750">00841</a> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> <a class="code" href="classQProblemB.html#a3f204b057ad15d9c8eaf79fa8839f750">QProblemB::getObjVal</a>( )<span class="keyword"> const</span>
<a name="l00842"></a>00842 <span class="keyword"></span>{
<a name="l00843"></a>00843         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> objVal;
<a name="l00844"></a>00844 
<a name="l00845"></a>00845         <span class="comment">/* calculated optimal objective function value</span>
<a name="l00846"></a>00846 <span class="comment">         * only if current QP has been solved */</span>
<a name="l00847"></a>00847         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a> ) ||
<a name="l00848"></a>00848                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a> )  ||
<a name="l00849"></a>00849                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a> ) )
<a name="l00850"></a>00850         {
<a name="l00851"></a>00851                 objVal = <a class="code" href="classQProblemB.html#a3f204b057ad15d9c8eaf79fa8839f750">getObjVal</a>( <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> );
<a name="l00852"></a>00852         }
<a name="l00853"></a>00853         <span class="keywordflow">else</span>
<a name="l00854"></a>00854         {
<a name="l00855"></a>00855                 objVal = <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l00856"></a>00856         }
<a name="l00857"></a>00857 
<a name="l00858"></a>00858         <span class="keywordflow">return</span> objVal;
<a name="l00859"></a>00859 }
<a name="l00860"></a>00860 
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 <span class="comment">/*</span>
<a name="l00863"></a>00863 <span class="comment"> *      g e t O b j V a l</span>
<a name="l00864"></a>00864 <span class="comment"> */</span>
<a name="l00865"></a><a class="code" href="classQProblemB.html#a24399fcd7a7639f9f89cf376e15798ce">00865</a> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> <a class="code" href="classQProblemB.html#a3f204b057ad15d9c8eaf79fa8839f750">QProblemB::getObjVal</a>( <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _x )<span class="keyword"> const</span>
<a name="l00866"></a>00866 <span class="keyword"></span>{
<a name="l00867"></a>00867         <span class="keywordtype">int</span> i;
<a name="l00868"></a>00868         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l00869"></a>00869 
<a name="l00870"></a>00870         <span class="keywordflow">if</span> ( nV == 0 )
<a name="l00871"></a>00871                 <span class="keywordflow">return</span> 0.0;
<a name="l00872"></a>00872 
<a name="l00873"></a>00873         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> objVal = 0.0;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00876"></a>00876                 objVal += _x[i]*<a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i];
<a name="l00877"></a>00877 
<a name="l00878"></a>00878         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> )
<a name="l00879"></a>00879         {
<a name="l00880"></a>00880                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>:
<a name="l00881"></a>00881                         <span class="keywordflow">break</span>;
<a name="l00882"></a>00882 
<a name="l00883"></a>00883                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a>:
<a name="l00884"></a>00884                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00885"></a>00885                                 objVal += 0.5*_x[i]*_x[i];
<a name="l00886"></a>00886                         <span class="keywordflow">break</span>;
<a name="l00887"></a>00887 
<a name="l00888"></a>00888                 <span class="keywordflow">default</span>:
<a name="l00889"></a>00889                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> *Hx = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l00890"></a>00890                         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(1, 1.0, _x, nV, 0.0, Hx, nV);
<a name="l00891"></a>00891                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00892"></a>00892                                 objVal += 0.5*_x[i]*Hx[i];
<a name="l00893"></a>00893                         <span class="keyword">delete</span>[] Hx;
<a name="l00894"></a>00894                         <span class="keywordflow">break</span>;
<a name="l00895"></a>00895         }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897         <span class="comment">/* When using regularisation, the objective function value</span>
<a name="l00898"></a>00898 <span class="comment">         * needs to be modified as follows:</span>
<a name="l00899"></a>00899 <span class="comment">         * objVal = objVal - 0.5*_x*(Hmod-H)*_x - _x&#39;*(gMod-g)</span>
<a name="l00900"></a>00900 <span class="comment">         *        = objVal - 0.5*_x*eps*_x * - _x&#39;*(-eps*_x)</span>
<a name="l00901"></a>00901 <span class="comment">         *        = objVal + 0.5*_x*eps*_x */</span>
<a name="l00902"></a>00902         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l00903"></a>00903         {
<a name="l00904"></a>00904                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l00905"></a>00905                         objVal += 0.5*_x[i]*<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a>*_x[i];
<a name="l00906"></a>00906         }
<a name="l00907"></a>00907 
<a name="l00908"></a>00908         <span class="keywordflow">return</span> objVal;
<a name="l00909"></a>00909 }
<a name="l00910"></a>00910 
<a name="l00911"></a>00911 
<a name="l00912"></a>00912 <span class="comment">/*</span>
<a name="l00913"></a>00913 <span class="comment"> *      g e t P r i m a l S o l u t i o n</span>
<a name="l00914"></a>00914 <span class="comment"> */</span>
<a name="l00915"></a><a class="code" href="classQProblemB.html#a607c62c249e783aaafe62035dfa694f7">00915</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a607c62c249e783aaafe62035dfa694f7">QProblemB::getPrimalSolution</a>( <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt )<span class="keyword"> const</span>
<a name="l00916"></a>00916 <span class="keyword"></span>{
<a name="l00917"></a>00917         <span class="keywordtype">int</span> i;
<a name="l00918"></a>00918 
<a name="l00919"></a>00919         <span class="comment">/* return optimal primal solution vector</span>
<a name="l00920"></a>00920 <span class="comment">         * only if current QP has been solved */</span>
<a name="l00921"></a>00921         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a> ) ||
<a name="l00922"></a>00922                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a> )  ||
<a name="l00923"></a>00923                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a> ) )
<a name="l00924"></a>00924         {
<a name="l00925"></a>00925                 <span class="keywordflow">for</span>( i=0; i&lt;<a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ); ++i )
<a name="l00926"></a>00926                         xOpt[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l00927"></a>00927 
<a name="l00928"></a>00928                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l00929"></a>00929         }
<a name="l00930"></a>00930         <span class="keywordflow">else</span>
<a name="l00931"></a>00931         {
<a name="l00932"></a>00932                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea287dca546b474635c6d5622e921569c4">RET_QP_NOT_SOLVED</a>;
<a name="l00933"></a>00933         }
<a name="l00934"></a>00934 }
<a name="l00935"></a>00935 
<a name="l00936"></a>00936 
<a name="l00937"></a>00937 <span class="comment">/*</span>
<a name="l00938"></a>00938 <span class="comment"> *      g e t D u a l S o l u t i o n</span>
<a name="l00939"></a>00939 <span class="comment"> */</span>
<a name="l00940"></a><a class="code" href="classQProblemB.html#ac00fdae764050f708820a38350006f63">00940</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ac00fdae764050f708820a38350006f63">QProblemB::getDualSolution</a>( <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt )<span class="keyword"> const</span>
<a name="l00941"></a>00941 <span class="keyword"></span>{
<a name="l00942"></a>00942         <span class="keywordtype">int</span> i;
<a name="l00943"></a>00943 
<a name="l00944"></a>00944         <span class="keywordflow">for</span>( i=0; i&lt;<a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ); ++i )
<a name="l00945"></a>00945                 yOpt[i] = <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i];
<a name="l00946"></a>00946 
<a name="l00947"></a>00947         <span class="comment">/* return optimal dual solution vector</span>
<a name="l00948"></a>00948 <span class="comment">         * only if current QP has been solved */</span>
<a name="l00949"></a>00949         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a> ) ||
<a name="l00950"></a>00950                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a> )  ||
<a name="l00951"></a>00951                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a> ) )
<a name="l00952"></a>00952         {
<a name="l00953"></a>00953                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l00954"></a>00954         }
<a name="l00955"></a>00955         <span class="keywordflow">else</span>
<a name="l00956"></a>00956         {
<a name="l00957"></a>00957                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea287dca546b474635c6d5622e921569c4">RET_QP_NOT_SOLVED</a>;
<a name="l00958"></a>00958         }
<a name="l00959"></a>00959 }
<a name="l00960"></a>00960 
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 <span class="comment">/*</span>
<a name="l00963"></a>00963 <span class="comment"> *      s e t P r i n t L e v e l</span>
<a name="l00964"></a>00964 <span class="comment"> */</span>
<a name="l00965"></a><a class="code" href="classQProblemB.html#a2be2208a1befa1f7fa03f3c11d91ae7b">00965</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a2be2208a1befa1f7fa03f3c11d91ae7b">QProblemB::setPrintLevel</a>( <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5">PrintLevel</a> _printLevel )
<a name="l00966"></a>00966 {
<a name="l00967"></a>00967 <span class="preprocessor">        #ifndef __MATLAB__</span>
<a name="l00968"></a>00968 <span class="preprocessor"></span>        <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> == <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a7c08272588ef93a63665031fe77a4cb2">PL_HIGH</a> ) &amp;&amp; ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> != _printLevel ) )
<a name="l00969"></a>00969                 <a class="code" href="MessageHandling_8hpp.html#a0ef7741d67176593da953e5baa206ce9">THROWINFO</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaecbac7749bbe727bec1ead039a59c1a5">RET_PRINTLEVEL_CHANGED</a> );
<a name="l00970"></a>00970 <span class="preprocessor">        #endif</span>
<a name="l00971"></a>00971 <span class="preprocessor"></span>
<a name="l00972"></a>00972         <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> = _printLevel;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974         <span class="comment">/* update message handler preferences */</span>
<a name="l00975"></a>00975         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> )
<a name="l00976"></a>00976         {
<a name="l00977"></a>00977                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5adc65f3981990b7c1d51fe94a776a6b70">PL_TABULAR</a>:
<a name="l00978"></a>00978                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a8f8368df28c91ba1e51b3977a7ea8ac8">PL_NONE</a>:
<a name="l00979"></a>00979                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a31f12baabf23d05c97e2da9dbd8adf6e">setErrorVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1acc5dfba7e128cac462925a6564a55a97">VS_HIDDEN</a> );
<a name="l00980"></a>00980                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aaa411b35b599fe59c57b94e0eb0f2728">setWarningVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1acc5dfba7e128cac462925a6564a55a97">VS_HIDDEN</a> );
<a name="l00981"></a>00981                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#ac1f2497e237ab552f408db52e7ba6359">setInfoVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1acc5dfba7e128cac462925a6564a55a97">VS_HIDDEN</a> );
<a name="l00982"></a>00982                         <span class="keywordflow">break</span>;
<a name="l00983"></a>00983 
<a name="l00984"></a>00984                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5aa88c0e6f4348323d414d5153a13187be">PL_LOW</a>:
<a name="l00985"></a>00985 <span class="preprocessor">                        #ifndef __XPCTARGET__</span>
<a name="l00986"></a>00986 <span class="preprocessor"></span>                        <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a31f12baabf23d05c97e2da9dbd8adf6e">setErrorVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l00987"></a>00987                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aaa411b35b599fe59c57b94e0eb0f2728">setWarningVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1acc5dfba7e128cac462925a6564a55a97">VS_HIDDEN</a> );
<a name="l00988"></a>00988                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#ac1f2497e237ab552f408db52e7ba6359">setInfoVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1acc5dfba7e128cac462925a6564a55a97">VS_HIDDEN</a> );
<a name="l00989"></a>00989 <span class="preprocessor">                        #endif</span>
<a name="l00990"></a>00990 <span class="preprocessor"></span>                        <span class="keywordflow">break</span>;
<a name="l00991"></a>00991 
<a name="l00992"></a>00992                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5ad4184c636ebb71d54bd55080e3e5a4a4">PL_MEDIUM</a>:
<a name="l00993"></a>00993 <span class="preprocessor">                        #ifndef __XPCTARGET__</span>
<a name="l00994"></a>00994 <span class="preprocessor"></span>                        <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a31f12baabf23d05c97e2da9dbd8adf6e">setErrorVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l00995"></a>00995                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aaa411b35b599fe59c57b94e0eb0f2728">setWarningVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l00996"></a>00996                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#ac1f2497e237ab552f408db52e7ba6359">setInfoVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1acc5dfba7e128cac462925a6564a55a97">VS_HIDDEN</a> );
<a name="l00997"></a>00997 <span class="preprocessor">                        #endif</span>
<a name="l00998"></a>00998 <span class="preprocessor"></span>                        <span class="keywordflow">break</span>;
<a name="l00999"></a>00999 
<a name="l01000"></a>01000                 <span class="keywordflow">default</span>: <span class="comment">/* PL_HIGH */</span>
<a name="l01001"></a>01001 <span class="preprocessor">                        #ifndef __XPCTARGET__</span>
<a name="l01002"></a>01002 <span class="preprocessor"></span>                        <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a31f12baabf23d05c97e2da9dbd8adf6e">setErrorVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l01003"></a>01003                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#aaa411b35b599fe59c57b94e0eb0f2728">setWarningVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l01004"></a>01004                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#ac1f2497e237ab552f408db52e7ba6359">setInfoVisibilityStatus</a>( <a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l01005"></a>01005 <span class="preprocessor">                        #endif</span>
<a name="l01006"></a>01006 <span class="preprocessor"></span>                        <span class="keywordflow">break</span>;
<a name="l01007"></a>01007         }
<a name="l01008"></a>01008 
<a name="l01009"></a>01009         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01010"></a>01010 }
<a name="l01011"></a>01011 
<a name="l01012"></a>01012 
<a name="l01013"></a>01013 <span class="comment">/*</span>
<a name="l01014"></a>01014 <span class="comment"> *      p r i n t P r o p e r t i e s</span>
<a name="l01015"></a>01015 <span class="comment"> */</span>
<a name="l01016"></a><a class="code" href="classQProblemB.html#a587077ee58951d181f89674fd9c15f7b">01016</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a587077ee58951d181f89674fd9c15f7b">QProblemB::printProperties</a>( )
<a name="l01017"></a>01017 {
<a name="l01018"></a>01018 <span class="preprocessor">        #ifndef __XPCTARGET__</span>
<a name="l01019"></a>01019 <span class="preprocessor"></span><span class="preprocessor">        #ifndef __DSPACE__</span>
<a name="l01020"></a>01020 <span class="preprocessor"></span>        <span class="comment">/* Do not print properties if print level is set to none! */</span>
<a name="l01021"></a>01021         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> == <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a8f8368df28c91ba1e51b3977a7ea8ac8">PL_NONE</a> )
<a name="l01022"></a>01022                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01023"></a>01023 
<a name="l01024"></a>01024         <span class="keywordtype">char</span> myPrintfString[80];
<a name="l01025"></a>01025 
<a name="l01026"></a>01026         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;\n#################   qpOASES  --  QP PROPERTIES   #################\n&quot;</span> );
<a name="l01027"></a>01027         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01028"></a>01028 
<a name="l01029"></a>01029         <span class="comment">/* 1) Variables properties. */</span>
<a name="l01030"></a>01030         snprintf( myPrintfString,80,  <span class="stringliteral">&quot;Number of Variables: %4.1d\n&quot;</span>,<a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ) );
<a name="l01031"></a>01031         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( myPrintfString );
<a name="l01032"></a>01032 
<a name="l01033"></a>01033         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#af4b7739129483c2d7e67048f5f5ed54b">hasNoLower</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01034"></a>01034                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Variables are not bounded from below.\n&quot;</span> );
<a name="l01035"></a>01035                 <span class="keywordflow">else</span>
<a name="l01036"></a>01036                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Variables are bounded from below.\n&quot;</span> );
<a name="l01037"></a>01037 
<a name="l01038"></a>01038         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a53058aa23ff9f956de32494ae2d3eab2">hasNoUpper</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01039"></a>01039                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Variables are not bounded from above.\n&quot;</span> );
<a name="l01040"></a>01040                 <span class="keywordflow">else</span>
<a name="l01041"></a>01041                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Variables are bounded from above.\n&quot;</span> );
<a name="l01042"></a>01042 
<a name="l01043"></a>01043         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01044"></a>01044 
<a name="l01045"></a>01045 
<a name="l01046"></a>01046         <span class="comment">/* 2) Further properties. */</span>
<a name="l01047"></a>01047         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> )
<a name="l01048"></a>01048         {
<a name="l01049"></a>01049                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>:
<a name="l01050"></a>01050                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Hessian is zero matrix (i.e. actually an LP is solved).\n&quot;</span> );
<a name="l01051"></a>01051                         <span class="keywordflow">break</span>;
<a name="l01052"></a>01052 
<a name="l01053"></a>01053                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a>:
<a name="l01054"></a>01054                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Hessian is identity matrix.\n&quot;</span> );
<a name="l01055"></a>01055                         <span class="keywordflow">break</span>;
<a name="l01056"></a>01056 
<a name="l01057"></a>01057                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a920b0622e0d6bc3e2f659ca878480bd2">HST_POSDEF</a>:
<a name="l01058"></a>01058                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Hessian matrix is (strictly) positive definite.\n&quot;</span> );
<a name="l01059"></a>01059                         <span class="keywordflow">break</span>;
<a name="l01060"></a>01060 
<a name="l01061"></a>01061                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a1e75e5ed8d1cfded9c619586b046ba2b">HST_POSDEF_NULLSPACE</a>:
<a name="l01062"></a>01062                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Hessian matrix is positive definite on null space of active constraints.\n&quot;</span> );
<a name="l01063"></a>01063                         <span class="keywordflow">break</span>;
<a name="l01064"></a>01064 
<a name="l01065"></a>01065                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a4bd6c8ccecaaf211801db7381f2361ec">HST_SEMIDEF</a>:
<a name="l01066"></a>01066                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Hessian matrix is positive semi-definite.\n&quot;</span> );
<a name="l01067"></a>01067                         <span class="keywordflow">break</span>;
<a name="l01068"></a>01068 
<a name="l01069"></a>01069                 <span class="keywordflow">default</span>:
<a name="l01070"></a>01070                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Hessian matrix has unknown type.\n&quot;</span> );
<a name="l01071"></a>01071                         <span class="keywordflow">break</span>;
<a name="l01072"></a>01072         }
<a name="l01073"></a>01073 
<a name="l01074"></a>01074         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01075"></a>01075                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;QP was found to be infeasible.\n&quot;</span> );
<a name="l01076"></a>01076         <span class="keywordflow">else</span>
<a name="l01077"></a>01077                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;QP seems to be feasible.\n&quot;</span> );
<a name="l01078"></a>01078 
<a name="l01079"></a>01079         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01080"></a>01080                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;QP was found to be unbounded from below.\n&quot;</span> );
<a name="l01081"></a>01081         <span class="keywordflow">else</span>
<a name="l01082"></a>01082                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;QP seems to be bounded from below.\n&quot;</span> );
<a name="l01083"></a>01083 
<a name="l01084"></a>01084         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01085"></a>01085 
<a name="l01086"></a>01086 
<a name="l01087"></a>01087         <span class="comment">/* 3) QP object properties. */</span>
<a name="l01088"></a>01088         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> )
<a name="l01089"></a>01089         {
<a name="l01090"></a>01090                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a>:
<a name="l01091"></a>01091                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Status of QP object: freshly instantiated or reset.\n&quot;</span> );
<a name="l01092"></a>01092                         <span class="keywordflow">break</span>;
<a name="l01093"></a>01093 
<a name="l01094"></a>01094                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac5afc0889e446a94b965bff2b1e823d6">QPS_PREPARINGAUXILIARYQP</a>:
<a name="l01095"></a>01095                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Status of QP object: an auxiliary QP is currently setup.\n&quot;</span> );
<a name="l01096"></a>01096                         <span class="keywordflow">break</span>;
<a name="l01097"></a>01097 
<a name="l01098"></a>01098                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a>:
<a name="l01099"></a>01099                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Status of QP object: an auxilary QP was solved.\n&quot;</span> );
<a name="l01100"></a>01100                         <span class="keywordflow">break</span>;
<a name="l01101"></a>01101 
<a name="l01102"></a>01102                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac817378114b9a25537c55a7b70bb0a4f">QPS_PERFORMINGHOMOTOPY</a>:
<a name="l01103"></a>01103                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Status of QP object: a homotopy step is performed.\n&quot;</span> );
<a name="l01104"></a>01104                         <span class="keywordflow">break</span>;
<a name="l01105"></a>01105 
<a name="l01106"></a>01106                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a>:
<a name="l01107"></a>01107                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Status of QP object: an intermediate QP along the homotopy path was solved.\n&quot;</span> );
<a name="l01108"></a>01108                         <span class="keywordflow">break</span>;
<a name="l01109"></a>01109 
<a name="l01110"></a>01110                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a>:
<a name="l01111"></a>01111                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Status of QP object: solution of the actual QP was found.\n&quot;</span> );
<a name="l01112"></a>01112                         <span class="keywordflow">break</span>;
<a name="l01113"></a>01113         }
<a name="l01114"></a>01114 
<a name="l01115"></a>01115         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> )
<a name="l01116"></a>01116         {
<a name="l01117"></a>01117                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5aa88c0e6f4348323d414d5153a13187be">PL_LOW</a>:
<a name="l01118"></a>01118                                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Print level of QP object is low, i.e. only error are printed.\n&quot;</span> );
<a name="l01119"></a>01119                         <span class="keywordflow">break</span>;
<a name="l01120"></a>01120 
<a name="l01121"></a>01121                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5ad4184c636ebb71d54bd55080e3e5a4a4">PL_MEDIUM</a>:
<a name="l01122"></a>01122                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Print level of QP object is medium, i.e. error and warnings are printed.\n&quot;</span> );
<a name="l01123"></a>01123                         <span class="keywordflow">break</span>;
<a name="l01124"></a>01124 
<a name="l01125"></a>01125                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a7c08272588ef93a63665031fe77a4cb2">PL_HIGH</a>:
<a name="l01126"></a>01126                         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;Print level of QP object is high, i.e. all available output is printed.\n&quot;</span> );
<a name="l01127"></a>01127                         <span class="keywordflow">break</span>;
<a name="l01128"></a>01128 
<a name="l01129"></a>01129                 <span class="keywordflow">default</span>:
<a name="l01130"></a>01130                         <span class="keywordflow">break</span>;
<a name="l01131"></a>01131         }
<a name="l01132"></a>01132 
<a name="l01133"></a>01133         <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;\n&quot;</span> );
<a name="l01134"></a>01134 <span class="preprocessor">        #endif</span>
<a name="l01135"></a>01135 <span class="preprocessor"></span><span class="preprocessor">        #endif</span>
<a name="l01136"></a>01136 <span class="preprocessor"></span>
<a name="l01137"></a>01137         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01138"></a>01138 }
<a name="l01139"></a>01139 
<a name="l01140"></a>01140 
<a name="l01141"></a><a class="code" href="classQProblemB.html#a9f3516be7c3f59eddee7788172e7a4e6">01141</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a9f3516be7c3f59eddee7788172e7a4e6">QProblemB::printOptions</a>( )<span class="keyword"> const</span>
<a name="l01142"></a>01142 <span class="keyword"></span>{
<a name="l01143"></a>01143         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a24f5eded5c6d6ea7e7a88a78248687d1">print</a>( );
<a name="l01144"></a>01144 }
<a name="l01145"></a>01145 
<a name="l01146"></a>01146 
<a name="l01147"></a>01147 
<a name="l01148"></a>01148 <span class="comment">/*****************************************************************************</span>
<a name="l01149"></a>01149 <span class="comment"> *  P R O T E C T E D                                                        *</span>
<a name="l01150"></a>01150 <span class="comment"> *****************************************************************************/</span>
<a name="l01151"></a>01151 
<a name="l01152"></a>01152 <span class="comment">/*</span>
<a name="l01153"></a>01153 <span class="comment"> *      c l e a r</span>
<a name="l01154"></a>01154 <span class="comment"> */</span>
<a name="l01155"></a><a class="code" href="classQProblemB.html#a957104bb5ebd44cd9d37878c2b6e8a52">01155</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a957104bb5ebd44cd9d37878c2b6e8a52">QProblemB::clear</a>( )
<a name="l01156"></a>01156 {
<a name="l01157"></a>01157         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) &amp;&amp; ( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> != 0 ) )
<a name="l01158"></a>01158         {
<a name="l01159"></a>01159                 <span class="keyword">delete</span> <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>;
<a name="l01160"></a>01160                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> = 0;
<a name="l01161"></a>01161         }
<a name="l01162"></a>01162 
<a name="l01163"></a>01163         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> != 0 )
<a name="l01164"></a>01164         {
<a name="l01165"></a>01165                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>;
<a name="l01166"></a>01166                 <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> = 0;
<a name="l01167"></a>01167         }
<a name="l01168"></a>01168 
<a name="l01169"></a>01169         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> != 0 )
<a name="l01170"></a>01170         {
<a name="l01171"></a>01171                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>;
<a name="l01172"></a>01172                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> = 0;
<a name="l01173"></a>01173         }
<a name="l01174"></a>01174 
<a name="l01175"></a>01175         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> != 0 )
<a name="l01176"></a>01176         {
<a name="l01177"></a>01177                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>;
<a name="l01178"></a>01178                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> = 0;
<a name="l01179"></a>01179         }
<a name="l01180"></a>01180 
<a name="l01181"></a>01181         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> != 0 )
<a name="l01182"></a>01182         {
<a name="l01183"></a>01183                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>;
<a name="l01184"></a>01184                 <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> = 0;
<a name="l01185"></a>01185         }
<a name="l01186"></a>01186 
<a name="l01187"></a>01187         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> != 0 )
<a name="l01188"></a>01188         {
<a name="l01189"></a>01189                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>;
<a name="l01190"></a>01190                 <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> = 0;
<a name="l01191"></a>01191         }
<a name="l01192"></a>01192 
<a name="l01193"></a>01193         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> != 0 )
<a name="l01194"></a>01194         {
<a name="l01195"></a>01195                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>;
<a name="l01196"></a>01196                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> = 0;
<a name="l01197"></a>01197         }
<a name="l01198"></a>01198 
<a name="l01199"></a>01199         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> != 0 )
<a name="l01200"></a>01200         {
<a name="l01201"></a>01201                 <span class="keyword">delete</span>[] <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>;
<a name="l01202"></a>01202                 <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> = 0;
<a name="l01203"></a>01203         }
<a name="l01204"></a>01204 
<a name="l01205"></a>01205         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01206"></a>01206 }
<a name="l01207"></a>01207 
<a name="l01208"></a>01208 
<a name="l01209"></a>01209 <span class="comment">/*</span>
<a name="l01210"></a>01210 <span class="comment"> *      c o p y</span>
<a name="l01211"></a>01211 <span class="comment"> */</span>
<a name="l01212"></a><a class="code" href="classQProblemB.html#aeb2920c00630c6643b05c8ee10d717ac">01212</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#aeb2920c00630c6643b05c8ee10d717ac">QProblemB::copy</a>(    <span class="keyword">const</span> <a class="code" href="classQProblemB.html" title="Implements the online active set strategy for box-constrained QPs.">QProblemB</a>&amp; rhs
<a name="l01213"></a>01213                                                                 )
<a name="l01214"></a>01214 {
<a name="l01215"></a>01215         <span class="keywordtype">int</span> _nV = rhs.<a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01216"></a>01216 
<a name="l01217"></a>01217         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a> = rhs.<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>;
<a name="l01218"></a>01218 
<a name="l01219"></a>01219         <a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a> = rhs.<a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a>;
<a name="l01220"></a>01220         
<a name="l01221"></a>01221         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a289ddec30e99470ebaa44aabd9f2ac7f">freeHessian</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01222"></a>01222                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classSymmetricMatrix.html" title="Abstract base class for interfacing matrix-vector operations tailored to symmetric matrices...">SymmetricMatrix</a> *<span class="keyword">&gt;</span>(rhs.<a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#abf41d80f7392e9d63e9b2fa4b822d3b9">duplicate</a>());
<a name="l01223"></a>01223         <span class="keywordflow">else</span>
<a name="l01224"></a>01224                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> = rhs.<a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>;
<a name="l01225"></a>01225 
<a name="l01226"></a>01226         <span class="keywordflow">if</span> ( rhs.<a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> != 0 )
<a name="l01227"></a>01227         {
<a name="l01228"></a>01228                 <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l01229"></a>01229                 <a class="code" href="classQProblemB.html#a4a907eb6c1a6ead3bf13335ce71ba069">setG</a>( rhs.<a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> );
<a name="l01230"></a>01230         }
<a name="l01231"></a>01231         <span class="keywordflow">else</span>
<a name="l01232"></a>01232                 <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a> = 0;
<a name="l01233"></a>01233 
<a name="l01234"></a>01234         <span class="keywordflow">if</span> ( rhs.<a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> != 0 )
<a name="l01235"></a>01235         {
<a name="l01236"></a>01236                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l01237"></a>01237                 <a class="code" href="classQProblemB.html#a7d3cb375ddce99f8728a9be54207d542">setLB</a>( rhs.<a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> );
<a name="l01238"></a>01238         }
<a name="l01239"></a>01239         <span class="keywordflow">else</span>
<a name="l01240"></a>01240                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a> = 0;
<a name="l01241"></a>01241 
<a name="l01242"></a>01242         <span class="keywordflow">if</span> ( rhs.<a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> != 0 )
<a name="l01243"></a>01243         {
<a name="l01244"></a>01244                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l01245"></a>01245                 <a class="code" href="classQProblemB.html#a529829d8e9a31570bbf11c26d7c3525a">setUB</a>( rhs.<a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> );
<a name="l01246"></a>01246         }
<a name="l01247"></a>01247         <span class="keywordflow">else</span>
<a name="l01248"></a>01248                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> = 0;
<a name="l01249"></a>01249 
<a name="l01250"></a>01250         <span class="keywordflow">if</span> ( rhs.<a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> != 0 )
<a name="l01251"></a>01251         {
<a name="l01252"></a>01252                 <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV*_nV];
<a name="l01253"></a>01253                 memcpy( <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>,rhs.<a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>,_nV*_nV*<span class="keyword">sizeof</span>(<a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>) );
<a name="l01254"></a>01254         }
<a name="l01255"></a>01255         <span class="keywordflow">else</span>
<a name="l01256"></a>01256                 <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> = 0;
<a name="l01257"></a>01257         
<a name="l01258"></a>01258         <a class="code" href="classQProblemB.html#a3647c70d0d4fba3f2afe2cca4d289102">haveCholesky</a> = rhs.<a class="code" href="classQProblemB.html#a3647c70d0d4fba3f2afe2cca4d289102">haveCholesky</a>;
<a name="l01259"></a>01259 
<a name="l01260"></a>01260         <span class="keywordflow">if</span> ( rhs.<a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> != 0 )
<a name="l01261"></a>01261         {
<a name="l01262"></a>01262                 <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l01263"></a>01263                 memcpy( <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>,rhs.<a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>,_nV*<span class="keyword">sizeof</span>(<a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>) );
<a name="l01264"></a>01264         }
<a name="l01265"></a>01265         <span class="keywordflow">else</span>
<a name="l01266"></a>01266                 <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> = 0;
<a name="l01267"></a>01267 
<a name="l01268"></a>01268         <span class="keywordflow">if</span> ( rhs.<a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> != 0 )
<a name="l01269"></a>01269         {
<a name="l01270"></a>01270                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];
<a name="l01271"></a>01271                 memcpy( <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>,rhs.<a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>,_nV*<span class="keyword">sizeof</span>(<a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>) );
<a name="l01272"></a>01272         }
<a name="l01273"></a>01273         <span class="keywordflow">else</span>
<a name="l01274"></a>01274                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> = 0;
<a name="l01275"></a>01275 
<a name="l01276"></a>01276         <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> = rhs.<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>;
<a name="l01277"></a>01277 
<a name="l01278"></a>01278         <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = rhs.<a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a>;
<a name="l01279"></a>01279         <a class="code" href="classQProblemB.html#a2584bbb5ab93f06aa5f3a634ac9076ac">isRegularised</a> = rhs.<a class="code" href="classQProblemB.html#a2584bbb5ab93f06aa5f3a634ac9076ac">isRegularised</a>;
<a name="l01280"></a>01280 
<a name="l01281"></a>01281         <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a> = rhs.<a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a>;
<a name="l01282"></a>01282         <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a> = rhs.<a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a>;
<a name="l01283"></a>01283 
<a name="l01284"></a>01284         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = rhs.<a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a>;
<a name="l01285"></a>01285 
<a name="l01286"></a>01286         <a class="code" href="classQProblemB.html#acd42fb385651070ee34d7ad7802e924b">count</a> = rhs.<a class="code" href="classQProblemB.html#acd42fb385651070ee34d7ad7802e924b">count</a>;
<a name="l01287"></a>01287 
<a name="l01288"></a>01288         <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> = rhs.<a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a>;
<a name="l01289"></a>01289         <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a> = rhs.<a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a>;
<a name="l01290"></a>01290 
<a name="l01291"></a>01291         <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[_nV];        <span class="comment">/* nFR */</span>
<a name="l01292"></a>01292 
<a name="l01293"></a>01293         <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a> = rhs.<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>;
<a name="l01294"></a>01294         <a class="code" href="classQProblemB.html#a2be2208a1befa1f7fa03f3c11d91ae7b">setPrintLevel</a>( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> );
<a name="l01295"></a>01295 
<a name="l01296"></a>01296         <a class="code" href="classQProblemB.html#afc23c08b6cdc0ca93f9c049e9a318744">flipper</a> = rhs.<a class="code" href="classQProblemB.html#afc23c08b6cdc0ca93f9c049e9a318744">flipper</a>;
<a name="l01297"></a>01297 
<a name="l01298"></a>01298         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01299"></a>01299 }
<a name="l01300"></a>01300 
<a name="l01301"></a>01301 
<a name="l01302"></a>01302 <span class="comment">/*</span>
<a name="l01303"></a>01303 <span class="comment"> *      d e t e r m i n e H e s s i a n T y p e</span>
<a name="l01304"></a>01304 <span class="comment"> */</span>
<a name="l01305"></a><a class="code" href="classQProblemB.html#a05462a04d6ecec9f2f3d32b868ec546b">01305</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a05462a04d6ecec9f2f3d32b868ec546b">QProblemB::determineHessianType</a>( )
<a name="l01306"></a>01306 {
<a name="l01307"></a>01307         <span class="keywordtype">int</span> i;
<a name="l01308"></a>01308         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01309"></a>01309 
<a name="l01310"></a>01310         <span class="comment">/* if Hessian type has been set by user, do NOT change it! */</span>
<a name="l01311"></a>01311         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a3479cf4e632ae731d4da9bf57a9f8907">HST_UNKNOWN</a> )
<a name="l01312"></a>01312                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01313"></a>01313 
<a name="l01314"></a>01314         <span class="comment">/* if Hessian has not been allocated, assume it to be all zeros! */</span>
<a name="l01315"></a>01315         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a> == 0 )
<a name="l01316"></a>01316         {
<a name="l01317"></a>01317                 <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>;
<a name="l01318"></a>01318                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01319"></a>01319         }
<a name="l01320"></a>01320 
<a name="l01321"></a>01321 
<a name="l01322"></a>01322         <span class="comment">/* 1) If Hessian has outer-diagonal elements,</span>
<a name="l01323"></a>01323 <span class="comment">         *    Hessian is assumed to be positive definite. */</span>
<a name="l01324"></a>01324         <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a920b0622e0d6bc3e2f659ca878480bd2">HST_POSDEF</a>;
<a name="l01325"></a>01325         <span class="keywordflow">if</span> (<a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#a1f5595f0147658d9f79f92dd283dcbac">isDiag</a>() == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>)
<a name="l01326"></a>01326                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01327"></a>01327 
<a name="l01328"></a>01328         <span class="comment">/* 2) Otherwise it is diagonal and test for identity or zero matrix is performed. */</span>
<a name="l01329"></a>01329         <span class="comment">/* hessianType = HST_DIAGONAL; */</span>
<a name="l01330"></a>01330 
<a name="l01331"></a>01331         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> isIdentity = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l01332"></a>01332         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> isZero = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l01333"></a>01333 
<a name="l01334"></a>01334         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l01335"></a>01335         {
<a name="l01336"></a>01336                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#abba3f3ece76237c647b5719eae9c26f2">enableFlippingBounds</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l01337"></a>01337                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#ab78435722398170cb87b0eb9650d8ca1">diag</a>(i) &lt; -<a class="code" href="Constants_8hpp.html#ad819f2d51fdea4cd4ff6023e9e276e11">ZERO</a> ) 
<a name="l01338"></a>01338                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec16874d8365647fc35c727b2bbde803">RET_HESSIAN_INDEFINITE</a> );
<a name="l01339"></a>01339 
<a name="l01340"></a>01340                 <span class="keywordflow">if</span> ( fabs( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#ab78435722398170cb87b0eb9650d8ca1">diag</a>(i) - 1.0 ) &gt; <a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> )
<a name="l01341"></a>01341                         isIdentity = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l01342"></a>01342 
<a name="l01343"></a>01343                 <span class="keywordflow">if</span> ( fabs( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#ab78435722398170cb87b0eb9650d8ca1">diag</a>(i) ) &gt; <a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> )
<a name="l01344"></a>01344                         isZero = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l01345"></a>01345         }
<a name="l01346"></a>01346 
<a name="l01347"></a>01347         <span class="keywordflow">if</span> ( isIdentity == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01348"></a>01348                 <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a>;
<a name="l01349"></a>01349 
<a name="l01350"></a>01350         <span class="keywordflow">if</span> ( isZero == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01351"></a>01351                 <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>;
<a name="l01352"></a>01352 
<a name="l01353"></a>01353         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01354"></a>01354 }
<a name="l01355"></a>01355 
<a name="l01356"></a>01356 
<a name="l01357"></a>01357 <span class="comment">/*</span>
<a name="l01358"></a>01358 <span class="comment"> *      s e t u p S u b j e c t T o T y p e</span>
<a name="l01359"></a>01359 <span class="comment"> */</span>
<a name="l01360"></a><a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">01360</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">QProblemB::setupSubjectToType</a>( )
<a name="l01361"></a>01361 {
<a name="l01362"></a>01362         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">setupSubjectToType</a>( <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>,<a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a> );
<a name="l01363"></a>01363 }
<a name="l01364"></a>01364 
<a name="l01365"></a>01365 
<a name="l01366"></a>01366 <span class="comment">/*</span>
<a name="l01367"></a>01367 <span class="comment"> *      s e t u p S u b j e c t T o T y p e</span>
<a name="l01368"></a>01368 <span class="comment"> */</span>
<a name="l01369"></a><a class="code" href="classQProblemB.html#a9b170181bd826023ce43c3df3ff463e7">01369</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">QProblemB::setupSubjectToType</a>( <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new )
<a name="l01370"></a>01370 {
<a name="l01371"></a>01371         <span class="keywordtype">int</span> i;
<a name="l01372"></a>01372         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01373"></a>01373 
<a name="l01374"></a>01374 
<a name="l01375"></a>01375         <span class="comment">/* 1) Check if lower bounds are present. */</span>
<a name="l01376"></a>01376         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a5c83994df77ef2ef2b8f2bace9ff8a83">setNoLower</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> );
<a name="l01377"></a>01377         <span class="keywordflow">if</span> ( lb_new != 0 )
<a name="l01378"></a>01378         {
<a name="l01379"></a>01379                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01380"></a>01380                 {
<a name="l01381"></a>01381                         <span class="keywordflow">if</span> ( lb_new[i] &gt; -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> )
<a name="l01382"></a>01382                         {
<a name="l01383"></a>01383                                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a5c83994df77ef2ef2b8f2bace9ff8a83">setNoLower</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> );
<a name="l01384"></a>01384                                 <span class="keywordflow">break</span>;
<a name="l01385"></a>01385                         }
<a name="l01386"></a>01386                 }
<a name="l01387"></a>01387         }
<a name="l01388"></a>01388 
<a name="l01389"></a>01389         <span class="comment">/* 2) Check if upper bounds are present. */</span>
<a name="l01390"></a>01390         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a3cb48f0d24fc5cdd11697465c5b46f13">setNoUpper</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> );
<a name="l01391"></a>01391         <span class="keywordflow">if</span> ( ub_new != 0 )
<a name="l01392"></a>01392         {
<a name="l01393"></a>01393                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01394"></a>01394                 {
<a name="l01395"></a>01395                         <span class="keywordflow">if</span> ( ub_new[i] &lt; <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> )
<a name="l01396"></a>01396                         {
<a name="l01397"></a>01397                                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a3cb48f0d24fc5cdd11697465c5b46f13">setNoUpper</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> );
<a name="l01398"></a>01398                                 <span class="keywordflow">break</span>;
<a name="l01399"></a>01399                         }
<a name="l01400"></a>01400                 }
<a name="l01401"></a>01401         }
<a name="l01402"></a>01402 
<a name="l01403"></a>01403         <span class="comment">/* 3) Determine implicitly fixed and unbounded variables. */</span>
<a name="l01404"></a>01404         <span class="keywordflow">if</span> ( ( lb_new != 0 ) &amp;&amp; ( ub_new != 0 ) )
<a name="l01405"></a>01405         {
<a name="l01406"></a>01406                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01407"></a>01407                 {
<a name="l01408"></a>01408                         <span class="keywordflow">if</span> ( ( lb_new[i] &lt; -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> + <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a9cc43ec93c854bd0302de1a940fda5dd">boundTolerance</a> ) &amp;&amp; ( ub_new[i] &gt; <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a9cc43ec93c854bd0302de1a940fda5dd">boundTolerance</a> )
<a name="l01409"></a>01409                                         &amp;&amp; (<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa691471f2994643343ddcf2b697a19aa">enableFarBounds</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>))
<a name="l01410"></a>01410                         {
<a name="l01411"></a>01411                                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a9ff5234a3584b76063c07339bfd53c31">setType</a>( i,<a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a9dd4eea536b458dbd9fb66950c52eb87">ST_UNBOUNDED</a> );
<a name="l01412"></a>01412                         }
<a name="l01413"></a>01413                         <span class="keywordflow">else</span>
<a name="l01414"></a>01414                         {
<a name="l01415"></a>01415                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a21c673d77ae5210038a05ca2a41bd1da">enableEqualities</a> &amp;&amp; lb_new[i] &gt; ub_new[i] - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a9cc43ec93c854bd0302de1a940fda5dd">boundTolerance</a> )
<a name="l01416"></a>01416                                         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a9ff5234a3584b76063c07339bfd53c31">setType</a>( i,<a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> );
<a name="l01417"></a>01417                                 <span class="keywordflow">else</span>
<a name="l01418"></a>01418                                         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a9ff5234a3584b76063c07339bfd53c31">setType</a>( i,<a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3ad2ba0f85d1cc4d5ee72baabed496af36">ST_BOUNDED</a> );
<a name="l01419"></a>01419                         }
<a name="l01420"></a>01420                 }
<a name="l01421"></a>01421         }
<a name="l01422"></a>01422         <span class="keywordflow">else</span>
<a name="l01423"></a>01423         {
<a name="l01424"></a>01424                 <span class="keywordflow">if</span> ( ( lb_new == 0 ) &amp;&amp; ( ub_new == 0 ) )
<a name="l01425"></a>01425                 {
<a name="l01426"></a>01426                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01427"></a>01427                                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a9ff5234a3584b76063c07339bfd53c31">setType</a>( i,<a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a9dd4eea536b458dbd9fb66950c52eb87">ST_UNBOUNDED</a> );
<a name="l01428"></a>01428                 }
<a name="l01429"></a>01429                 <span class="keywordflow">else</span>
<a name="l01430"></a>01430                 {
<a name="l01431"></a>01431                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01432"></a>01432                                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a9ff5234a3584b76063c07339bfd53c31">setType</a>( i,<a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3ad2ba0f85d1cc4d5ee72baabed496af36">ST_BOUNDED</a> );
<a name="l01433"></a>01433                 }
<a name="l01434"></a>01434         }
<a name="l01435"></a>01435 
<a name="l01436"></a>01436         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01437"></a>01437 }
<a name="l01438"></a>01438 
<a name="l01439"></a>01439 
<a name="l01440"></a>01440 <span class="comment">/*</span>
<a name="l01441"></a>01441 <span class="comment"> *      s e t u p C h o l e s k y D e c o m p o s i t i o n</span>
<a name="l01442"></a>01442 <span class="comment"> */</span>
<a name="l01443"></a><a class="code" href="classQProblemB.html#a8f47f2c6e9a5d0eaf78c15fa7eeb91e8">01443</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a8f47f2c6e9a5d0eaf78c15fa7eeb91e8">QProblemB::setupCholeskyDecomposition</a>( )
<a name="l01444"></a>01444 {
<a name="l01445"></a>01445         <span class="keywordtype">int</span> i, j;
<a name="l01446"></a>01446         <span class="keywordtype">int</span> nV  = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01447"></a>01447         <span class="keywordtype">int</span> nFR = <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l01448"></a>01448         
<a name="l01449"></a>01449         <span class="comment">/* 1) Initialises R with all zeros. */</span>
<a name="l01450"></a>01450         <span class="keywordflow">for</span>( i=0; i&lt;nV*nV; ++i )
<a name="l01451"></a>01451                 <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>[i] = 0.0;
<a name="l01452"></a>01452 
<a name="l01453"></a>01453         <span class="comment">/* 2) Calculate Cholesky decomposition of H (projected to free variables). */</span>
<a name="l01454"></a>01454         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> ) || ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a> ) )
<a name="l01455"></a>01455         {
<a name="l01456"></a>01456                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> )
<a name="l01457"></a>01457                 {
<a name="l01458"></a>01458                         <span class="comment">/* if Hessian is zero matrix, it is assumed that it has been</span>
<a name="l01459"></a>01459 <span class="comment">                         * regularised and thus its Cholesky factor is the identity</span>
<a name="l01460"></a>01460 <span class="comment">                         * matrix scaled by sqrt(eps). */</span>
<a name="l01461"></a>01461                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01462"></a>01462                         {
<a name="l01463"></a>01463                                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01464"></a>01464                                         <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i) = sqrt( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a> );
<a name="l01465"></a>01465                         }
<a name="l01466"></a>01466                         <span class="keywordflow">else</span>
<a name="l01467"></a>01467                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eac010883bce1404389f9ab873fd54b132">RET_CHOLESKY_OF_ZERO_HESSIAN</a> );
<a name="l01468"></a>01468                 }
<a name="l01469"></a>01469                 <span class="keywordflow">else</span>
<a name="l01470"></a>01470                 {
<a name="l01471"></a>01471                         <span class="comment">/* if Hessian is identity, so is its Cholesky factor. */</span>
<a name="l01472"></a>01472                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01473"></a>01473                                 <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i) = 1.0;
<a name="l01474"></a>01474                 }
<a name="l01475"></a>01475         }
<a name="l01476"></a>01476         <span class="keywordflow">else</span>
<a name="l01477"></a>01477         {
<a name="l01478"></a>01478                 <span class="keywordflow">if</span> ( nFR &gt; 0 )
<a name="l01479"></a>01479                 {
<a name="l01480"></a>01480                         <span class="keywordtype">int</span>* FR_idx;
<a name="l01481"></a>01481                         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FR_idx );
<a name="l01482"></a>01482 
<a name="l01483"></a>01483                         <span class="comment">/* get H */</span>
<a name="l01484"></a>01484                         <span class="keywordflow">for</span> ( j=0; j &lt; nFR; ++j )
<a name="l01485"></a>01485                                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#a7b9f4ce0fe8c2efc34503bb260383d2c">getCol</a> (FR_idx[j], <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a> (), 1.0, &amp;<a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>[j*nV]);
<a name="l01486"></a>01486 
<a name="l01487"></a>01487                         <span class="comment">/* R&#39;*R = H */</span>
<a name="l01488"></a>01488                         <span class="keywordtype">long</span> info = 0;
<a name="l01489"></a>01489                         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> _nFR = nFR, _nV = nV;
<a name="l01490"></a>01490 
<a name="l01491"></a>01491                         <a class="code" href="Matrices_8hpp.html#a39fd888b29dc1aba3c780981acdd7f62">POTRF</a> (<span class="stringliteral">&quot;U&quot;</span>, &amp;_nFR, <a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a>, &amp;_nV, &amp;info);
<a name="l01492"></a>01492 
<a name="l01493"></a>01493                         <span class="comment">/* &lt;0 = invalid call, =0 ok, &gt;0 not spd */</span>
<a name="l01494"></a>01494                         <span class="keywordflow">if</span> (info &gt; 0) {
<a name="l01495"></a>01495                                 <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a4bd6c8ccecaaf211801db7381f2361ec">HST_SEMIDEF</a>;
<a name="l01496"></a>01496                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea02db76e7e6badd1b34350674562e9284">RET_HESSIAN_NOT_SPD</a>;
<a name="l01497"></a>01497                         }
<a name="l01498"></a>01498 
<a name="l01499"></a>01499                         <span class="comment">/* zero first subdiagonal to make givens updates work */</span>
<a name="l01500"></a>01500                         <span class="keywordflow">for</span> (i=0;i&lt;nFR-1;++i)
<a name="l01501"></a>01501                                 <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i+1,i) = 0.0;
<a name="l01502"></a>01502 
<a name="l01503"></a>01503                 }
<a name="l01504"></a>01504         }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01507"></a>01507 }
<a name="l01508"></a>01508 
<a name="l01509"></a>01509 
<a name="l01510"></a>01510 <span class="comment">/*</span>
<a name="l01511"></a>01511 <span class="comment"> *      o b t a i n A u x i l i a r y W o r k i n g S e t</span>
<a name="l01512"></a>01512 <span class="comment"> */</span>
<a name="l01513"></a><a class="code" href="classQProblemB.html#af91ae892262c4bac8b2388387610eb40">01513</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#af91ae892262c4bac8b2388387610eb40">QProblemB::obtainAuxiliaryWorkingSet</a>(       <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt,
<a name="l01514"></a>01514                                                                                                         <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds, <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* auxiliaryBounds
<a name="l01515"></a>01515                                                                                                         )<span class="keyword"> const</span>
<a name="l01516"></a>01516 <span class="keyword"></span>{
<a name="l01517"></a>01517         <span class="keywordtype">int</span> i = 0;
<a name="l01518"></a>01518         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01519"></a>01519 
<a name="l01520"></a>01520 
<a name="l01521"></a>01521         <span class="comment">/* 1) Ensure that desiredBounds is allocated (and different from guessedBounds). */</span>
<a name="l01522"></a>01522         <span class="keywordflow">if</span> ( ( auxiliaryBounds == 0 ) || ( auxiliaryBounds == guessedBounds ) )
<a name="l01523"></a>01523                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l01524"></a>01524 
<a name="l01525"></a>01525 
<a name="l01526"></a>01526         <span class="comment">/* 2) Setup working set for auxiliary initial QP. */</span>
<a name="l01527"></a>01527         <span class="keywordflow">if</span> ( guessedBounds != 0 )
<a name="l01528"></a>01528         {
<a name="l01529"></a>01529                 <span class="comment">/* If an initial working set is specific, use it!</span>
<a name="l01530"></a>01530 <span class="comment">                 * Moreover, add all implictly fixed variables if specified. */</span>
<a name="l01531"></a>01531                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01532"></a>01532                 {
<a name="l01533"></a>01533 <span class="preprocessor">                        #ifdef __ALWAYS_INITIALISE_WITH_ALL_EQUALITIES__</span>
<a name="l01534"></a>01534 <span class="preprocessor"></span>                        <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) == <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l01535"></a>01535                         {
<a name="l01536"></a>01536                                 <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01537"></a>01537                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01538"></a>01538                         }
<a name="l01539"></a>01539                         <span class="keywordflow">else</span>
<a name="l01540"></a>01540 <span class="preprocessor">                        #endif</span>
<a name="l01541"></a>01541 <span class="preprocessor"></span>                        {
<a name="l01542"></a>01542                                 <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,guessedBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01543"></a>01543                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01544"></a>01544                         }
<a name="l01545"></a>01545                 }
<a name="l01546"></a>01546         }
<a name="l01547"></a>01547         <span class="keywordflow">else</span>    <span class="comment">/* No initial working set specified. */</span>
<a name="l01548"></a>01548         {
<a name="l01549"></a>01549                 <span class="keywordflow">if</span> ( ( xOpt != 0 ) &amp;&amp; ( yOpt == 0 ) )
<a name="l01550"></a>01550                 {
<a name="l01551"></a>01551                         <span class="comment">/* Obtain initial working set by &quot;clipping&quot;. */</span>
<a name="l01552"></a>01552                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01553"></a>01553                         {
<a name="l01554"></a>01554                                 <span class="keywordflow">if</span> ( xOpt[i] &lt;= <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] + <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a9cc43ec93c854bd0302de1a940fda5dd">boundTolerance</a> )
<a name="l01555"></a>01555                                 {
<a name="l01556"></a>01556                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01557"></a>01557                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01558"></a>01558                                         <span class="keywordflow">continue</span>;
<a name="l01559"></a>01559                                 }
<a name="l01560"></a>01560 
<a name="l01561"></a>01561                                 <span class="keywordflow">if</span> ( xOpt[i] &gt;= <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a9cc43ec93c854bd0302de1a940fda5dd">boundTolerance</a> )
<a name="l01562"></a>01562                                 {
<a name="l01563"></a>01563                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01564"></a>01564                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01565"></a>01565                                         <span class="keywordflow">continue</span>;
<a name="l01566"></a>01566                                 }
<a name="l01567"></a>01567 
<a name="l01568"></a>01568                                 <span class="comment">/* Moreover, add all implictly fixed variables if specified. */</span>
<a name="l01569"></a>01569 <span class="preprocessor">                                #ifdef __ALWAYS_INITIALISE_WITH_ALL_EQUALITIES__</span>
<a name="l01570"></a>01570 <span class="preprocessor"></span>                                <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) == <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l01571"></a>01571                                 {
<a name="l01572"></a>01572                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01573"></a>01573                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01574"></a>01574                                 }
<a name="l01575"></a>01575                                 <span class="keywordflow">else</span>
<a name="l01576"></a>01576 <span class="preprocessor">                                #endif</span>
<a name="l01577"></a>01577 <span class="preprocessor"></span>                                {
<a name="l01578"></a>01578                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01579"></a>01579                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01580"></a>01580                                 }
<a name="l01581"></a>01581                         }
<a name="l01582"></a>01582                 }
<a name="l01583"></a>01583 
<a name="l01584"></a>01584                 <span class="keywordflow">if</span> ( ( xOpt == 0 ) &amp;&amp; ( yOpt != 0 ) )
<a name="l01585"></a>01585                 {
<a name="l01586"></a>01586                         <span class="comment">/* Obtain initial working set in accordance to sign of dual solution vector. */</span>
<a name="l01587"></a>01587                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01588"></a>01588                         {
<a name="l01589"></a>01589                                 <span class="keywordflow">if</span> ( yOpt[i] &gt; <a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> )
<a name="l01590"></a>01590                                 {
<a name="l01591"></a>01591                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01592"></a>01592                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01593"></a>01593                                         <span class="keywordflow">continue</span>;
<a name="l01594"></a>01594                                 }
<a name="l01595"></a>01595 
<a name="l01596"></a>01596                                 <span class="keywordflow">if</span> ( yOpt[i] &lt; -<a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> )
<a name="l01597"></a>01597                                 {
<a name="l01598"></a>01598                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01599"></a>01599                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01600"></a>01600                                         <span class="keywordflow">continue</span>;
<a name="l01601"></a>01601                                 }
<a name="l01602"></a>01602 
<a name="l01603"></a>01603                                 <span class="comment">/* Moreover, add all implictly fixed variables if specified. */</span>
<a name="l01604"></a>01604 <span class="preprocessor">                                #ifdef __ALWAYS_INITIALISE_WITH_ALL_EQUALITIES__</span>
<a name="l01605"></a>01605 <span class="preprocessor"></span>                                <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) == <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l01606"></a>01606                                 {
<a name="l01607"></a>01607                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01608"></a>01608                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01609"></a>01609                                 }
<a name="l01610"></a>01610                                 <span class="keywordflow">else</span>
<a name="l01611"></a>01611 <span class="preprocessor">                                #endif</span>
<a name="l01612"></a>01612 <span class="preprocessor"></span>                                {
<a name="l01613"></a>01613                                         <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01614"></a>01614                                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01615"></a>01615                                 }
<a name="l01616"></a>01616                         }
<a name="l01617"></a>01617                 }
<a name="l01618"></a>01618 
<a name="l01619"></a>01619                 <span class="comment">/* If xOpt and yOpt are null pointer and no initial working is specified,</span>
<a name="l01620"></a>01620 <span class="comment">                 * start with empty working set (or implicitly fixed bounds only)</span>
<a name="l01621"></a>01621 <span class="comment">                 * for auxiliary QP. */</span>
<a name="l01622"></a>01622                 <span class="keywordflow">if</span> ( ( xOpt == 0 ) &amp;&amp; ( yOpt == 0 ) )
<a name="l01623"></a>01623                 {
<a name="l01624"></a>01624                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01625"></a>01625                         {
<a name="l01626"></a>01626                                 <span class="keywordflow">switch</span>( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) )
<a name="l01627"></a>01627                                 {
<a name="l01628"></a>01628                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a9dd4eea536b458dbd9fb66950c52eb87">ST_UNBOUNDED</a>:
<a name="l01629"></a>01629                                                 <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01630"></a>01630                                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01631"></a>01631                                                 <span class="keywordflow">break</span>;
<a name="l01632"></a>01632 
<a name="l01633"></a>01633                                         <span class="comment">/* Only add all implictly fixed variables if specified. */</span>
<a name="l01634"></a>01634 <span class="preprocessor">                                        #ifdef __ALWAYS_INITIALISE_WITH_ALL_EQUALITIES__</span>
<a name="l01635"></a>01635 <span class="preprocessor"></span>                                        <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a>:
<a name="l01636"></a>01636                                                 <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01637"></a>01637                                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01638"></a>01638                                                 <span class="keywordflow">break</span>;
<a name="l01639"></a>01639 <span class="preprocessor">                                        #endif</span>
<a name="l01640"></a>01640 <span class="preprocessor"></span>
<a name="l01641"></a>01641                                         <span class="keywordflow">default</span>:
<a name="l01642"></a>01642                                                 <span class="keywordflow">if</span> ( auxiliaryBounds-&gt;<a class="code" href="classBounds.html#a33bb74eea2c6a060442a34e464b93a50">setupBound</a>( i,<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#af9aaafb64ae87034efa2c916eff51dca">initialStatusBounds</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01643"></a>01643                                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8561f367ac14ea033be8c63da8a54615">RET_OBTAINING_WORKINGSET_FAILED</a> );
<a name="l01644"></a>01644                                                 <span class="keywordflow">break</span>;
<a name="l01645"></a>01645                                 }
<a name="l01646"></a>01646                         }
<a name="l01647"></a>01647                 }
<a name="l01648"></a>01648         }
<a name="l01649"></a>01649 
<a name="l01650"></a>01650         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01651"></a>01651 }
<a name="l01652"></a>01652 
<a name="l01653"></a>01653 
<a name="l01654"></a>01654 <span class="comment">/*</span>
<a name="l01655"></a>01655 <span class="comment"> *      b a c k s o l v e R</span>
<a name="l01656"></a>01656 <span class="comment"> */</span>
<a name="l01657"></a><a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">01657</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">QProblemB::backsolveR</a>(      <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> b, <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> transposed,
<a name="l01658"></a>01658                                                                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> a
<a name="l01659"></a>01659                                                                         )<span class="keyword"> const</span>
<a name="l01660"></a>01660 <span class="keyword"></span>{
<a name="l01661"></a>01661         <span class="comment">/* Call standard backsolve procedure (i.e. removingBound == BT_FALSE). */</span>
<a name="l01662"></a>01662         <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">backsolveR</a>( b,transposed,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>,a );
<a name="l01663"></a>01663 }
<a name="l01664"></a>01664 
<a name="l01665"></a>01665 
<a name="l01666"></a>01666 <span class="comment">/*</span>
<a name="l01667"></a>01667 <span class="comment"> *      b a c k s o l v e R</span>
<a name="l01668"></a>01668 <span class="comment"> */</span>
<a name="l01669"></a><a class="code" href="classQProblemB.html#a578a21e2b19f6d3cbebbb50d97af8d27">01669</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">QProblemB::backsolveR</a>(      <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> b, <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> transposed,
<a name="l01670"></a>01670                                                                         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> removingBound,
<a name="l01671"></a>01671                                                                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> a
<a name="l01672"></a>01672                                                                         )<span class="keyword"> const</span>
<a name="l01673"></a>01673 <span class="keyword"></span>{
<a name="l01674"></a>01674         <span class="keywordtype">int</span> i, j;
<a name="l01675"></a>01675         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01676"></a>01676         <span class="keywordtype">int</span> nR = <a class="code" href="classQProblemB.html#aa14b698cecac984c3084eccdd4de2848">getNZ</a>( );
<a name="l01677"></a>01677 
<a name="l01678"></a>01678         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> sum;
<a name="l01679"></a>01679 
<a name="l01680"></a>01680         <span class="comment">/* if backsolve is called while removing a bound, reduce nZ by one. */</span>
<a name="l01681"></a>01681         <span class="keywordflow">if</span> ( removingBound == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l01682"></a>01682                 --nR;
<a name="l01683"></a>01683 
<a name="l01684"></a>01684         <span class="comment">/* nothing to do */</span>
<a name="l01685"></a>01685         <span class="keywordflow">if</span> ( nR &lt;= 0 )
<a name="l01686"></a>01686                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01687"></a>01687 
<a name="l01688"></a>01688 
<a name="l01689"></a>01689         <span class="comment">/* Solve Ra = b, where R might be transposed. */</span>
<a name="l01690"></a>01690         <span class="keywordflow">if</span> ( transposed == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l01691"></a>01691         {
<a name="l01692"></a>01692                 <span class="comment">/* solve Ra = b */</span>
<a name="l01693"></a>01693                 <span class="keywordflow">for</span>( i=(nR-1); i&gt;=0; --i )
<a name="l01694"></a>01694                 {
<a name="l01695"></a>01695                         sum = b[i];
<a name="l01696"></a>01696                         <span class="keywordflow">for</span>( j=(i+1); j&lt;nR; ++j )
<a name="l01697"></a>01697                                 sum -= <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,j) * a[j];
<a name="l01698"></a>01698 
<a name="l01699"></a>01699                         <span class="keywordflow">if</span> ( fabs( <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i) ) &gt;= <a class="code" href="Constants_8hpp.html#ad819f2d51fdea4cd4ff6023e9e276e11">ZERO</a>*fabs( sum ) )
<a name="l01700"></a>01700                                 a[i] = sum / <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i);
<a name="l01701"></a>01701                         <span class="keywordflow">else</span>
<a name="l01702"></a>01702                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5e533c7f28abfed7d3e11d76f298cd9d">RET_DIV_BY_ZERO</a> );
<a name="l01703"></a>01703                 }
<a name="l01704"></a>01704         }
<a name="l01705"></a>01705         <span class="keywordflow">else</span>
<a name="l01706"></a>01706         {
<a name="l01707"></a>01707                 <span class="comment">/* solve R^T*a = b */</span>
<a name="l01708"></a>01708                 <span class="keywordflow">for</span>( i=0; i&lt;nR; ++i )
<a name="l01709"></a>01709                 {
<a name="l01710"></a>01710                         sum = b[i];
<a name="l01711"></a>01711                         <span class="keywordflow">for</span>( j=0; j&lt;i; ++j )
<a name="l01712"></a>01712                                 sum -= <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(j,i) * a[j];
<a name="l01713"></a>01713 
<a name="l01714"></a>01714                         <span class="keywordflow">if</span> ( fabs( <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i) ) &gt;= <a class="code" href="Constants_8hpp.html#ad819f2d51fdea4cd4ff6023e9e276e11">ZERO</a>*fabs( sum ) )
<a name="l01715"></a>01715                                 a[i] = sum / <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i);
<a name="l01716"></a>01716                         <span class="keywordflow">else</span>
<a name="l01717"></a>01717                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5e533c7f28abfed7d3e11d76f298cd9d">RET_DIV_BY_ZERO</a> );
<a name="l01718"></a>01718                 }
<a name="l01719"></a>01719         }
<a name="l01720"></a>01720 
<a name="l01721"></a>01721         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01722"></a>01722 }
<a name="l01723"></a>01723 
<a name="l01724"></a>01724 
<a name="l01725"></a>01725 <span class="comment">/*</span>
<a name="l01726"></a>01726 <span class="comment"> *      d e t e r m i n e D a t a S h i f t</span>
<a name="l01727"></a>01727 <span class="comment"> */</span>
<a name="l01728"></a><a class="code" href="classQProblemB.html#a47a5f0abd5846f48f5273def9dbfa292">01728</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a47a5f0abd5846f48f5273def9dbfa292">QProblemB::determineDataShift</a>(      <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new,
<a name="l01729"></a>01729                                                                                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_g, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_lb, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_ub,
<a name="l01730"></a>01730                                                                                         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a>&amp; Delta_bB_isZero
<a name="l01731"></a>01731                                                                                         )
<a name="l01732"></a>01732 {
<a name="l01733"></a>01733         <span class="keywordtype">int</span> i, ii;
<a name="l01734"></a>01734         <span class="keywordtype">int</span> nV  = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01735"></a>01735         <span class="keywordtype">int</span> nFX = <a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( );
<a name="l01736"></a>01736 
<a name="l01737"></a>01737         <span class="keywordtype">int</span>* FX_idx;
<a name="l01738"></a>01738         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FX_idx );
<a name="l01739"></a>01739 
<a name="l01740"></a>01740 
<a name="l01741"></a>01741         <span class="comment">/* 1) Calculate shift directions. */</span>
<a name="l01742"></a>01742         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01743"></a>01743                 delta_g[i]  = g_new[i]  - <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i];
<a name="l01744"></a>01744 
<a name="l01745"></a>01745         <span class="keywordflow">if</span> ( lb_new != 0 )
<a name="l01746"></a>01746         {
<a name="l01747"></a>01747                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01748"></a>01748                         delta_lb[i] = lb_new[i] - <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i];
<a name="l01749"></a>01749         }
<a name="l01750"></a>01750         <span class="keywordflow">else</span>
<a name="l01751"></a>01751         {
<a name="l01752"></a>01752                 <span class="comment">/* if no lower bounds exist, assume the new lower bounds to be -infinity */</span>
<a name="l01753"></a>01753                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01754"></a>01754                         delta_lb[i] = -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> - <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i];
<a name="l01755"></a>01755         }
<a name="l01756"></a>01756 
<a name="l01757"></a>01757         <span class="keywordflow">if</span> ( ub_new != 0 )
<a name="l01758"></a>01758         {
<a name="l01759"></a>01759                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01760"></a>01760                         delta_ub[i] = ub_new[i] - <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i];
<a name="l01761"></a>01761         }
<a name="l01762"></a>01762         <span class="keywordflow">else</span>
<a name="l01763"></a>01763         {
<a name="l01764"></a>01764                 <span class="comment">/* if no upper bounds exist, assume the new upper bounds to be infinity */</span>
<a name="l01765"></a>01765                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01766"></a>01766                         delta_ub[i] = <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a> - <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i];
<a name="l01767"></a>01767         }
<a name="l01768"></a>01768 
<a name="l01769"></a>01769         <span class="comment">/* 2) Determine if active bounds are to be shifted. */</span>
<a name="l01770"></a>01770         Delta_bB_isZero = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l01771"></a>01771 
<a name="l01772"></a>01772         <span class="keywordflow">for</span> ( i=0; i&lt;nFX; ++i )
<a name="l01773"></a>01773         {
<a name="l01774"></a>01774                 ii = FX_idx[i];
<a name="l01775"></a>01775 
<a name="l01776"></a>01776                 <span class="keywordflow">if</span> ( ( fabs( delta_lb[ii] ) &gt; <a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> ) || ( fabs( delta_ub[ii] ) &gt; <a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> ) )
<a name="l01777"></a>01777                 {
<a name="l01778"></a>01778                         Delta_bB_isZero = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l01779"></a>01779                         <span class="keywordflow">break</span>;
<a name="l01780"></a>01780                 }
<a name="l01781"></a>01781         }
<a name="l01782"></a>01782 
<a name="l01783"></a>01783         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01784"></a>01784 }
<a name="l01785"></a>01785 
<a name="l01786"></a>01786 
<a name="l01787"></a>01787 
<a name="l01788"></a>01788 <span class="comment">/*</span>
<a name="l01789"></a>01789 <span class="comment"> *      s e t u p Q P d a t a</span>
<a name="l01790"></a>01790 <span class="comment"> */</span>
<a name="l01791"></a><a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">01791</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">QProblemB::setupQPdata</a>(     <a class="code" href="classSymmetricMatrix.html" title="Abstract base class for interfacing matrix-vector operations tailored to symmetric matrices...">SymmetricMatrix</a> *_H, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _g,
<a name="l01792"></a>01792                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _ub
<a name="l01793"></a>01793                                                                         )
<a name="l01794"></a>01794 {
<a name="l01795"></a>01795         <span class="keywordtype">int</span> i;
<a name="l01796"></a>01796         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01797"></a>01797 
<a name="l01798"></a>01798         <span class="comment">/* 1) Setup Hessian matrix. */</span>
<a name="l01799"></a>01799         <a class="code" href="classQProblemB.html#ac9ca851c00d04f7f052a306f0f9f74ce">setH</a>( _H );
<a name="l01800"></a>01800 
<a name="l01801"></a>01801         <span class="comment">/* 2) Setup gradient vector. */</span>
<a name="l01802"></a>01802         <span class="keywordflow">if</span> ( _g == 0 )
<a name="l01803"></a>01803                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l01804"></a>01804         <span class="keywordflow">else</span>
<a name="l01805"></a>01805                 <a class="code" href="classQProblemB.html#a4a907eb6c1a6ead3bf13335ce71ba069">setG</a>( _g );
<a name="l01806"></a>01806 
<a name="l01807"></a>01807         <span class="comment">/* 3) Setup lower bounds vector. */</span>
<a name="l01808"></a>01808         <span class="keywordflow">if</span> ( _lb != 0 )
<a name="l01809"></a>01809                 <a class="code" href="classQProblemB.html#a7d3cb375ddce99f8728a9be54207d542">setLB</a>( _lb );
<a name="l01810"></a>01810         <span class="keywordflow">else</span>
<a name="l01811"></a>01811                 <span class="comment">/* if no lower bounds are specified, set them to -infinity */</span>
<a name="l01812"></a>01812                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01813"></a>01813                         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l01814"></a>01814 
<a name="l01815"></a>01815         <span class="comment">/* 4) Setup upper bounds vector. */</span>
<a name="l01816"></a>01816         <span class="keywordflow">if</span> ( _ub != 0 )
<a name="l01817"></a>01817                 <a class="code" href="classQProblemB.html#a529829d8e9a31570bbf11c26d7c3525a">setUB</a>( _ub );
<a name="l01818"></a>01818         <span class="keywordflow">else</span>
<a name="l01819"></a>01819                 <span class="comment">/* if no upper bounds are specified, set them to infinity */</span>
<a name="l01820"></a>01820                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01821"></a>01821                         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l01822"></a>01822 
<a name="l01823"></a>01823         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01824"></a>01824 }
<a name="l01825"></a>01825 
<a name="l01826"></a>01826 
<a name="l01827"></a>01827 <span class="comment">/*</span>
<a name="l01828"></a>01828 <span class="comment"> *      s e t u p Q P d a t a</span>
<a name="l01829"></a>01829 <span class="comment"> */</span>
<a name="l01830"></a><a class="code" href="classQProblemB.html#a8c54c1a5fdbf94bba199e50a63ae06ce">01830</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ab785215eb0f10994203a19632b715212">QProblemB::setupQPdata</a>(     <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _H, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _g,
<a name="l01831"></a>01831                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> _ub
<a name="l01832"></a>01832                                                                         )
<a name="l01833"></a>01833 {
<a name="l01834"></a>01834         <span class="keywordtype">int</span> i;
<a name="l01835"></a>01835         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01836"></a>01836 
<a name="l01837"></a>01837         <span class="comment">/* 1) Setup Hessian matrix. */</span>
<a name="l01838"></a>01838         <a class="code" href="classQProblemB.html#ac9ca851c00d04f7f052a306f0f9f74ce">setH</a>( _H );
<a name="l01839"></a>01839 
<a name="l01840"></a>01840         <span class="comment">/* 2) Setup gradient vector. */</span>
<a name="l01841"></a>01841         <span class="keywordflow">if</span> ( _g == 0 )
<a name="l01842"></a>01842                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l01843"></a>01843         <span class="keywordflow">else</span>
<a name="l01844"></a>01844                 <a class="code" href="classQProblemB.html#a4a907eb6c1a6ead3bf13335ce71ba069">setG</a>( _g );
<a name="l01845"></a>01845 
<a name="l01846"></a>01846         <span class="comment">/* 3) Setup lower bounds vector. */</span>
<a name="l01847"></a>01847         <span class="keywordflow">if</span> ( _lb != 0 )
<a name="l01848"></a>01848         {
<a name="l01849"></a>01849                 <a class="code" href="classQProblemB.html#a7d3cb375ddce99f8728a9be54207d542">setLB</a>( _lb );
<a name="l01850"></a>01850         }
<a name="l01851"></a>01851         <span class="keywordflow">else</span>
<a name="l01852"></a>01852         {
<a name="l01853"></a>01853                 <span class="comment">/* if no lower bounds are specified, set them to -infinity */</span>
<a name="l01854"></a>01854                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01855"></a>01855                         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l01856"></a>01856         }
<a name="l01857"></a>01857 
<a name="l01858"></a>01858         <span class="comment">/* 4) Setup upper bounds vector. */</span>
<a name="l01859"></a>01859         <span class="keywordflow">if</span> ( _ub != 0 )
<a name="l01860"></a>01860         {
<a name="l01861"></a>01861                 <a class="code" href="classQProblemB.html#a529829d8e9a31570bbf11c26d7c3525a">setUB</a>( _ub );
<a name="l01862"></a>01862         }
<a name="l01863"></a>01863         <span class="keywordflow">else</span>
<a name="l01864"></a>01864         {
<a name="l01865"></a>01865                 <span class="comment">/* if no upper bounds are specified, set them to infinity */</span>
<a name="l01866"></a>01866                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01867"></a>01867                         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l01868"></a>01868         }
<a name="l01869"></a>01869 
<a name="l01870"></a>01870         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01871"></a>01871 }
<a name="l01872"></a>01872 
<a name="l01873"></a>01873 
<a name="l01874"></a>01874 <span class="comment">/*</span>
<a name="l01875"></a>01875 <span class="comment"> *      s e t u p Q P d a t a F r o m F i l e</span>
<a name="l01876"></a>01876 <span class="comment"> */</span>
<a name="l01877"></a><a class="code" href="classQProblemB.html#a6ea1dcb60fb520c18f1612b944875160">01877</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a6ea1dcb60fb520c18f1612b944875160">QProblemB::setupQPdataFromFile</a>(     <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> H_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> g_file,
<a name="l01878"></a>01878                                                                                         <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> lb_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> ub_file
<a name="l01879"></a>01879                                                                                         )
<a name="l01880"></a>01880 {
<a name="l01881"></a>01881         <span class="keywordtype">int</span> i;
<a name="l01882"></a>01882         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01883"></a>01883 
<a name="l01884"></a>01884         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue;
<a name="l01885"></a>01885 
<a name="l01886"></a>01886 
<a name="l01887"></a>01887         <span class="comment">/* 1) Load Hessian matrix from file. */</span>
<a name="l01888"></a>01888         <span class="keywordflow">if</span> ( H_file != 0 )
<a name="l01889"></a>01889         {
<a name="l01890"></a>01890                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* _H = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV * nV];
<a name="l01891"></a>01891                 returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( _H, nV,nV, H_file );
<a name="l01892"></a>01892                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01893"></a>01893                 {
<a name="l01894"></a>01894                         <span class="keyword">delete</span>[] _H;
<a name="l01895"></a>01895                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01896"></a>01896                 }
<a name="l01897"></a>01897                 <a class="code" href="classQProblemB.html#ac9ca851c00d04f7f052a306f0f9f74ce">setH</a>( _H );
<a name="l01898"></a>01898                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#a9b1c0fc70cad1b88d6e6ab960bda478d">doFreeMemory</a>( );
<a name="l01899"></a>01899         }
<a name="l01900"></a>01900         <span class="keywordflow">else</span>
<a name="l01901"></a>01901         {
<a name="l01902"></a>01902                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* _H = 0;
<a name="l01903"></a>01903                 <a class="code" href="classQProblemB.html#ac9ca851c00d04f7f052a306f0f9f74ce">setH</a>( _H );
<a name="l01904"></a>01904         }
<a name="l01905"></a>01905 
<a name="l01906"></a>01906         <span class="comment">/* 2) Load gradient vector from file. */</span>
<a name="l01907"></a>01907         <span class="keywordflow">if</span> ( g_file == 0 )
<a name="l01908"></a>01908                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l01909"></a>01909 
<a name="l01910"></a>01910         returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>, nV, g_file );
<a name="l01911"></a>01911         <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01912"></a>01912                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01913"></a>01913 
<a name="l01914"></a>01914         <span class="comment">/* 3) Load lower bounds vector from file. */</span>
<a name="l01915"></a>01915         <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l01916"></a>01916         {
<a name="l01917"></a>01917                 returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>, nV, lb_file );
<a name="l01918"></a>01918                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01919"></a>01919                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01920"></a>01920         }
<a name="l01921"></a>01921         <span class="keywordflow">else</span>
<a name="l01922"></a>01922         {
<a name="l01923"></a>01923                 <span class="comment">/* if no lower bounds are specified, set them to -infinity */</span>
<a name="l01924"></a>01924                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01925"></a>01925                         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = -<a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l01926"></a>01926         }
<a name="l01927"></a>01927 
<a name="l01928"></a>01928         <span class="comment">/* 4) Load upper bounds vector from file. */</span>
<a name="l01929"></a>01929         <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l01930"></a>01930         {
<a name="l01931"></a>01931                 returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>, nV, ub_file );
<a name="l01932"></a>01932                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01933"></a>01933                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01934"></a>01934         }
<a name="l01935"></a>01935         <span class="keywordflow">else</span>
<a name="l01936"></a>01936         {
<a name="l01937"></a>01937                 <span class="comment">/* if no upper bounds are specified, set them to infinity */</span>
<a name="l01938"></a>01938                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l01939"></a>01939                         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="Constants_8hpp.html#a90ebbbce8b8f93a5785ca4d4d19d12a6">INFTY</a>;
<a name="l01940"></a>01940         }
<a name="l01941"></a>01941 
<a name="l01942"></a>01942         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l01943"></a>01943 }
<a name="l01944"></a>01944 
<a name="l01945"></a>01945 
<a name="l01946"></a>01946 <span class="comment">/*</span>
<a name="l01947"></a>01947 <span class="comment"> *      l o a d Q P v e c t o r s F r o m F i l e</span>
<a name="l01948"></a>01948 <span class="comment"> */</span>
<a name="l01949"></a><a class="code" href="classQProblemB.html#ae259361d8fafaaef726effba9d63c95b">01949</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ae259361d8fafaaef726effba9d63c95b">QProblemB::loadQPvectorsFromFile</a>(   <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> g_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> lb_file, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> ub_file,
<a name="l01950"></a>01950                                                                                                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new
<a name="l01951"></a>01951                                                                                                 )<span class="keyword"> const</span>
<a name="l01952"></a>01952 <span class="keyword"></span>{
<a name="l01953"></a>01953         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l01954"></a>01954 
<a name="l01955"></a>01955         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue;
<a name="l01956"></a>01956 
<a name="l01957"></a>01957 
<a name="l01958"></a>01958         <span class="comment">/* 1) Load gradient vector from file. */</span>
<a name="l01959"></a>01959         <span class="keywordflow">if</span> ( ( g_file != 0 ) &amp;&amp; ( g_new != 0 ) )
<a name="l01960"></a>01960         {
<a name="l01961"></a>01961                 returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( g_new, nV, g_file );
<a name="l01962"></a>01962                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01963"></a>01963                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01964"></a>01964         }
<a name="l01965"></a>01965         <span class="keywordflow">else</span>
<a name="l01966"></a>01966         {
<a name="l01967"></a>01967                 <span class="comment">/* At least gradient vector needs to be specified! */</span>
<a name="l01968"></a>01968                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l01969"></a>01969         }
<a name="l01970"></a>01970 
<a name="l01971"></a>01971         <span class="comment">/* 2) Load lower bounds vector from file. */</span>
<a name="l01972"></a>01972         <span class="keywordflow">if</span> ( lb_file != 0 )
<a name="l01973"></a>01973         {
<a name="l01974"></a>01974                 <span class="keywordflow">if</span> ( lb_new != 0 )
<a name="l01975"></a>01975                 {
<a name="l01976"></a>01976                         returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( lb_new, nV, lb_file );
<a name="l01977"></a>01977                         <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01978"></a>01978                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01979"></a>01979                 }
<a name="l01980"></a>01980                 <span class="keywordflow">else</span>
<a name="l01981"></a>01981                 {
<a name="l01982"></a>01982                         <span class="comment">/* If filename is given, storage must be provided! */</span>
<a name="l01983"></a>01983                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l01984"></a>01984                 }
<a name="l01985"></a>01985         }
<a name="l01986"></a>01986 
<a name="l01987"></a>01987         <span class="comment">/* 3) Load upper bounds vector from file. */</span>
<a name="l01988"></a>01988         <span class="keywordflow">if</span> ( ub_file != 0 )
<a name="l01989"></a>01989         {
<a name="l01990"></a>01990                 <span class="keywordflow">if</span> ( ub_new != 0 )
<a name="l01991"></a>01991                 {
<a name="l01992"></a>01992                         returnvalue = <a class="code" href="Utils_8hpp.html#ab89740d14815571af03d5e8fea961c67">readFromFile</a>( ub_new, nV, ub_file );
<a name="l01993"></a>01993                         <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l01994"></a>01994                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l01995"></a>01995                 }
<a name="l01996"></a>01996                 <span class="keywordflow">else</span>
<a name="l01997"></a>01997                 {
<a name="l01998"></a>01998                         <span class="comment">/* If filename is given, storage must be provided! */</span>
<a name="l01999"></a>01999                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l02000"></a>02000                 }
<a name="l02001"></a>02001         }
<a name="l02002"></a>02002 
<a name="l02003"></a>02003         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02004"></a>02004 }
<a name="l02005"></a>02005 
<a name="l02006"></a>02006 
<a name="l02007"></a>02007 <span class="comment">/*</span>
<a name="l02008"></a>02008 <span class="comment"> *      s e t I n f e a s i b i l i t y F l a g</span>
<a name="l02009"></a>02009 <span class="comment"> */</span>
<a name="l02010"></a><a class="code" href="classQProblemB.html#a0ee80a22826580862cc33ca63fe35d23">02010</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a0ee80a22826580862cc33ca63fe35d23">QProblemB::setInfeasibilityFlag</a>(    <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue
<a name="l02011"></a>02011                                                                                                 )
<a name="l02012"></a>02012 {
<a name="l02013"></a>02013         <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l02014"></a>02014 
<a name="l02015"></a>02015         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa691471f2994643343ddcf2b697a19aa">enableFarBounds</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l02016"></a>02016                 <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( returnvalue );
<a name="l02017"></a>02017 
<a name="l02018"></a>02018         <span class="keywordflow">return</span> returnvalue;
<a name="l02019"></a>02019 }
<a name="l02020"></a>02020 
<a name="l02021"></a>02021 
<a name="l02022"></a>02022 <span class="comment">/*</span>
<a name="l02023"></a>02023 <span class="comment"> *      i s C P U t i m e L i m i t E x c e e d e d</span>
<a name="l02024"></a>02024 <span class="comment"> */</span>
<a name="l02025"></a><a class="code" href="classQProblemB.html#a8b8bda0a6424e244a5d28d4c760cd0a8">02025</a> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> <a class="code" href="classQProblemB.html#a8b8bda0a6424e244a5d28d4c760cd0a8">QProblemB::isCPUtimeLimitExceeded</a>(  <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime,
<a name="l02026"></a>02026                                                                                                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> starttime,
<a name="l02027"></a>02027                                                                                                 <span class="keywordtype">int</span> nWSR
<a name="l02028"></a>02028                                                                                                 )<span class="keyword"> const</span>
<a name="l02029"></a>02029 <span class="keyword"></span>{
<a name="l02030"></a>02030         <span class="comment">/* Always perform next QP iteration if no CPU time limit is given. */</span>
<a name="l02031"></a>02031         <span class="keywordflow">if</span> ( cputime == 0 )
<a name="l02032"></a>02032                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02033"></a>02033 
<a name="l02034"></a>02034         <span class="comment">/* Always perform first QP iteration. */</span>
<a name="l02035"></a>02035         <span class="keywordflow">if</span> ( nWSR &lt;= 0 )
<a name="l02036"></a>02036                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02037"></a>02037 
<a name="l02038"></a>02038         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> elapsedTime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02039"></a>02039         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> timePerIteration = elapsedTime / ((<a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>) nWSR);
<a name="l02040"></a>02040 
<a name="l02041"></a>02041         <span class="comment">/* Determine if next QP iteration exceed CPU time limit</span>
<a name="l02042"></a>02042 <span class="comment">         * considering the (current) average CPU time per iteration. */</span>
<a name="l02043"></a>02043         <span class="keywordflow">if</span> ( ( elapsedTime + timePerIteration*1.25 ) &lt;= ( *cputime ) )
<a name="l02044"></a>02044                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02045"></a>02045         <span class="keywordflow">else</span>
<a name="l02046"></a>02046                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l02047"></a>02047 }
<a name="l02048"></a>02048 
<a name="l02049"></a>02049 
<a name="l02050"></a>02050 <span class="comment">/*</span>
<a name="l02051"></a>02051 <span class="comment"> *      r e g u l a r i s e H e s s i a n</span>
<a name="l02052"></a>02052 <span class="comment"> */</span>
<a name="l02053"></a><a class="code" href="classQProblemB.html#a8377ea426acc7a7b78a0c78944ded1b4">02053</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a8377ea426acc7a7b78a0c78944ded1b4">QProblemB::regulariseHessian</a>( )
<a name="l02054"></a>02054 {
<a name="l02055"></a>02055         <span class="comment">/* Do nothing if Hessian regularisation is disbaled! */</span>
<a name="l02056"></a>02056         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#adebe0981cee6bd30e7f242fa16efddb7">enableRegularisation</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l02057"></a>02057                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02058"></a>02058 
<a name="l02059"></a>02059         <span class="comment">/* Regularisation of identity Hessian not possible. */</span>
<a name="l02060"></a>02060         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a> )
<a name="l02061"></a>02061                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5ac263d3f3d58b21ad5a7d8acf0d0f1a">RET_CANNOT_REGULARISE_IDENTITY</a> );
<a name="l02062"></a>02062 
<a name="l02063"></a>02063         <span class="comment">/* Determine regularisation parameter. */</span>
<a name="l02064"></a>02064         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02065"></a>02065                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eade28ffbdc237b9eea7984f9b1528d0dc">RET_HESSIAN_ALREADY_REGULARISED</a> );
<a name="l02066"></a>02066         <span class="keywordflow">else</span>
<a name="l02067"></a>02067         {
<a name="l02068"></a>02068                 <span class="comment">/* Regularisation of zero Hessian is done implicitly. */</span>
<a name="l02069"></a>02069                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> )
<a name="l02070"></a>02070                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#a7ee8d1b4ef0d5d5fb34342ea1889382f">addToDiag</a>( <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#a1cb0da3d4cf9b7c4ae21efbc05f66556">getNorm</a>() * <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a> ) == <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8943a9c79dedf9ec98017d4e5e6f5c54">RET_NO_DIAGONAL_AVAILABLE</a> )
<a name="l02071"></a>02071                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea79e1878fd21c0218dc663c3952a2f067">RET_CANNOT_REGULARISE_SPARSE</a> );
<a name="l02072"></a>02072 
<a name="l02073"></a>02073                 <a class="code" href="classQProblemB.html#a2584bbb5ab93f06aa5f3a634ac9076ac">isRegularised</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l02074"></a>02074                 <a class="code" href="MessageHandling_8hpp.html#a0ef7741d67176593da953e5baa206ce9">THROWINFO</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea75c73ef826f1237867456e7db8fdee36">RET_USING_REGULARISATION</a> );
<a name="l02075"></a>02075         }
<a name="l02076"></a>02076 
<a name="l02077"></a>02077         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02078"></a>02078 }
<a name="l02079"></a>02079 
<a name="l02080"></a>02080 
<a name="l02081"></a>02081 
<a name="l02082"></a>02082 <span class="comment">/*</span>
<a name="l02083"></a>02083 <span class="comment"> *      p e r f o r m R a t i o T e s t</span>
<a name="l02084"></a>02084 <span class="comment"> */</span>
<a name="l02085"></a><a class="code" href="classQProblemB.html#afe150f11de090a35ae1bdcc9a00761b6">02085</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#afe150f11de090a35ae1bdcc9a00761b6">QProblemB::performRatioTest</a>(        <span class="keyword">const</span> <span class="keywordtype">int</span> nIdx,
<a name="l02086"></a>02086                                                                                         <span class="keyword">const</span> <span class="keywordtype">int</span>* <span class="keyword">const</span> idxList,
<a name="l02087"></a>02087                                                                                         <span class="keyword">const</span> <a class="code" href="classSubjectTo.html" title="Base class for managing working sets of bounds and constraints.">SubjectTo</a>* <span class="keyword">const</span> subjectTo,
<a name="l02088"></a>02088                                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> num,
<a name="l02089"></a>02089                                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> den,
<a name="l02090"></a>02090                                                                                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> epsNum,
<a name="l02091"></a>02091                                                                                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> epsDen,
<a name="l02092"></a>02092                                                                                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>&amp; t,
<a name="l02093"></a>02093                                                                                         <span class="keywordtype">int</span>&amp; BC_idx
<a name="l02094"></a>02094                                                                                         )<span class="keyword"> const</span>
<a name="l02095"></a>02095 <span class="keyword"></span>{
<a name="l02096"></a>02096         <span class="keywordtype">int</span> i, ii;
<a name="l02097"></a>02097 
<a name="l02098"></a>02098         BC_idx = -1;
<a name="l02099"></a>02099 
<a name="l02100"></a>02100         <span class="keywordflow">for</span>( i=0; i&lt;nIdx; ++i )
<a name="l02101"></a>02101         {
<a name="l02102"></a>02102                 ii = idxList[i];
<a name="l02103"></a>02103 
<a name="l02104"></a>02104                 <span class="keywordflow">if</span> ( subjectTo-&gt;<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( ii ) != <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l02105"></a>02105                 {
<a name="l02106"></a>02106                         <span class="keywordflow">if</span> ( ( subjectTo-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( ii ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) || ( subjectTo-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( ii ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> ) )
<a name="l02107"></a>02107                         {
<a name="l02108"></a>02108                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a1586927949ceff7c43b8063f81887c0b">isBlocking</a>( num[i],den[i],epsNum,epsDen,t ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02109"></a>02109                                 {
<a name="l02110"></a>02110                                         t = num[i] / den[i];
<a name="l02111"></a>02111                                         BC_idx = ii;
<a name="l02112"></a>02112                                 }
<a name="l02113"></a>02113                         }
<a name="l02114"></a>02114                         <span class="keywordflow">else</span>
<a name="l02115"></a>02115                         <span class="keywordflow">if</span> ( subjectTo-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( ii ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a> )
<a name="l02116"></a>02116                         {
<a name="l02117"></a>02117                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a1586927949ceff7c43b8063f81887c0b">isBlocking</a>( -num[i],-den[i],epsNum,epsDen,t ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02118"></a>02118                                 {
<a name="l02119"></a>02119                                         t = num[i] / den[i];
<a name="l02120"></a>02120                                         BC_idx = ii;
<a name="l02121"></a>02121                                 }
<a name="l02122"></a>02122                         }
<a name="l02123"></a>02123                 }
<a name="l02124"></a>02124         }
<a name="l02125"></a>02125 
<a name="l02126"></a>02126         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02127"></a>02127 }
<a name="l02128"></a>02128 
<a name="l02129"></a>02129 
<a name="l02130"></a>02130 <span class="comment">/*</span>
<a name="l02131"></a>02131 <span class="comment"> * r e l a t i v e H o m o t o p y L e n g t h</span>
<a name="l02132"></a>02132 <span class="comment"> */</span>
<a name="l02133"></a><a class="code" href="classQProblemB.html#ab5f21075b1a4f3edd841a5e76af1cf1d">02133</a> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> <a class="code" href="classQProblemB.html#ab5f21075b1a4f3edd841a5e76af1cf1d">QProblemB::relativeHomotopyLength</a>(<span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new)
<a name="l02134"></a>02134 {
<a name="l02135"></a>02135         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ), i;
<a name="l02136"></a>02136         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> d, s, len = 0.0;
<a name="l02137"></a>02137 
<a name="l02138"></a>02138         <span class="comment">/* gradient */</span>
<a name="l02139"></a>02139         <span class="keywordflow">for</span> (i = 0; i &lt; nV; i++)
<a name="l02140"></a>02140         {
<a name="l02141"></a>02141                 s = fabs(g_new[i]);
<a name="l02142"></a>02142                 <span class="keywordflow">if</span> (s &lt; 1.0) s = 1.0;
<a name="l02143"></a>02143                 d = fabs(g_new[i] - <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i]) / s;
<a name="l02144"></a>02144                 <span class="keywordflow">if</span> (d &gt; len) len = d;
<a name="l02145"></a>02145         }
<a name="l02146"></a>02146 
<a name="l02147"></a>02147         <span class="comment">/* lower bounds */</span>
<a name="l02148"></a>02148         <span class="keywordflow">for</span> (i = 0; i &lt; nV &amp;&amp; lb_new; i++)
<a name="l02149"></a>02149         {
<a name="l02150"></a>02150                 s = fabs(lb_new[i]);
<a name="l02151"></a>02151                 <span class="keywordflow">if</span> (s &lt; 1.0) s = 1.0;
<a name="l02152"></a>02152                 d = fabs(lb_new[i] - <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i]) / s;
<a name="l02153"></a>02153                 <span class="keywordflow">if</span> (d &gt; len) len = d;
<a name="l02154"></a>02154         }
<a name="l02155"></a>02155 
<a name="l02156"></a>02156         <span class="comment">/* upper bounds */</span>
<a name="l02157"></a>02157         <span class="keywordflow">for</span> (i = 0; i &lt; nV &amp;&amp; ub_new; i++)
<a name="l02158"></a>02158         {
<a name="l02159"></a>02159                 s = fabs(ub_new[i]);
<a name="l02160"></a>02160                 <span class="keywordflow">if</span> (s &lt; 1.0) s = 1.0;
<a name="l02161"></a>02161                 d = fabs(ub_new[i] - <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i]) / s;
<a name="l02162"></a>02162                 <span class="keywordflow">if</span> (d &gt; len) len = d;
<a name="l02163"></a>02163         }
<a name="l02164"></a>02164 
<a name="l02165"></a>02165         <span class="keywordflow">return</span> len;
<a name="l02166"></a>02166 }
<a name="l02167"></a>02167 
<a name="l02168"></a>02168 
<a name="l02169"></a>02169 <span class="comment">/*</span>
<a name="l02170"></a>02170 <span class="comment"> * p e r f o r m R a m p i n g</span>
<a name="l02171"></a>02171 <span class="comment"> */</span>
<a name="l02172"></a><a class="code" href="classQProblemB.html#aebf3301bb4f788933905b42341cdfa37">02172</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#aebf3301bb4f788933905b42341cdfa37">QProblemB::performRamping</a>( )
<a name="l02173"></a>02173 {
<a name="l02174"></a>02174         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( ), bstat, i;
<a name="l02175"></a>02175         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> t, rampVal;
<a name="l02176"></a>02176 
<a name="l02177"></a>02177         <span class="comment">/* ramp inactive bounds and active dual variables */</span>
<a name="l02178"></a>02178         <span class="keywordflow">for</span> (i = 0; i &lt; nV; i++)
<a name="l02179"></a>02179         {
<a name="l02180"></a>02180                 <span class="keywordflow">switch</span> (<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>(i))
<a name="l02181"></a>02181                 {
<a name="l02182"></a>02182                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a>: <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]; <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]; <span class="keywordflow">continue</span>; <span class="comment">/* reestablish exact feasibility */</span>
<a name="l02183"></a>02183                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a9dd4eea536b458dbd9fb66950c52eb87">ST_UNBOUNDED</a>: <span class="keywordflow">continue</span>;
<a name="l02184"></a>02184                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a0dee93bdee24d1a0823663359cb5f448">ST_DISABLED</a>: <span class="keywordflow">continue</span>;
<a name="l02185"></a>02185                         <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;
<a name="l02186"></a>02186                 }
<a name="l02187"></a>02187 
<a name="l02188"></a>02188                 t = <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>((i + <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a>) % nV) / <span class="keyword">static_cast&lt;</span><a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a><span class="keyword">&gt;</span>(nV-1);
<a name="l02189"></a>02189                 rampVal = (1.0-t) * <a class="code" href="classQProblemB.html#ac26a4dc4501ff1d6249631ea24e98d4c">ramp0</a> + t * <a class="code" href="classQProblemB.html#ac3741a9c8073cbb90b2fa071f10930b6">ramp1</a>;
<a name="l02190"></a>02190                 bstat = <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>(i);
<a name="l02191"></a>02191                 <span class="keywordflow">if</span> (bstat != <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a>) { <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] - rampVal; }
<a name="l02192"></a>02192                 <span class="keywordflow">if</span> (bstat != <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a>) { <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] + rampVal; }
<a name="l02193"></a>02193                 <span class="keywordflow">if</span> (bstat == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a>) { <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]; <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = +rampVal; }
<a name="l02194"></a>02194                 <span class="keywordflow">if</span> (bstat == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a>) { <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]; <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = -rampVal; }
<a name="l02195"></a>02195                 <span class="keywordflow">if</span> (bstat == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a>) <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = 0.0; <span class="comment">/* reestablish exact complementarity */</span>
<a name="l02196"></a>02196         }
<a name="l02197"></a>02197 
<a name="l02198"></a>02198         <span class="comment">/* reestablish exact stationarity */</span>
<a name="l02199"></a>02199         <a class="code" href="classQProblemB.html#a755a6dc3f2c212179e490b1982f578ef">setupAuxiliaryQPgradient</a>( );
<a name="l02200"></a>02200 
<a name="l02201"></a>02201         <span class="comment">/* advance ramp offset to avoid Ramping cycles */</span>
<a name="l02202"></a>02202         <a class="code" href="classQProblemB.html#ad71bc98142b24dd9de4d6127b56b5f1b">rampOffset</a>++;
<a name="l02203"></a>02203 
<a name="l02204"></a>02204         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02205"></a>02205 }
<a name="l02206"></a>02206 
<a name="l02207"></a>02207 
<a name="l02208"></a>02208 
<a name="l02209"></a>02209 <span class="comment">/*****************************************************************************</span>
<a name="l02210"></a>02210 <span class="comment"> *  P R I V A T E                                                            *</span>
<a name="l02211"></a>02211 <span class="comment"> *****************************************************************************/</span>
<a name="l02212"></a>02212 
<a name="l02213"></a>02213 <span class="comment">/*</span>
<a name="l02214"></a>02214 <span class="comment"> *      s o l v e I n i t i a l Q P</span>
<a name="l02215"></a>02215 <span class="comment"> */</span>
<a name="l02216"></a><a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">02216</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a916193fbb03310400784b569f29f6e7b">QProblemB::solveInitialQP</a>(  <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt,
<a name="l02217"></a>02217                                                                                 <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds,
<a name="l02218"></a>02218                                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime
<a name="l02219"></a>02219                                                                                 )
<a name="l02220"></a>02220 {
<a name="l02221"></a>02221         <span class="keywordtype">int</span> i;
<a name="l02222"></a>02222         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02223"></a>02223 
<a name="l02224"></a>02224 
<a name="l02225"></a>02225         <span class="comment">/* start runtime measurement */</span>
<a name="l02226"></a>02226         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> starttime = 0.0;
<a name="l02227"></a>02227         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02228"></a>02228                 starttime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( );
<a name="l02229"></a>02229 
<a name="l02230"></a>02230 
<a name="l02231"></a>02231         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a>;
<a name="l02232"></a>02232 
<a name="l02233"></a>02233         <span class="comment">/* I) ANALYSE QP DATA: */</span>
<a name="l02234"></a>02234         <span class="comment">/* 1) Check if Hessian happens to be the identity matrix. */</span>
<a name="l02235"></a>02235         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a05462a04d6ecec9f2f3d32b868ec546b">determineHessianType</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02236"></a>02236                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02237"></a>02237 
<a name="l02238"></a>02238         <span class="comment">/* 2) Setup type of bounds (i.e. unbounded, implicitly fixed etc.). */</span>
<a name="l02239"></a>02239         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">setupSubjectToType</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02240"></a>02240                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02241"></a>02241 
<a name="l02242"></a>02242         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac5afc0889e446a94b965bff2b1e823d6">QPS_PREPARINGAUXILIARYQP</a>;
<a name="l02243"></a>02243 
<a name="l02244"></a>02244 
<a name="l02245"></a>02245         <span class="comment">/* II) SETUP AUXILIARY QP WITH GIVEN OPTIMAL SOLUTION: */</span>
<a name="l02246"></a>02246         <span class="comment">/* 1) Setup bounds data structure. */</span>
<a name="l02247"></a>02247         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#ae2f0eb4f34eb9a16b7d036ce23fa7ad0">setupAllFree</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02248"></a>02248                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02249"></a>02249 
<a name="l02250"></a>02250         <span class="comment">/* 2) Setup optimal primal/dual solution for auxiliary QP. */</span>
<a name="l02251"></a>02251         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a7e98ddda9d825e10709f026517a9124b">setupAuxiliaryQPsolution</a>( xOpt,yOpt ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02252"></a>02252                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02253"></a>02253 
<a name="l02254"></a>02254         <span class="comment">/* 3) Obtain linear independent working set for auxiliary QP. */</span>
<a name="l02255"></a>02255         <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a> auxiliaryBounds( nV );
<a name="l02256"></a>02256         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af91ae892262c4bac8b2388387610eb40">obtainAuxiliaryWorkingSet</a>( xOpt,yOpt,guessedBounds, &amp;auxiliaryBounds ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02257"></a>02257                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02258"></a>02258 
<a name="l02259"></a>02259         <span class="comment">/* 4) Setup working set of auxiliary QP and setup cholesky decomposition. */</span>
<a name="l02260"></a>02260         <span class="comment">/* a) Working set of auxiliary QP. */</span>
<a name="l02261"></a>02261         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#aa239f4edd96c04640f9cb81f53966518">setupAuxiliaryWorkingSet</a>( &amp;auxiliaryBounds,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02262"></a>02262                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02263"></a>02263 
<a name="l02264"></a>02264         <span class="comment">/* b) Regularise Hessian if necessary. */</span>
<a name="l02265"></a>02265         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> ) || ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a4bd6c8ccecaaf211801db7381f2361ec">HST_SEMIDEF</a> ) )
<a name="l02266"></a>02266         {
<a name="l02267"></a>02267                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a8377ea426acc7a7b78a0c78944ded1b4">regulariseHessian</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02268"></a>02268                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eae5b4905ad0f9a6a0334de5b06d22ed78">RET_INIT_FAILED_REGULARISATION</a> );
<a name="l02269"></a>02269         }
<a name="l02270"></a>02270 
<a name="l02271"></a>02271         <a class="code" href="classQProblemB.html#a3647c70d0d4fba3f2afe2cca4d289102">haveCholesky</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02272"></a>02272 
<a name="l02273"></a>02273         <span class="comment">/* c) Cholesky decomposition. */</span>
<a name="l02274"></a>02274         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalueCholesky = <a class="code" href="classQProblemB.html#a8f47f2c6e9a5d0eaf78c15fa7eeb91e8">setupCholeskyDecomposition</a>( );
<a name="l02275"></a>02275 
<a name="l02276"></a>02276         <span class="comment">/* If Hessian is not positive definite, regularise and try again. */</span>
<a name="l02277"></a>02277         <span class="keywordflow">if</span> ( returnvalueCholesky == <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea02db76e7e6badd1b34350674562e9284">RET_HESSIAN_NOT_SPD</a> )
<a name="l02278"></a>02278         {
<a name="l02279"></a>02279                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a8377ea426acc7a7b78a0c78944ded1b4">regulariseHessian</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02280"></a>02280                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02281"></a>02281 
<a name="l02282"></a>02282                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a8f47f2c6e9a5d0eaf78c15fa7eeb91e8">setupCholeskyDecomposition</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02283"></a>02283                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea3768850ebfac736764b93f14b4872a93">RET_INIT_FAILED_CHOLESKY</a> );
<a name="l02284"></a>02284         }
<a name="l02285"></a>02285 
<a name="l02286"></a>02286         <span class="keywordflow">if</span> ( returnvalueCholesky == <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea02a025b066cd6f22ff6751c167749a88">RET_INDEXLIST_CORRUPTED</a> )
<a name="l02287"></a>02287                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea3768850ebfac736764b93f14b4872a93">RET_INIT_FAILED_CHOLESKY</a> );
<a name="l02288"></a>02288 
<a name="l02289"></a>02289         <a class="code" href="classQProblemB.html#a3647c70d0d4fba3f2afe2cca4d289102">haveCholesky</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l02290"></a>02290 
<a name="l02291"></a>02291         <span class="comment">/* 5) Store original QP formulation... */</span>
<a name="l02292"></a>02292         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* g_original = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02293"></a>02293         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* lb_original = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02294"></a>02294         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* ub_original = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02295"></a>02295 
<a name="l02296"></a>02296         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02297"></a>02297         {
<a name="l02298"></a>02298                 g_original[i]  = <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i];
<a name="l02299"></a>02299                 lb_original[i] = <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i];
<a name="l02300"></a>02300                 ub_original[i] = <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i];
<a name="l02301"></a>02301         }
<a name="l02302"></a>02302 
<a name="l02303"></a>02303         <span class="comment">/* ... and setup QP data of an auxiliary QP having an optimal solution</span>
<a name="l02304"></a>02304 <span class="comment">         * as specified by the user (or xOpt = yOpt = 0, by default). */</span>
<a name="l02305"></a>02305         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a755a6dc3f2c212179e490b1982f578ef">setupAuxiliaryQPgradient</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02306"></a>02306         {
<a name="l02307"></a>02307                 <span class="keyword">delete</span>[] ub_original; <span class="keyword">delete</span>[] lb_original; <span class="keyword">delete</span>[] g_original;
<a name="l02308"></a>02308                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02309"></a>02309         }
<a name="l02310"></a>02310 
<a name="l02311"></a>02311         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ac30dcd09ba67f2e04023f385e534ef73">setupAuxiliaryQPbounds</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02312"></a>02312         {
<a name="l02313"></a>02313                 <span class="keyword">delete</span>[] ub_original; <span class="keyword">delete</span>[] lb_original; <span class="keyword">delete</span>[] g_original;
<a name="l02314"></a>02314                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadb8ab9888977627abbebc017e9dcd083">RET_INIT_FAILED</a> );
<a name="l02315"></a>02315         }
<a name="l02316"></a>02316 
<a name="l02317"></a>02317         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a>;
<a name="l02318"></a>02318 
<a name="l02319"></a>02319 
<a name="l02320"></a>02320         <span class="comment">/* III) SOLVE ACTUAL INITIAL QP: */</span>
<a name="l02321"></a>02321 
<a name="l02322"></a>02322         <span class="comment">/* Allow only remaining CPU time for usual hotstart. */</span>
<a name="l02323"></a>02323         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02324"></a>02324                 *cputime -= <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02325"></a>02325 
<a name="l02326"></a>02326         <span class="comment">/* Use hotstart method to find the solution of the original initial QP,... */</span>
<a name="l02327"></a>02327         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue = <a class="code" href="classQProblemB.html#a234b173972e1028023cea210137f3a89">hotstart</a>( g_original,lb_original,ub_original, nWSR,cputime );
<a name="l02328"></a>02328 
<a name="l02329"></a>02329         <span class="comment">/* ... deallocate memory,... */</span>
<a name="l02330"></a>02330         <span class="keyword">delete</span>[] ub_original; <span class="keyword">delete</span>[] lb_original; <span class="keyword">delete</span>[] g_original;
<a name="l02331"></a>02331 
<a name="l02332"></a>02332         <span class="comment">/* ... check for infeasibility and unboundedness... */</span>
<a name="l02333"></a>02333         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a0a04b59313783541265e3c32f9782f88">isInfeasible</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02334"></a>02334                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea040d013f3f6fb6b8b7f4d934b6ab6e3b">RET_INIT_FAILED_INFEASIBILITY</a> );
<a name="l02335"></a>02335 
<a name="l02336"></a>02336         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a7cc69d93266a5b959e668dc0eaf399c6">isUnbounded</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02337"></a>02337                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaee1adc69a219c67785b374e183b469c8">RET_INIT_FAILED_UNBOUNDEDNESS</a> );
<a name="l02338"></a>02338 
<a name="l02339"></a>02339         <span class="comment">/* ... and internal errors. */</span>
<a name="l02340"></a>02340         <span class="keywordflow">if</span> ( ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> ) &amp;&amp; ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaae4f4541f015531f0d19acc9810665ba">RET_MAX_NWSR_REACHED</a> ) )
<a name="l02341"></a>02341                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea929a85f3bd16d5f7520c4c5ba529e374">RET_INIT_FAILED_HOTSTART</a> );
<a name="l02342"></a>02342 
<a name="l02343"></a>02343 
<a name="l02344"></a>02344         <span class="comment">/* stop runtime measurement */</span>
<a name="l02345"></a>02345         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02346"></a>02346                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02347"></a>02347 
<a name="l02348"></a>02348         <a class="code" href="MessageHandling_8hpp.html#a0ef7741d67176593da953e5baa206ce9">THROWINFO</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5d73a0655025d8630405f6dcabffe6b6">RET_INIT_SUCCESSFUL</a> );
<a name="l02349"></a>02349 
<a name="l02350"></a>02350         <span class="keywordflow">return</span> returnvalue;
<a name="l02351"></a>02351 }
<a name="l02352"></a>02352 
<a name="l02353"></a>02353 
<a name="l02354"></a>02354 <span class="comment">/*</span>
<a name="l02355"></a>02355 <span class="comment"> *      s o l v e Q P</span>
<a name="l02356"></a>02356 <span class="comment"> */</span>
<a name="l02357"></a><a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">02357</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">QProblemB::solveQP</a>( <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new,
<a name="l02358"></a>02358                                                                 <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new,
<a name="l02359"></a>02359                                                                 <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime, <span class="keywordtype">int</span> nWSRperformed
<a name="l02360"></a>02360                                                                 )
<a name="l02361"></a>02361 {
<a name="l02362"></a>02362         <span class="keywordtype">int</span> iter;
<a name="l02363"></a>02363         <span class="keywordtype">int</span> nV  = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02364"></a>02364 
<a name="l02365"></a>02365         <span class="comment">/* consistency check */</span>
<a name="l02366"></a>02366         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a> )       ||
<a name="l02367"></a>02367                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac5afc0889e446a94b965bff2b1e823d6">QPS_PREPARINGAUXILIARYQP</a> ) ||
<a name="l02368"></a>02368                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac817378114b9a25537c55a7b70bb0a4f">QPS_PERFORMINGHOMOTOPY</a> )   )
<a name="l02369"></a>02369         {
<a name="l02370"></a>02370                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea8ff62a8229d187900326a9ca1afac60b">RET_HOTSTART_FAILED_AS_QP_NOT_INITIALISED</a> );
<a name="l02371"></a>02371         }
<a name="l02372"></a>02372 
<a name="l02373"></a>02373         <span class="comment">/* start runtime measurement */</span>
<a name="l02374"></a>02374         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> starttime = 0.0;
<a name="l02375"></a>02375         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02376"></a>02376                 starttime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( );
<a name="l02377"></a>02377 
<a name="l02378"></a>02378 
<a name="l02379"></a>02379         <span class="comment">/* I) PREPARATIONS */</span>
<a name="l02380"></a>02380         <span class="comment">/* 1) Allocate delta vectors of gradient and bounds,</span>
<a name="l02381"></a>02381 <span class="comment">         *    index arrays and step direction arrays. */</span>
<a name="l02382"></a>02382         <span class="keywordtype">int</span> nFR, nFX;
<a name="l02383"></a>02383 
<a name="l02384"></a>02384         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* delta_xFR = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02385"></a>02385         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* delta_xFX = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02386"></a>02386         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* delta_yFX = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02387"></a>02387 
<a name="l02388"></a>02388         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* delta_g  = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02389"></a>02389         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* delta_lb = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02390"></a>02390         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* delta_ub = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02391"></a>02391 
<a name="l02392"></a>02392         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue;
<a name="l02393"></a>02393         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> Delta_bB_isZero;
<a name="l02394"></a>02394 
<a name="l02395"></a>02395         <span class="keywordtype">int</span> BC_idx;
<a name="l02396"></a>02396         <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4">SubjectToStatus</a> BC_status;
<a name="l02397"></a>02397 
<a name="l02398"></a>02398         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> homotopyLength;
<a name="l02399"></a>02399 
<a name="l02400"></a>02400         <span class="keywordtype">char</span> messageString[80];
<a name="l02401"></a>02401 
<a name="l02402"></a>02402         <span class="comment">/* 2) Update type of bounds, e.g. a formerly implicitly fixed</span>
<a name="l02403"></a>02403 <span class="comment">         *    variable might have become a normal one etc. */</span>
<a name="l02404"></a>02404         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">setupSubjectToType</a>( lb_new,ub_new ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02405"></a>02405                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea1c9fe897988e88507265cac330960522">RET_HOTSTART_FAILED</a> );
<a name="l02406"></a>02406 
<a name="l02407"></a>02407         <span class="comment">/* 3) Reset status flags. */</span>
<a name="l02408"></a>02408         <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a> = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02409"></a>02409         <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a>  = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02410"></a>02410 
<a name="l02411"></a>02411 
<a name="l02412"></a>02412         <span class="comment">/* II) MAIN HOMOTOPY LOOP */</span>
<a name="l02413"></a>02413         <span class="keywordflow">for</span>( iter=nWSRperformed; iter&lt;nWSR; ++iter )
<a name="l02414"></a>02414         {
<a name="l02415"></a>02415                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a8b8bda0a6424e244a5d28d4c760cd0a8">isCPUtimeLimitExceeded</a>( cputime,starttime,iter-nWSRperformed ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02416"></a>02416                 {
<a name="l02417"></a>02417                         <span class="comment">/* Assign number of working set recalculations and stop runtime measurement. */</span>
<a name="l02418"></a>02418                         nWSR = iter;
<a name="l02419"></a>02419                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02420"></a>02420                                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02421"></a>02421 
<a name="l02422"></a>02422                         <span class="keywordflow">break</span>;
<a name="l02423"></a>02423                 }
<a name="l02424"></a>02424 
<a name="l02425"></a>02425                 <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac817378114b9a25537c55a7b70bb0a4f">QPS_PERFORMINGHOMOTOPY</a>;
<a name="l02426"></a>02426 
<a name="l02427"></a>02427 <span class="preprocessor">                #ifndef __XPCTARGET__</span>
<a name="l02428"></a>02428 <span class="preprocessor"></span>                snprintf( messageString,80,<span class="stringliteral">&quot;%d ...&quot;</span>,iter );
<a name="l02429"></a>02429                 <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a57fafea776d1d7be7a36676a7396aabe">throwInfo</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea369fb8c9dc2a77a1e72f4eb103ed771b">RET_ITERATION_STARTED</a>,messageString,<a class="code" href="MessageHandling_8hpp.html#a828bb1dfda1afd67ca795075903d227d">__FUNCTION__</a>,<a class="code" href="MessageHandling_8hpp.html#a2f6bd616afd004b1ce994c2ba2ac9937">__FILE__</a>,<a class="code" href="MessageHandling_8hpp.html#adbfa1be789063f1c21478696be51bb70">__LINE__</a>,<a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l02430"></a>02430 <span class="preprocessor">                #endif</span>
<a name="l02431"></a>02431 <span class="preprocessor"></span>
<a name="l02432"></a>02432                 <span class="comment">/* some more definitions */</span>
<a name="l02433"></a>02433                 nFR = <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l02434"></a>02434                 nFX = <a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( );
<a name="l02435"></a>02435 
<a name="l02436"></a>02436                 <span class="comment">/* 2) Initialise shift direction of the gradient and the bounds. */</span>
<a name="l02437"></a>02437                 returnvalue = <a class="code" href="classQProblemB.html#a47a5f0abd5846f48f5273def9dbfa292">determineDataShift</a>(       g_new,lb_new,ub_new,
<a name="l02438"></a>02438                                                                                         delta_g,delta_lb,delta_ub,
<a name="l02439"></a>02439                                                                                         Delta_bB_isZero
<a name="l02440"></a>02440                                                                                         );
<a name="l02441"></a>02441                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02442"></a>02442                 {
<a name="l02443"></a>02443                         <span class="keyword">delete</span>[] delta_yFX; <span class="keyword">delete</span>[] delta_xFX; <span class="keyword">delete</span>[] delta_xFR;
<a name="l02444"></a>02444                         <span class="keyword">delete</span>[] delta_ub; <span class="keyword">delete</span>[] delta_lb; <span class="keyword">delete</span>[] delta_g;
<a name="l02445"></a>02445 
<a name="l02446"></a>02446                         <span class="comment">/* Assign number of working set recalculations and stop runtime measurement. */</span>
<a name="l02447"></a>02447                         nWSR = iter;
<a name="l02448"></a>02448                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02449"></a>02449                                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02450"></a>02450 
<a name="l02451"></a>02451                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea966bff668a8504f53f05a3d74acb7e4d">RET_SHIFT_DETERMINATION_FAILED</a> );
<a name="l02452"></a>02452                         <span class="keywordflow">return</span> returnvalue;
<a name="l02453"></a>02453                 }
<a name="l02454"></a>02454 
<a name="l02455"></a>02455                 <span class="comment">/* 3) Determination of step direction of X and Y. */</span>
<a name="l02456"></a>02456                 returnvalue = <a class="code" href="classQProblemB.html#a1771725d3ffca6a2f49e72c14935dc6b">determineStepDirection</a>(   delta_g,delta_lb,delta_ub,
<a name="l02457"></a>02457                                                                                                 Delta_bB_isZero,
<a name="l02458"></a>02458                                                                                                 delta_xFX,delta_xFR,delta_yFX
<a name="l02459"></a>02459                                                                                                 );
<a name="l02460"></a>02460                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02461"></a>02461                 {
<a name="l02462"></a>02462                         <span class="keyword">delete</span>[] delta_yFX; <span class="keyword">delete</span>[] delta_xFX; <span class="keyword">delete</span>[] delta_xFR;
<a name="l02463"></a>02463                         <span class="keyword">delete</span>[] delta_ub; <span class="keyword">delete</span>[] delta_lb; <span class="keyword">delete</span>[] delta_g;
<a name="l02464"></a>02464 
<a name="l02465"></a>02465                         <span class="comment">/* Assign number of working set recalculations and stop runtime measurement. */</span>
<a name="l02466"></a>02466                         nWSR = iter;
<a name="l02467"></a>02467                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02468"></a>02468                                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02469"></a>02469 
<a name="l02470"></a>02470                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea63adec4d91330be7334d9a6b1fa2441a">RET_STEPDIRECTION_DETERMINATION_FAILED</a> );
<a name="l02471"></a>02471                         <span class="keywordflow">return</span> returnvalue;
<a name="l02472"></a>02472                 }
<a name="l02473"></a>02473 
<a name="l02474"></a>02474 
<a name="l02475"></a>02475                 <span class="comment">/* 4) Determination of step length TAU.</span>
<a name="l02476"></a>02476 <span class="comment">                 *    This step along the homotopy path is also taken (without changing working set). */</span>
<a name="l02477"></a>02477                 returnvalue = <a class="code" href="classQProblemB.html#a4c9323b593af246d693e0052969a7d3b">performStep</a>(      delta_g,delta_lb,delta_ub,
<a name="l02478"></a>02478                                                                         delta_xFX,delta_xFR,delta_yFX,
<a name="l02479"></a>02479                                                                         BC_idx,BC_status
<a name="l02480"></a>02480                                                                         );
<a name="l02481"></a>02481                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02482"></a>02482                 {
<a name="l02483"></a>02483                         <span class="keyword">delete</span>[] delta_yFX; <span class="keyword">delete</span>[] delta_xFX; <span class="keyword">delete</span>[] delta_xFR;
<a name="l02484"></a>02484                         <span class="keyword">delete</span>[] delta_ub; <span class="keyword">delete</span>[] delta_lb; <span class="keyword">delete</span>[] delta_g;
<a name="l02485"></a>02485 
<a name="l02486"></a>02486                         <span class="comment">/* Assign number of working set recalculations and stop runtime measurement. */</span>
<a name="l02487"></a>02487                         nWSR = iter;
<a name="l02488"></a>02488                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02489"></a>02489                                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02490"></a>02490 
<a name="l02491"></a>02491                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaa9223fc5e1a3d4223ab825c39bdd45d7">RET_STEPLENGTH_DETERMINATION_FAILED</a> );
<a name="l02492"></a>02492                         <span class="keywordflow">return</span> returnvalue;
<a name="l02493"></a>02493                 }
<a name="l02494"></a>02494 
<a name="l02495"></a>02495                 <span class="comment">/* 5) Termination criterion. */</span>
<a name="l02496"></a>02496                 homotopyLength = <a class="code" href="classQProblemB.html#ab5f21075b1a4f3edd841a5e76af1cf1d">relativeHomotopyLength</a>(g_new, lb_new, ub_new);
<a name="l02497"></a>02497                 <span class="keywordflow">if</span> ( homotopyLength &lt;= <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#ad18a17e6fd0c84625ad44261a7f73474">terminationTolerance</a> )
<a name="l02498"></a>02498                 {
<a name="l02499"></a>02499                         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a>;
<a name="l02500"></a>02500 
<a name="l02501"></a>02501                         <a class="code" href="MessageHandling_8hpp.html#a0ef7741d67176593da953e5baa206ce9">THROWINFO</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea0da5fbbcc17e08d9f65123a69051a817">RET_OPTIMAL_SOLUTION_FOUND</a> );
<a name="l02502"></a>02502 
<a name="l02503"></a>02503                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> &gt; <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a8f8368df28c91ba1e51b3977a7ea8ac8">PL_NONE</a> )
<a name="l02504"></a>02504                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a1f9623a773023031d2de267956e5e4be">printIteration</a>( iter,BC_idx,BC_status ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02505"></a>02505                                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadbb2b76be2af017a285a3f42e0b0ee3f">RET_PRINT_ITERATION_FAILED</a> ); <span class="comment">/* do not pass this as return value! */</span>
<a name="l02506"></a>02506 
<a name="l02507"></a>02507                         nWSR = iter;
<a name="l02508"></a>02508                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02509"></a>02509                                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02510"></a>02510 
<a name="l02511"></a>02511                         <span class="keyword">delete</span>[] delta_yFX; <span class="keyword">delete</span>[] delta_xFX; <span class="keyword">delete</span>[] delta_xFR;
<a name="l02512"></a>02512                         <span class="keyword">delete</span>[] delta_ub; <span class="keyword">delete</span>[] delta_lb; <span class="keyword">delete</span>[] delta_g;
<a name="l02513"></a>02513 
<a name="l02514"></a>02514                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02515"></a>02515                 }
<a name="l02516"></a>02516 
<a name="l02517"></a>02517 
<a name="l02518"></a>02518                 <span class="comment">/* 6) Change active set. */</span>
<a name="l02519"></a>02519                 returnvalue = <a class="code" href="classQProblemB.html#a3033858c3361c09b7f52629df6f7fdda">changeActiveSet</a>( BC_idx,BC_status );
<a name="l02520"></a>02520 
<a name="l02521"></a>02521                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02522"></a>02522                 {
<a name="l02523"></a>02523                         <span class="keyword">delete</span>[] delta_yFX; <span class="keyword">delete</span>[] delta_xFX; <span class="keyword">delete</span>[] delta_xFR;
<a name="l02524"></a>02524                         <span class="keyword">delete</span>[] delta_ub; <span class="keyword">delete</span>[] delta_lb; <span class="keyword">delete</span>[] delta_g;
<a name="l02525"></a>02525 
<a name="l02526"></a>02526                         <span class="comment">/* Assign number of working set recalculations and stop runtime measurement. */</span>
<a name="l02527"></a>02527                         nWSR = iter;
<a name="l02528"></a>02528                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02529"></a>02529                                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02530"></a>02530 
<a name="l02531"></a>02531                         <span class="comment">/* checks for infeasibility... */</span>
<a name="l02532"></a>02532                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#acfeba7662b0bc3050ae37b857e3ea419">infeasible</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02533"></a>02533                         {
<a name="l02534"></a>02534                                 <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a>;
<a name="l02535"></a>02535                                 <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a0ee80a22826580862cc33ca63fe35d23">setInfeasibilityFlag</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaa14167098be18a37cb7dd01f271d9c9c">RET_HOTSTART_STOPPED_INFEASIBILITY</a> );
<a name="l02536"></a>02536                         }
<a name="l02537"></a>02537 
<a name="l02538"></a>02538                         <span class="comment">/* ...unboundedness... */</span>
<a name="l02539"></a>02539                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a689fdbbb9231d84e6c653da59d069963">unbounded</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) <span class="comment">/* not necessary since objective function convex! */</span>
<a name="l02540"></a>02540                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadfc914d50d132f250df763ba5908246e">RET_HOTSTART_STOPPED_UNBOUNDEDNESS</a> );
<a name="l02541"></a>02541 
<a name="l02542"></a>02542                         <span class="comment">/* ... and throw unspecific error otherwise */</span>
<a name="l02543"></a>02543                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea536775f52bbc0a9fa4e2d0ddfee3be6f">RET_HOMOTOPY_STEP_FAILED</a> );
<a name="l02544"></a>02544                         <span class="keywordflow">return</span> returnvalue;
<a name="l02545"></a>02545                 }
<a name="l02546"></a>02546 
<a name="l02547"></a>02547                 <span class="comment">/* 7) Perform Ramping Strategy on zero homotopy step or drift correction (if desired). */</span>
<a name="l02548"></a>02548                  <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> &lt;= <a class="code" href="Constants_8hpp.html#afc9ba76ddc87912abdb9b0e9029ea34e">EPS</a> ) &amp;&amp; ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a8346f6e9a849cc3da7cbbede72a10196">enableRamping</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) )
<a name="l02549"></a>02549                         <a class="code" href="classQProblemB.html#aebf3301bb4f788933905b42341cdfa37">performRamping</a>( );
<a name="l02550"></a>02550                 <span class="keywordflow">else</span>
<a name="l02551"></a>02551                 <span class="keywordflow">if</span> ( (<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a7154bdf586544880d867c48eabe741b7">enableDriftCorrection</a> &gt; 0)
<a name="l02552"></a>02552                   &amp;&amp; ((iter+1) % <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a7154bdf586544880d867c48eabe741b7">enableDriftCorrection</a> == 0) )
<a name="l02553"></a>02553                         <a class="code" href="classQProblemB.html#ad127c5b219d755bbe8fb6c61fd16bf0e">performDriftCorrection</a>( );  <span class="comment">/* always returns SUCCESSFUL_RETURN */</span>
<a name="l02554"></a>02554 
<a name="l02555"></a>02555                 <span class="comment">/* 8) Output information of successful QP iteration. */</span>
<a name="l02556"></a>02556                 <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a>;
<a name="l02557"></a>02557 
<a name="l02558"></a>02558                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> &gt; <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a8f8368df28c91ba1e51b3977a7ea8ac8">PL_NONE</a> )
<a name="l02559"></a>02559                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a1f9623a773023031d2de267956e5e4be">printIteration</a>( iter,BC_idx,BC_status ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02560"></a>02560                                 <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eadbb2b76be2af017a285a3f42e0b0ee3f">RET_PRINT_ITERATION_FAILED</a> ); <span class="comment">/* do not pass this as return value! */</span>
<a name="l02561"></a>02561         }
<a name="l02562"></a>02562 
<a name="l02563"></a>02563         <span class="keyword">delete</span>[] delta_yFX; <span class="keyword">delete</span>[] delta_xFX; <span class="keyword">delete</span>[] delta_xFR;
<a name="l02564"></a>02564         <span class="keyword">delete</span>[] delta_ub; <span class="keyword">delete</span>[] delta_lb; <span class="keyword">delete</span>[] delta_g;
<a name="l02565"></a>02565 
<a name="l02566"></a>02566         <span class="comment">/* stop runtime measurement */</span>
<a name="l02567"></a>02567         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02568"></a>02568                 *cputime = <a class="code" href="Utils_8hpp.html#a07037e36d04406103bdd5de8c87d712d">getCPUtime</a>( ) - starttime;
<a name="l02569"></a>02569 
<a name="l02570"></a>02570 
<a name="l02571"></a>02571         <span class="comment">/* if programm gets to here, output information that QP could not be solved</span>
<a name="l02572"></a>02572 <span class="comment">         * within the given maximum numbers of working set changes */</span>
<a name="l02573"></a>02573         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> == <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5a7c08272588ef93a63665031fe77a4cb2">PL_HIGH</a> )
<a name="l02574"></a>02574         {
<a name="l02575"></a>02575 <span class="preprocessor">                #ifndef __XPCTARGET__</span>
<a name="l02576"></a>02576 <span class="preprocessor"></span>                snprintf( messageString,80,<span class="stringliteral">&quot;(nWSR = %d)&quot;</span>,iter );
<a name="l02577"></a>02577                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a20916177fb0e5a55e1cc74df22e53795">throwWarning</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaae4f4541f015531f0d19acc9810665ba">RET_MAX_NWSR_REACHED</a>,messageString,<a class="code" href="MessageHandling_8hpp.html#a828bb1dfda1afd67ca795075903d227d">__FUNCTION__</a>,<a class="code" href="MessageHandling_8hpp.html#a2f6bd616afd004b1ce994c2ba2ac9937">__FILE__</a>,<a class="code" href="MessageHandling_8hpp.html#adbfa1be789063f1c21478696be51bb70">__LINE__</a>,<a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l02578"></a>02578 <span class="preprocessor">                #else</span>
<a name="l02579"></a>02579 <span class="preprocessor"></span>                <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaae4f4541f015531f0d19acc9810665ba">RET_MAX_NWSR_REACHED</a>;
<a name="l02580"></a>02580 <span class="preprocessor">                #endif</span>
<a name="l02581"></a>02581 <span class="preprocessor"></span>        }
<a name="l02582"></a>02582         <span class="keywordflow">else</span>
<a name="l02583"></a>02583         {
<a name="l02584"></a>02584                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaae4f4541f015531f0d19acc9810665ba">RET_MAX_NWSR_REACHED</a>;
<a name="l02585"></a>02585         }
<a name="l02586"></a>02586 }
<a name="l02587"></a>02587 
<a name="l02588"></a>02588 
<a name="l02589"></a>02589 <span class="comment">/*</span>
<a name="l02590"></a>02590 <span class="comment"> *      s o l v e R e g u l a r i s e d Q P</span>
<a name="l02591"></a>02591 <span class="comment"> */</span>
<a name="l02592"></a><a class="code" href="classQProblemB.html#aa33ddd65f2e97695c58dacecf9f39e1e">02592</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#aa33ddd65f2e97695c58dacecf9f39e1e">QProblemB::solveRegularisedQP</a>(      <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> g_new,
<a name="l02593"></a>02593                                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> lb_new, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> ub_new,
<a name="l02594"></a>02594                                                                                         <span class="keywordtype">int</span>&amp; nWSR, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> cputime, <span class="keywordtype">int</span> nWSRperformed
<a name="l02595"></a>02595                                                                                         )
<a name="l02596"></a>02596 {
<a name="l02597"></a>02597         <span class="keywordtype">int</span> i, step;
<a name="l02598"></a>02598         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02599"></a>02599 
<a name="l02600"></a>02600 
<a name="l02601"></a>02601         <span class="comment">/* Stop here if QP has not been regularised (i.e. normal QP solution). */</span>
<a name="l02602"></a>02602         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l02603"></a>02603                 <span class="keywordflow">return</span> <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( g_new,lb_new,ub_new, nWSR,cputime,nWSRperformed );
<a name="l02604"></a>02604 
<a name="l02605"></a>02605 
<a name="l02606"></a>02606         <span class="comment">/* I) SOLVE USUAL REGULARISED QP */</span>
<a name="l02607"></a>02607         <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> returnvalue;
<a name="l02608"></a>02608 
<a name="l02609"></a>02609         <span class="keywordtype">int</span> nWSR_max   = nWSR;
<a name="l02610"></a>02610         <span class="keywordtype">int</span> nWSR_total = nWSRperformed;
<a name="l02611"></a>02611 
<a name="l02612"></a>02612         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> cputime_total = 0.0;
<a name="l02613"></a>02613         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> cputime_cur   = 0.0;
<a name="l02614"></a>02614 
<a name="l02615"></a>02615         <span class="keywordflow">if</span> ( cputime == 0 )
<a name="l02616"></a>02616         {
<a name="l02617"></a>02617                 returnvalue = <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( g_new,lb_new,ub_new, nWSR,0,nWSRperformed );
<a name="l02618"></a>02618         }
<a name="l02619"></a>02619         <span class="keywordflow">else</span>
<a name="l02620"></a>02620         {
<a name="l02621"></a>02621                 cputime_cur = *cputime;
<a name="l02622"></a>02622                 returnvalue = <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( g_new,lb_new,ub_new, nWSR,&amp;cputime_cur,nWSRperformed );
<a name="l02623"></a>02623         }
<a name="l02624"></a>02624         nWSR_total     = nWSR;
<a name="l02625"></a>02625         cputime_total += cputime_cur;
<a name="l02626"></a>02626 
<a name="l02627"></a>02627 
<a name="l02628"></a>02628         <span class="comment">/* Only continue if QP solution has been successful. */</span>
<a name="l02629"></a>02629         <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02630"></a>02630         {
<a name="l02631"></a>02631                 <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02632"></a>02632                         *cputime = cputime_total;
<a name="l02633"></a>02633 
<a name="l02634"></a>02634                 <span class="keywordflow">if</span> ( returnvalue == <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaae4f4541f015531f0d19acc9810665ba">RET_MAX_NWSR_REACHED</a> )
<a name="l02635"></a>02635                         <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea9938f74eaab66668ea4fb5fb1ccf8588">RET_NO_REGSTEP_NWSR</a> );
<a name="l02636"></a>02636 
<a name="l02637"></a>02637                 <span class="keywordflow">return</span> returnvalue;
<a name="l02638"></a>02638         }
<a name="l02639"></a>02639 
<a name="l02640"></a>02640 
<a name="l02641"></a>02641         <span class="comment">/* II) PERFORM SUCCESSIVE REGULARISATION STEPS */</span>
<a name="l02642"></a>02642         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* gMod = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l02643"></a>02643 
<a name="l02644"></a>02644         <span class="keywordflow">for</span>( step=0; step&lt;<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a0993f3821e2570755fffed48a5f00cff">numRegularisationSteps</a>; ++step )
<a name="l02645"></a>02645         {
<a name="l02646"></a>02646                 <span class="comment">/* 1) Modify gradient: gMod = g - eps*xOpt</span>
<a name="l02647"></a>02647 <span class="comment">                 *    (assuming regularisation matrix to be eps*Id). */</span>
<a name="l02648"></a>02648                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02649"></a>02649                         gMod[i] = g_new[i] - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a>*<a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02650"></a>02650 
<a name="l02651"></a>02651                 <span class="comment">/* 2) Solve regularised QP with modified gradient allowing</span>
<a name="l02652"></a>02652 <span class="comment">                 *    only as many working set recalculations and CPU time</span>
<a name="l02653"></a>02653 <span class="comment">                 *    as have been left from previous QP solutions. */</span>
<a name="l02654"></a>02654                 if ( cputime == 0 )
<a name="l02655"></a>02655                 {
<a name="l02656"></a>02656                         nWSR = nWSR_max;
<a name="l02657"></a>02657                         returnvalue = <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( gMod,lb_new,ub_new, nWSR,0,nWSR_total );
<a name="l02658"></a>02658                 }
<a name="l02659"></a>02659                 <span class="keywordflow">else</span>
<a name="l02660"></a>02660                 {
<a name="l02661"></a>02661                         nWSR = nWSR_max;
<a name="l02662"></a>02662                         cputime_cur = *cputime - cputime_total;
<a name="l02663"></a>02663                         returnvalue = <a class="code" href="classQProblemB.html#a5031e8af5df38eca7f5384f0817f97a0">solveQP</a>( gMod,lb_new,ub_new, nWSR,&amp;cputime_cur,nWSR_total );
<a name="l02664"></a>02664                 }
<a name="l02665"></a>02665 
<a name="l02666"></a>02666                 nWSR_total     = nWSR;
<a name="l02667"></a>02667                 cputime_total += cputime_cur;
<a name="l02668"></a>02668 
<a name="l02669"></a>02669                 <span class="comment">/* Only continue if QP solution has been successful. */</span>
<a name="l02670"></a>02670                 <span class="keywordflow">if</span> ( returnvalue != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02671"></a>02671                 {
<a name="l02672"></a>02672                         <span class="keyword">delete</span>[] gMod;
<a name="l02673"></a>02673 
<a name="l02674"></a>02674                         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02675"></a>02675                                 *cputime = cputime_total;
<a name="l02676"></a>02676 
<a name="l02677"></a>02677                         <span class="keywordflow">if</span> ( returnvalue == <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaae4f4541f015531f0d19acc9810665ba">RET_MAX_NWSR_REACHED</a> )
<a name="l02678"></a>02678                                 <a class="code" href="MessageHandling_8hpp.html#a733e8e8f13934b6799f96a6dc8185439">THROWWARNING</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eae37f70d6c492aea2915ea9b3d4aaa46e">RET_FEWER_REGSTEPS_NWSR</a> );
<a name="l02679"></a>02679 
<a name="l02680"></a>02680                         <span class="keywordflow">return</span> returnvalue;
<a name="l02681"></a>02681                 }
<a name="l02682"></a>02682         }
<a name="l02683"></a>02683 
<a name="l02684"></a>02684         <span class="keyword">delete</span>[] gMod;
<a name="l02685"></a>02685 
<a name="l02686"></a>02686         <span class="keywordflow">if</span> ( cputime != 0 )
<a name="l02687"></a>02687                 *cputime = cputime_total;
<a name="l02688"></a>02688 
<a name="l02689"></a>02689         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02690"></a>02690 }
<a name="l02691"></a>02691 
<a name="l02692"></a>02692 
<a name="l02693"></a>02693 <span class="comment">/*</span>
<a name="l02694"></a>02694 <span class="comment"> *      s e t u p A u x i l i a r y W o r k i n g S e t</span>
<a name="l02695"></a>02695 <span class="comment"> */</span>
<a name="l02696"></a><a class="code" href="classQProblemB.html#aa239f4edd96c04640f9cb81f53966518">02696</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#aa239f4edd96c04640f9cb81f53966518">QProblemB::setupAuxiliaryWorkingSet</a>(        <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> auxiliaryBounds,
<a name="l02697"></a>02697                                                                                                         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> setupAfresh
<a name="l02698"></a>02698                                                                                                         )
<a name="l02699"></a>02699 {
<a name="l02700"></a>02700         <span class="keywordtype">int</span> i;
<a name="l02701"></a>02701         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02702"></a>02702 
<a name="l02703"></a>02703         <span class="comment">/* consistency checks */</span>
<a name="l02704"></a>02704         <span class="keywordflow">if</span> ( auxiliaryBounds != 0 )
<a name="l02705"></a>02705         {
<a name="l02706"></a>02706                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02707"></a>02707                         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> ) || ( auxiliaryBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> ) )
<a name="l02708"></a>02708                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaee57058f3b42d5e58c701115a79c38a0">RET_UNKNOWN_BUG</a> );
<a name="l02709"></a>02709         }
<a name="l02710"></a>02710         <span class="keywordflow">else</span>
<a name="l02711"></a>02711         {
<a name="l02712"></a>02712                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l02713"></a>02713         }
<a name="l02714"></a>02714 
<a name="l02715"></a>02715 
<a name="l02716"></a>02716         <span class="comment">/* I) SETUP CHOLESKY FLAG:</span>
<a name="l02717"></a>02717 <span class="comment">         *    Cholesky decomposition shall only be updated if working set</span>
<a name="l02718"></a>02718 <span class="comment">         *    shall be updated (i.e. NOT setup afresh!) */</span>
<a name="l02719"></a>02719         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> updateCholesky;
<a name="l02720"></a>02720         <span class="keywordflow">if</span> ( setupAfresh == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02721"></a>02721                 updateCholesky = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l02722"></a>02722         <span class="keywordflow">else</span>
<a name="l02723"></a>02723                 updateCholesky = <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l02724"></a>02724 
<a name="l02725"></a>02725 
<a name="l02726"></a>02726         <span class="comment">/* II) REMOVE FORMERLY ACTIVE BOUNDS (IF NECESSARY): */</span>
<a name="l02727"></a>02727         <span class="keywordflow">if</span> ( setupAfresh == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l02728"></a>02728         {
<a name="l02729"></a>02729                 <span class="comment">/* Remove all active bounds that shall be inactive AND</span>
<a name="l02730"></a>02730 <span class="comment">                *  all active bounds that are active at the wrong bound. */</span>
<a name="l02731"></a>02731                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02732"></a>02732                 {
<a name="l02733"></a>02733                         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) &amp;&amp; ( auxiliaryBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) != <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> ) )
<a name="l02734"></a>02734                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a45a48ffc46ef0d6ca41db087a3f85307">removeBound</a>( i,updateCholesky ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02735"></a>02735                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec83b172cd94f03da12758baad7c25af">RET_SETUP_WORKINGSET_FAILED</a> );
<a name="l02736"></a>02736 
<a name="l02737"></a>02737                         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a> ) &amp;&amp; ( auxiliaryBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) != <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a> ) )
<a name="l02738"></a>02738                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a45a48ffc46ef0d6ca41db087a3f85307">removeBound</a>( i,updateCholesky ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02739"></a>02739                                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec83b172cd94f03da12758baad7c25af">RET_SETUP_WORKINGSET_FAILED</a> );
<a name="l02740"></a>02740                 }
<a name="l02741"></a>02741         }
<a name="l02742"></a>02742 
<a name="l02743"></a>02743 
<a name="l02744"></a>02744         <span class="comment">/* III) ADD NEWLY ACTIVE BOUNDS: */</span>
<a name="l02745"></a>02745         <span class="comment">/*      Add all inactive bounds that shall be active AND</span>
<a name="l02746"></a>02746 <span class="comment">         *      all formerly active bounds that have been active at the wrong bound. */</span>
<a name="l02747"></a>02747         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02748"></a>02748         {
<a name="l02749"></a>02749                 <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> ) &amp;&amp; ( auxiliaryBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) != <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> ) )
<a name="l02750"></a>02750                 {
<a name="l02751"></a>02751                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a2ae40020546914db0d3349792c415c10">addBound</a>( i,auxiliaryBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ),updateCholesky ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02752"></a>02752                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec83b172cd94f03da12758baad7c25af">RET_SETUP_WORKINGSET_FAILED</a> );
<a name="l02753"></a>02753                 }
<a name="l02754"></a>02754         }
<a name="l02755"></a>02755 
<a name="l02756"></a>02756         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02757"></a>02757 }
<a name="l02758"></a>02758 
<a name="l02759"></a>02759 
<a name="l02760"></a>02760 <span class="comment">/*</span>
<a name="l02761"></a>02761 <span class="comment"> *      s e t u p A u x i l i a r y Q P s o l u t i o n</span>
<a name="l02762"></a>02762 <span class="comment"> */</span>
<a name="l02763"></a><a class="code" href="classQProblemB.html#a7e98ddda9d825e10709f026517a9124b">02763</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a7e98ddda9d825e10709f026517a9124b">QProblemB::setupAuxiliaryQPsolution</a>(        <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> xOpt, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> yOpt
<a name="l02764"></a>02764                                                                                                         )
<a name="l02765"></a>02765 {
<a name="l02766"></a>02766         <span class="keywordtype">int</span> i;
<a name="l02767"></a>02767         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02768"></a>02768 
<a name="l02769"></a>02769 
<a name="l02770"></a>02770         <span class="comment">/* Setup primal/dual solution vectors for auxiliary initial QP:</span>
<a name="l02771"></a>02771 <span class="comment">         * if a null pointer is passed, a zero vector is assigned;</span>
<a name="l02772"></a>02772 <span class="comment">         * old solution vector is kept if pointer to internal solution vector is passed. */</span>
<a name="l02773"></a>02773         <span class="keywordflow">if</span> ( xOpt != 0 )
<a name="l02774"></a>02774         {
<a name="l02775"></a>02775                 <span class="keywordflow">if</span> ( xOpt != <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a> )
<a name="l02776"></a>02776                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02777"></a>02777                                 <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] = xOpt[i];
<a name="l02778"></a>02778         }
<a name="l02779"></a>02779         <span class="keywordflow">else</span>
<a name="l02780"></a>02780         {
<a name="l02781"></a>02781                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02782"></a>02782                         <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] = 0.0;
<a name="l02783"></a>02783         }
<a name="l02784"></a>02784 
<a name="l02785"></a>02785         <span class="keywordflow">if</span> ( yOpt != 0 )
<a name="l02786"></a>02786         {
<a name="l02787"></a>02787                 <span class="keywordflow">if</span> ( yOpt != <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a> )
<a name="l02788"></a>02788                         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02789"></a>02789                                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = yOpt[i];
<a name="l02790"></a>02790         }
<a name="l02791"></a>02791         <span class="keywordflow">else</span>
<a name="l02792"></a>02792         {
<a name="l02793"></a>02793                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l02794"></a>02794                         <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = 0.0;
<a name="l02795"></a>02795         }
<a name="l02796"></a>02796 
<a name="l02797"></a>02797         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02798"></a>02798 }
<a name="l02799"></a>02799 
<a name="l02800"></a>02800 
<a name="l02801"></a>02801 <span class="comment">/*</span>
<a name="l02802"></a>02802 <span class="comment"> *      s e t u p A u x i l i a r y Q P g r a d i e n t</span>
<a name="l02803"></a>02803 <span class="comment"> */</span>
<a name="l02804"></a><a class="code" href="classQProblemB.html#a755a6dc3f2c212179e490b1982f578ef">02804</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a755a6dc3f2c212179e490b1982f578ef">QProblemB::setupAuxiliaryQPgradient</a>( )
<a name="l02805"></a>02805 {
<a name="l02806"></a>02806         <span class="keywordtype">int</span> i;
<a name="l02807"></a>02807         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02808"></a>02808 
<a name="l02809"></a>02809         <span class="comment">/* Setup gradient vector: g = -H*x + y&#39;*Id. */</span>
<a name="l02810"></a>02810         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> )
<a name="l02811"></a>02811         {
<a name="l02812"></a>02812                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>:
<a name="l02813"></a>02813                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l02814"></a>02814                                 <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l02815"></a>02815                                         <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i] = <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i];
<a name="l02816"></a>02816                         <span class="keywordflow">else</span>
<a name="l02817"></a>02817                                 <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l02818"></a>02818                                         <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i] = <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a>*<a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02819"></a>02819                         <span class="keywordflow">break</span>;
<a name="l02820"></a>02820 
<a name="l02821"></a>02821                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a>:
<a name="l02822"></a>02822                         for ( i=0; i&lt;nV; ++i )
<a name="l02823"></a>02823                                 <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i] = <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] - <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02824"></a>02824                         <span class="keywordflow">break</span>;
<a name="l02825"></a>02825 
<a name="l02826"></a>02826                 <span class="keywordflow">default</span>:
<a name="l02827"></a>02827                         <span class="comment">/* y&#39;*Id */</span>
<a name="l02828"></a>02828                         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l02829"></a>02829                                 <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i] = <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i];
<a name="l02830"></a>02830 
<a name="l02831"></a>02831                         <span class="comment">/* -H*x */</span>
<a name="l02832"></a>02832                         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(1, -1.0, <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>, nV, 1.0, <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>, nV);
<a name="l02833"></a>02833 
<a name="l02834"></a>02834                         <span class="keywordflow">break</span>;
<a name="l02835"></a>02835         }
<a name="l02836"></a>02836 
<a name="l02837"></a>02837         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02838"></a>02838 }
<a name="l02839"></a>02839 
<a name="l02840"></a>02840 
<a name="l02841"></a>02841 <span class="comment">/*</span>
<a name="l02842"></a>02842 <span class="comment"> *      s e t u p A u x i l i a r y Q P b o u n d s</span>
<a name="l02843"></a>02843 <span class="comment"> */</span>
<a name="l02844"></a><a class="code" href="classQProblemB.html#ac30dcd09ba67f2e04023f385e534ef73">02844</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ac30dcd09ba67f2e04023f385e534ef73">QProblemB::setupAuxiliaryQPbounds</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> useRelaxation )
<a name="l02845"></a>02845 {
<a name="l02846"></a>02846         <span class="keywordtype">int</span> i;
<a name="l02847"></a>02847         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02848"></a>02848 
<a name="l02849"></a>02849 
<a name="l02850"></a>02850         <span class="comment">/* Setup bound vectors. */</span>
<a name="l02851"></a>02851         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l02852"></a>02852         {
<a name="l02853"></a>02853                 <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) )
<a name="l02854"></a>02854                 {
<a name="l02855"></a>02855                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a>:
<a name="l02856"></a>02856                                 <span class="keywordflow">if</span> ( useRelaxation == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02857"></a>02857                                 {
<a name="l02858"></a>02858                                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) == <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l02859"></a>02859                                         {
<a name="l02860"></a>02860                                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02861"></a>02861                                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02862"></a>02862                                         }
<a name="l02863"></a>02863                                         <span class="keywordflow">else</span>
<a name="l02864"></a>02864                                         {
<a name="l02865"></a>02865                                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa23e1c8d7c64953adcc8cc2c3f03d25e">boundRelaxation</a>;
<a name="l02866"></a>02866                                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] + <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa23e1c8d7c64953adcc8cc2c3f03d25e">boundRelaxation</a>;
<a name="l02867"></a>02867                                         }
<a name="l02868"></a>02868                                 }
<a name="l02869"></a>02869                                 <span class="keywordflow">break</span>;
<a name="l02870"></a>02870 
<a name="l02871"></a>02871                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a>:
<a name="l02872"></a>02872                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02873"></a>02873                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) == <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l02874"></a>02874                                 {
<a name="l02875"></a>02875                                         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02876"></a>02876                                 }
<a name="l02877"></a>02877                                 <span class="keywordflow">else</span>
<a name="l02878"></a>02878                                 {
<a name="l02879"></a>02879                                         <span class="keywordflow">if</span> ( useRelaxation == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02880"></a>02880                                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] + <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa23e1c8d7c64953adcc8cc2c3f03d25e">boundRelaxation</a>;
<a name="l02881"></a>02881                                 }
<a name="l02882"></a>02882                                 <span class="keywordflow">break</span>;
<a name="l02883"></a>02883 
<a name="l02884"></a>02884                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a>:
<a name="l02885"></a>02885                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02886"></a>02886                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a>( i ) == <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a> )
<a name="l02887"></a>02887                                 {
<a name="l02888"></a>02888                                         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l02889"></a>02889                                 }
<a name="l02890"></a>02890                                 <span class="keywordflow">else</span>
<a name="l02891"></a>02891                                 {
<a name="l02892"></a>02892                                         <span class="keywordflow">if</span> ( useRelaxation == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02893"></a>02893                                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i] - <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aa23e1c8d7c64953adcc8cc2c3f03d25e">boundRelaxation</a>;
<a name="l02894"></a>02894                                 }
<a name="l02895"></a>02895                                 <span class="keywordflow">break</span>;
<a name="l02896"></a>02896 
<a name="l02897"></a>02897             <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a0dee93bdee24d1a0823663359cb5f448">ST_DISABLED</a>:
<a name="l02898"></a>02898                 <span class="keywordflow">break</span>;
<a name="l02899"></a>02899                 
<a name="l02900"></a>02900                         <span class="keywordflow">default</span>:
<a name="l02901"></a>02901                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaee57058f3b42d5e58c701115a79c38a0">RET_UNKNOWN_BUG</a> );
<a name="l02902"></a>02902                 }
<a name="l02903"></a>02903         }
<a name="l02904"></a>02904 
<a name="l02905"></a>02905         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02906"></a>02906 }
<a name="l02907"></a>02907 
<a name="l02908"></a>02908 
<a name="l02909"></a>02909 <span class="comment">/*</span>
<a name="l02910"></a>02910 <span class="comment"> *      s e t u p A u x i l i a r y Q P</span>
<a name="l02911"></a>02911 <span class="comment"> */</span>
<a name="l02912"></a><a class="code" href="classQProblemB.html#aa241e899e7019423ee5bba4edc1f4d23">02912</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#aa241e899e7019423ee5bba4edc1f4d23">QProblemB::setupAuxiliaryQP</a>( <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds )
<a name="l02913"></a>02913 {
<a name="l02914"></a>02914         <span class="keywordtype">int</span> i;
<a name="l02915"></a>02915         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l02916"></a>02916 
<a name="l02917"></a>02917         <span class="comment">/* nothing to do */</span>
<a name="l02918"></a>02918         <span class="keywordflow">if</span> ( guessedBounds == &amp;<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a> )
<a name="l02919"></a>02919                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02920"></a>02920 
<a name="l02921"></a>02921         <a class="code" href="classQProblemB.html#acc7ad0699dc78f9376ac5d5e84517b47">status</a> = <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac5afc0889e446a94b965bff2b1e823d6">QPS_PREPARINGAUXILIARYQP</a>;
<a name="l02922"></a>02922 
<a name="l02923"></a>02923 
<a name="l02924"></a>02924         <span class="comment">/* I) SETUP WORKING SET ... */</span>
<a name="l02925"></a>02925         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a52fa5dafb270b6d6872c4344d14aa529">shallRefactorise</a>( guessedBounds ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l02926"></a>02926         {
<a name="l02927"></a>02927                 <span class="comment">/* ... WITH REFACTORISATION: */</span>
<a name="l02928"></a>02928                 <span class="comment">/* 1) Reset bounds ... */</span>
<a name="l02929"></a>02929                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a11440ef91a144d38738d0d979ee8e9e3">init</a>( nV );
<a name="l02930"></a>02930 
<a name="l02931"></a>02931                 <span class="comment">/*    ... and set them up afresh. */</span>
<a name="l02932"></a>02932                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a4aa7da7c8454c0e53e65f923cd5c6e21">setupSubjectToType</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02933"></a>02933                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02934"></a>02934 
<a name="l02935"></a>02935                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#ae2f0eb4f34eb9a16b7d036ce23fa7ad0">setupAllFree</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02936"></a>02936                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02937"></a>02937 
<a name="l02938"></a>02938                 <span class="comment">/* 2) Setup guessed working set afresh. */</span>
<a name="l02939"></a>02939                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#aa239f4edd96c04640f9cb81f53966518">setupAuxiliaryWorkingSet</a>( guessedBounds,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02940"></a>02940                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02941"></a>02941 
<a name="l02942"></a>02942                 <span class="comment">/* 3) Calculate Cholesky decomposition. */</span>
<a name="l02943"></a>02943                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a8f47f2c6e9a5d0eaf78c15fa7eeb91e8">setupCholeskyDecomposition</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02944"></a>02944                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02945"></a>02945         }
<a name="l02946"></a>02946         <span class="keywordflow">else</span>
<a name="l02947"></a>02947         {
<a name="l02948"></a>02948                 <span class="comment">/* ... WITHOUT REFACTORISATION: */</span>
<a name="l02949"></a>02949                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#aa239f4edd96c04640f9cb81f53966518">setupAuxiliaryWorkingSet</a>( guessedBounds,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02950"></a>02950                         <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02951"></a>02951         }
<a name="l02952"></a>02952 
<a name="l02953"></a>02953 
<a name="l02954"></a>02954         <span class="comment">/* II) SETUP AUXILIARY QP DATA: */</span>
<a name="l02955"></a>02955         <span class="comment">/* 1) Ensure that dual variable is zero for fixed bounds. */</span>
<a name="l02956"></a>02956         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l02957"></a>02957                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) != <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> )
<a name="l02958"></a>02958                         <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = 0.0;
<a name="l02959"></a>02959 
<a name="l02960"></a>02960         <span class="comment">/* 2) Setup gradient and bound vectors. */</span>
<a name="l02961"></a>02961         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a755a6dc3f2c212179e490b1982f578ef">setupAuxiliaryQPgradient</a>( ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02962"></a>02962                 <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02963"></a>02963 
<a name="l02964"></a>02964         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ac30dcd09ba67f2e04023f385e534ef73">setupAuxiliaryQPbounds</a>( <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l02965"></a>02965                 <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea5f98321449f88fd725b91988f83da87a">RET_SETUP_AUXILIARYQP_FAILED</a> );
<a name="l02966"></a>02966 
<a name="l02967"></a>02967         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l02968"></a>02968 }
<a name="l02969"></a>02969 
<a name="l02970"></a>02970 
<a name="l02971"></a>02971 <span class="comment">/*</span>
<a name="l02972"></a>02972 <span class="comment"> *      d e t e r m i n e S t e p D i r e c t i o n</span>
<a name="l02973"></a>02973 <span class="comment"> */</span>
<a name="l02974"></a><a class="code" href="classQProblemB.html#a1771725d3ffca6a2f49e72c14935dc6b">02974</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a1771725d3ffca6a2f49e72c14935dc6b">QProblemB::determineStepDirection</a>(  <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_g, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_ub,
<a name="l02975"></a>02975                                                                                                 <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> Delta_bB_isZero,
<a name="l02976"></a>02976                                                                                                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_xFX, <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_xFR,
<a name="l02977"></a>02977                                                                                                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_yFX
<a name="l02978"></a>02978                                                                                                 )
<a name="l02979"></a>02979 {
<a name="l02980"></a>02980         <span class="keywordtype">int</span> i, ii;
<a name="l02981"></a>02981         <span class="keywordtype">int</span> r;
<a name="l02982"></a>02982         <span class="keywordtype">int</span> nFR = <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l02983"></a>02983         <span class="keywordtype">int</span> nFX = <a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( );
<a name="l02984"></a>02984         
<a name="l02985"></a>02985         <span class="keywordtype">int</span>* FR_idx;
<a name="l02986"></a>02986         <span class="keywordtype">int</span>* FX_idx;
<a name="l02987"></a>02987 
<a name="l02988"></a>02988         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FR_idx );
<a name="l02989"></a>02989         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FX_idx );
<a name="l02990"></a>02990 
<a name="l02991"></a>02991 
<a name="l02992"></a>02992         <span class="comment">/* This routine computes</span>
<a name="l02993"></a>02993 <span class="comment">         * delta_xFX := delta_b</span>
<a name="l02994"></a>02994 <span class="comment">         * delta_xFR := R \ R&#39; \ -( delta_g + HMX*delta_xFX )</span>
<a name="l02995"></a>02995 <span class="comment">         * delta_yFX := HMX&#39;*delta_xFR + HFX*delta_xFX  { + eps*delta_xFX }</span>
<a name="l02996"></a>02996 <span class="comment">         */</span>
<a name="l02997"></a>02997 
<a name="l02998"></a>02998         <span class="comment">/* I) DETERMINE delta_xFX := delta_{l|u}b */</span>
<a name="l02999"></a>02999         <span class="keywordflow">if</span> ( Delta_bB_isZero == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l03000"></a>03000         {
<a name="l03001"></a>03001                 <span class="keywordflow">for</span>( i=0; i&lt;nFX; ++i )
<a name="l03002"></a>03002                 {
<a name="l03003"></a>03003                         ii = FX_idx[i];
<a name="l03004"></a>03004 
<a name="l03005"></a>03005                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( ii ) == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> )
<a name="l03006"></a>03006                                 delta_xFX[i] = delta_lb[ii];
<a name="l03007"></a>03007                         <span class="keywordflow">else</span>
<a name="l03008"></a>03008                                 delta_xFX[i] = delta_ub[ii];
<a name="l03009"></a>03009                 }
<a name="l03010"></a>03010         }
<a name="l03011"></a>03011         <span class="keywordflow">else</span>
<a name="l03012"></a>03012         {
<a name="l03013"></a>03013                 <span class="keywordflow">for</span>( i=0; i&lt;nFX; ++i )
<a name="l03014"></a>03014                         delta_xFX[i] = 0.0;
<a name="l03015"></a>03015         }
<a name="l03016"></a>03016 
<a name="l03017"></a>03017 
<a name="l03018"></a>03018         <span class="comment">/* delta_xFR_TMP holds the residual, initialized with right hand side</span>
<a name="l03019"></a>03019 <span class="comment">         * delta_xFR holds the step that gets refined incrementally */</span>
<a name="l03020"></a>03020         <span class="keywordflow">for</span> ( i=0; i&lt;nFR; ++i )
<a name="l03021"></a>03021         {
<a name="l03022"></a>03022                 ii = FR_idx[i];
<a name="l03023"></a>03023                 <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i] = - delta_g[ii];
<a name="l03024"></a>03024                 delta_xFR[i] = 0.0;
<a name="l03025"></a>03025         }
<a name="l03026"></a>03026 
<a name="l03027"></a>03027 
<a name="l03028"></a>03028         <span class="comment">/* Iterative refinement loop for delta_xFR */</span>
<a name="l03029"></a>03029         <span class="keywordflow">for</span> ( r=0; r&lt;=<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a090518bedb440a53f6b7e31f45b9b4a5">numRefinementSteps</a>; ++r )
<a name="l03030"></a>03030         {
<a name="l03031"></a>03031                 <span class="comment">/* II) DETERMINE delta_xFR */</span>
<a name="l03032"></a>03032                 <span class="keywordflow">if</span> ( nFR &gt; 0 )
<a name="l03033"></a>03033                 {
<a name="l03034"></a>03034                         <span class="comment">/* Add - HMX*delta_xFX</span>
<a name="l03035"></a>03035 <span class="comment">                         * This is skipped if delta_b=0 or mixed part HM=0 (H=0 or H=Id) */</span>
<a name="l03036"></a>03036                         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> ) &amp;&amp; ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a> ) &amp;&amp; ( Delta_bB_isZero == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> ) &amp;&amp; ( r == 0 ) )
<a name="l03037"></a>03037                                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>(), <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>(), 1, -1.0, delta_xFX, nFX, 1.0, <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>, nFR);
<a name="l03038"></a>03038 
<a name="l03039"></a>03039                         <span class="comment">/* Determine R&#39; \ ( - HMX*delta_xFX - delta_gFR ) where R&#39;R = HFR */</span>
<a name="l03040"></a>03040                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">backsolveR</a>( <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>,<a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03041"></a>03041                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea66c9c26f584341bd30d86c0f48c5a006">RET_STEPDIRECTION_FAILED_CHOLESKY</a> );
<a name="l03042"></a>03042 
<a name="l03043"></a>03043                         <span class="comment">/* Determine HFR \ ( - HMX*delta_xFX - delta_gFR ) */</span>
<a name="l03044"></a>03044                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">backsolveR</a>( <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>,<a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03045"></a>03045                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea66c9c26f584341bd30d86c0f48c5a006">RET_STEPDIRECTION_FAILED_CHOLESKY</a> );
<a name="l03046"></a>03046                 }
<a name="l03047"></a>03047 
<a name="l03048"></a>03048                 <span class="comment">/* refine solution found for delta_xFR so far */</span>
<a name="l03049"></a>03049                 <span class="keywordflow">for</span> ( i=0; i&lt;nFR; ++i )
<a name="l03050"></a>03050                         delta_xFR[i] += <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i];
<a name="l03051"></a>03051 
<a name="l03052"></a>03052                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a090518bedb440a53f6b7e31f45b9b4a5">numRefinementSteps</a> &gt; 0 )
<a name="l03053"></a>03053                 {
<a name="l03054"></a>03054                         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> rnrm = 0.0;
<a name="l03055"></a>03055                         <span class="comment">/* compute new residual in delta_xFR_TMP:</span>
<a name="l03056"></a>03056 <span class="comment">                         * residual := - HFR*delta_xFR - HMX*delta_xFX - delta_gFR</span>
<a name="l03057"></a>03057 <span class="comment">                         * set to -delta_gFR */</span>
<a name="l03058"></a>03058                         <span class="keywordflow">for</span> ( i=0; i&lt;nFR; ++i )
<a name="l03059"></a>03059                         {
<a name="l03060"></a>03060                                 ii = FR_idx[i];
<a name="l03061"></a>03061                                 <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i] = -delta_g[ii];
<a name="l03062"></a>03062                         }
<a name="l03063"></a>03063                         <span class="comment">/* add - HFR*delta_xFR */</span>
<a name="l03064"></a>03064                         <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> )
<a name="l03065"></a>03065                         {
<a name="l03066"></a>03066                                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>:
<a name="l03067"></a>03067                                         <span class="keywordflow">break</span>;
<a name="l03068"></a>03068 
<a name="l03069"></a>03069                                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a>:
<a name="l03070"></a>03070                                         <span class="keywordflow">for</span> ( i=0; i&lt;nFR; ++i )
<a name="l03071"></a>03071                                         {
<a name="l03072"></a>03072                                                 <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i] -= delta_xFR[i];
<a name="l03073"></a>03073 
<a name="l03074"></a>03074                                                 <span class="comment">/* compute max norm */</span>
<a name="l03075"></a>03075                                                 <span class="keywordflow">if</span> (rnrm &lt; fabs (<a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i]))
<a name="l03076"></a>03076                                                         rnrm = fabs (<a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i]);
<a name="l03077"></a>03077                                         }
<a name="l03078"></a>03078                                         <span class="keywordflow">break</span>;
<a name="l03079"></a>03079 
<a name="l03080"></a>03080                                 <span class="keywordflow">default</span>:
<a name="l03081"></a>03081                                         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>(), <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>(),  1, -1.0, delta_xFR, nFR, 1.0, <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>, nFR);
<a name="l03082"></a>03082                                         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>(), <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>(), 1, -1.0, delta_xFX, nFX, 1.0, <a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>, nFR);
<a name="l03083"></a>03083 
<a name="l03084"></a>03084                                         <span class="comment">/* compute max norm */</span>
<a name="l03085"></a>03085                                         <span class="keywordflow">for</span> ( i=0; i&lt;nFR; ++i )
<a name="l03086"></a>03086                                                 <span class="keywordflow">if</span> (rnrm &lt; fabs (<a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i]))
<a name="l03087"></a>03087                                                         rnrm = fabs (<a class="code" href="classQProblemB.html#a06e401f5f0d6f9a9ce2caa81dc5d85b6">delta_xFR_TMP</a>[i]);
<a name="l03088"></a>03088 
<a name="l03089"></a>03089                                         <span class="keywordflow">break</span>;
<a name="l03090"></a>03090                         }
<a name="l03091"></a>03091                         
<a name="l03092"></a>03092                         <span class="comment">/* early termination of residual norm small enough */</span>
<a name="l03093"></a>03093                         <span class="keywordflow">if</span> ( rnrm &lt; <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a8d7b0b4ab3311519b73e0c30a98e7295">epsIterRef</a> )
<a name="l03094"></a>03094                                 <span class="keywordflow">break</span>;
<a name="l03095"></a>03095                 }
<a name="l03096"></a>03096 
<a name="l03097"></a>03097         } <span class="comment">/* end of refinement loop for delta_xFR */</span>
<a name="l03098"></a>03098 
<a name="l03099"></a>03099         <span class="comment">/* III) DETERMINE delta_yFX */</span>
<a name="l03100"></a>03100         <span class="keywordflow">if</span> ( nFX &gt; 0 )
<a name="l03101"></a>03101         {
<a name="l03102"></a>03102                 <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> ) || ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a> ) )
<a name="l03103"></a>03103                 {
<a name="l03104"></a>03104                         <span class="keywordflow">for</span>( i=0; i&lt;nFX; ++i )
<a name="l03105"></a>03105                         {
<a name="l03106"></a>03106                                 <span class="comment">/* set to delta_g */</span>
<a name="l03107"></a>03107                                 ii = FX_idx[i];
<a name="l03108"></a>03108                                 delta_yFX[i] = delta_g[ii];
<a name="l03109"></a>03109 
<a name="l03110"></a>03110                                 <span class="comment">/* add HFX*delta_xFX = {0|I}*delta_xFX */</span>
<a name="l03111"></a>03111                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> )
<a name="l03112"></a>03112                                 {
<a name="l03113"></a>03113                                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l03114"></a>03114                                                 delta_yFX[i] += <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a>*delta_xFX[i];
<a name="l03115"></a>03115                                 }
<a name="l03116"></a>03116                                 <span class="keywordflow">else</span>
<a name="l03117"></a>03117                                         delta_yFX[i] += delta_xFX[i];
<a name="l03118"></a>03118                         }
<a name="l03119"></a>03119                 }
<a name="l03120"></a>03120                 <span class="keywordflow">else</span>
<a name="l03121"></a>03121                 {
<a name="l03122"></a>03122                         <span class="keywordflow">for</span>( i=0; i&lt;nFX; ++i )
<a name="l03123"></a>03123                         {
<a name="l03124"></a>03124                                 <span class="comment">/* set to delta_g */</span>
<a name="l03125"></a>03125                                 ii = FX_idx[i];
<a name="l03126"></a>03126                                 delta_yFX[i] = delta_g[ii];
<a name="l03127"></a>03127                         }
<a name="l03128"></a>03128                         <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>(), <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>(), 1, 1.0, delta_xFR, nFR, 1.0, delta_yFX, nFX);
<a name="l03129"></a>03129                         <span class="keywordflow">if</span> (Delta_bB_isZero == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>)
<a name="l03130"></a>03130                                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#aab443ceb9e4e37d3efca65f446872dc2">times</a>(<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>(), <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>(), 1, 1.0, delta_xFX, nFX, 1.0, delta_yFX, nFX);
<a name="l03131"></a>03131                 }
<a name="l03132"></a>03132         }
<a name="l03133"></a>03133 
<a name="l03134"></a>03134         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03135"></a>03135 }
<a name="l03136"></a>03136 
<a name="l03137"></a>03137 
<a name="l03138"></a>03138 <span class="comment">/*</span>
<a name="l03139"></a>03139 <span class="comment"> *      p e r f o r m S t e p</span>
<a name="l03140"></a>03140 <span class="comment"> */</span>
<a name="l03141"></a><a class="code" href="classQProblemB.html#a4c9323b593af246d693e0052969a7d3b">03141</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a4c9323b593af246d693e0052969a7d3b">QProblemB::performStep</a>(     <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_g,
<a name="l03142"></a>03142                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_lb, <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_ub,
<a name="l03143"></a>03143                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_xFX,
<a name="l03144"></a>03144                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_xFR,
<a name="l03145"></a>03145                                                                         <span class="keyword">const</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* <span class="keyword">const</span> delta_yFX,
<a name="l03146"></a>03146                                                                         <span class="keywordtype">int</span>&amp; BC_idx, <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4">SubjectToStatus</a>&amp; BC_status
<a name="l03147"></a>03147                                                                         )
<a name="l03148"></a>03148 {
<a name="l03149"></a>03149         <span class="keywordtype">int</span> i, ii;
<a name="l03150"></a>03150         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l03151"></a>03151         <span class="keywordtype">int</span> nFR = <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l03152"></a>03152         <span class="keywordtype">int</span> nFX = <a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( );
<a name="l03153"></a>03153 
<a name="l03154"></a>03154         <span class="keywordtype">int</span>* FR_idx;
<a name="l03155"></a>03155         <span class="keywordtype">int</span>* FX_idx;
<a name="l03156"></a>03156 
<a name="l03157"></a>03157         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FR_idx );
<a name="l03158"></a>03158         <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a1819c61019c2b76a77336ac3159759ad">getFixed</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FX_idx );
<a name="l03159"></a>03159 
<a name="l03160"></a>03160         <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> = 1.0;
<a name="l03161"></a>03161         BC_idx = -1;
<a name="l03162"></a>03162         BC_status = <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a>;
<a name="l03163"></a>03163 
<a name="l03164"></a>03164         <span class="keywordtype">int</span> BC_idx_tmp = -1;
<a name="l03165"></a>03165 
<a name="l03166"></a>03166         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* num = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l03167"></a>03167         <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* den = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nV];
<a name="l03168"></a>03168 
<a name="l03169"></a>03169 
<a name="l03170"></a>03170         <span class="comment">/* I) DETERMINE MAXIMUM DUAL STEPLENGTH, i.e. ensure that</span>
<a name="l03171"></a>03171 <span class="comment">         *    active dual bounds remain valid (ignoring implicitly fixed variables): */</span>
<a name="l03172"></a>03172         <span class="keywordflow">for</span>( i=0; i&lt;nFX; ++i )
<a name="l03173"></a>03173         {
<a name="l03174"></a>03174                 ii = FX_idx[i];
<a name="l03175"></a>03175                 num[i] = <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[ii];
<a name="l03176"></a>03176                 den[i] = -delta_yFX[i];
<a name="l03177"></a>03177         }
<a name="l03178"></a>03178 
<a name="l03179"></a>03179         <a class="code" href="classQProblemB.html#afe150f11de090a35ae1bdcc9a00761b6">performRatioTest</a>( nFX,FX_idx,&amp;<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>, num,den, <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#af655ae1250e2c425b278644163cd3a61">epsNum</a>,<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a982819ac9663847af5c920416192de1b">epsDen</a>, <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,BC_idx_tmp );
<a name="l03180"></a>03180 
<a name="l03181"></a>03181         <span class="keywordflow">if</span> ( BC_idx_tmp &gt;= 0 )
<a name="l03182"></a>03182         {
<a name="l03183"></a>03183                 BC_idx = BC_idx_tmp;
<a name="l03184"></a>03184                 BC_status = <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a>;
<a name="l03185"></a>03185         }
<a name="l03186"></a>03186 
<a name="l03187"></a>03187 
<a name="l03188"></a>03188         <span class="comment">/* II) DETERMINE MAXIMUM PRIMAL STEPLENGTH, i.e. ensure that</span>
<a name="l03189"></a>03189 <span class="comment">         *     inactive bounds remain valid (ignoring unbounded variables). */</span>
<a name="l03190"></a>03190         <span class="comment">/* 1) Inactive lower bounds. */</span>
<a name="l03191"></a>03191         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#af4b7739129483c2d7e67048f5f5ed54b">hasNoLower</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l03192"></a>03192         {
<a name="l03193"></a>03193                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03194"></a>03194                 {
<a name="l03195"></a>03195                         ii = FR_idx[i];
<a name="l03196"></a>03196                         num[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a>( <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[ii] - <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[ii],0.0 );
<a name="l03197"></a>03197                         den[i] = delta_lb[ii] - delta_xFR[i];
<a name="l03198"></a>03198                 }
<a name="l03199"></a>03199 
<a name="l03200"></a>03200                 <a class="code" href="classQProblemB.html#afe150f11de090a35ae1bdcc9a00761b6">performRatioTest</a>( nFR,FR_idx,&amp;<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>, num,den, <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#af655ae1250e2c425b278644163cd3a61">epsNum</a>,<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a982819ac9663847af5c920416192de1b">epsDen</a>, <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,BC_idx_tmp );
<a name="l03201"></a>03201 
<a name="l03202"></a>03202                 <span class="keywordflow">if</span> ( BC_idx_tmp &gt;= 0 )
<a name="l03203"></a>03203                 {
<a name="l03204"></a>03204                         BC_idx = BC_idx_tmp;
<a name="l03205"></a>03205                         BC_status = <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a>;
<a name="l03206"></a>03206                 }
<a name="l03207"></a>03207         }
<a name="l03208"></a>03208 
<a name="l03209"></a>03209         <span class="comment">/* 2) Inactive upper bounds. */</span>
<a name="l03210"></a>03210         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a53058aa23ff9f956de32494ae2d3eab2">hasNoUpper</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l03211"></a>03211         {
<a name="l03212"></a>03212                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03213"></a>03213                 {
<a name="l03214"></a>03214                         ii = FR_idx[i];
<a name="l03215"></a>03215                         num[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a>( <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[ii] - <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[ii],0.0 );
<a name="l03216"></a>03216                         den[i] = delta_xFR[i] - delta_ub[ii];
<a name="l03217"></a>03217                 }
<a name="l03218"></a>03218 
<a name="l03219"></a>03219                 <a class="code" href="classQProblemB.html#afe150f11de090a35ae1bdcc9a00761b6">performRatioTest</a>( nFR,FR_idx,&amp;<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>, num,den, <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#af655ae1250e2c425b278644163cd3a61">epsNum</a>,<a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a982819ac9663847af5c920416192de1b">epsDen</a>, <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,BC_idx_tmp );
<a name="l03220"></a>03220 
<a name="l03221"></a>03221                 <span class="keywordflow">if</span> ( BC_idx_tmp &gt;= 0 )
<a name="l03222"></a>03222                 {
<a name="l03223"></a>03223                         BC_idx = BC_idx_tmp;
<a name="l03224"></a>03224                         BC_status = <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a>;
<a name="l03225"></a>03225                 }
<a name="l03226"></a>03226         }
<a name="l03227"></a>03227 
<a name="l03228"></a>03228         <span class="keyword">delete</span>[] den;
<a name="l03229"></a>03229         <span class="keyword">delete</span>[] num;
<a name="l03230"></a>03230 
<a name="l03231"></a>03231 
<a name="l03232"></a>03232 <span class="preprocessor">        #ifndef __XPCTARGET__</span>
<a name="l03233"></a>03233 <span class="preprocessor"></span>        <span class="keywordtype">char</span> messageString[80];
<a name="l03234"></a>03234 
<a name="l03235"></a>03235         <span class="keywordflow">if</span> ( BC_status == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> )
<a name="l03236"></a>03236                 snprintf( messageString,80,<span class="stringliteral">&quot;Stepsize is %.10e!&quot;</span>,<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> );
<a name="l03237"></a>03237         <span class="keywordflow">else</span>
<a name="l03238"></a>03238                 snprintf( messageString,80,<span class="stringliteral">&quot;Stepsize is %.10e! (BC_idx = %d, BC_status = %d)&quot;</span>,<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,BC_idx,BC_status );
<a name="l03239"></a>03239 
<a name="l03240"></a>03240         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a57fafea776d1d7be7a36676a7396aabe">throwInfo</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eae69f81d8a36bcb7389dbea1da59f84a1">RET_STEPSIZE_NONPOSITIVE</a>,messageString,<a class="code" href="MessageHandling_8hpp.html#a828bb1dfda1afd67ca795075903d227d">__FUNCTION__</a>,<a class="code" href="MessageHandling_8hpp.html#a2f6bd616afd004b1ce994c2ba2ac9937">__FILE__</a>,<a class="code" href="MessageHandling_8hpp.html#adbfa1be789063f1c21478696be51bb70">__LINE__</a>,<a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l03241"></a>03241 <span class="preprocessor">        #endif</span>
<a name="l03242"></a>03242 <span class="preprocessor"></span>
<a name="l03243"></a>03243 
<a name="l03244"></a>03244         <span class="comment">/* III) PERFORM STEP ALONG HOMOTOPY PATH */</span>
<a name="l03245"></a>03245         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> &gt; <a class="code" href="Constants_8hpp.html#ad819f2d51fdea4cd4ff6023e9e276e11">ZERO</a> )
<a name="l03246"></a>03246         {
<a name="l03247"></a>03247                 <span class="comment">/* 1) Perform step in primal und dual space. */</span>
<a name="l03248"></a>03248                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03249"></a>03249                 {
<a name="l03250"></a>03250                         ii = FR_idx[i];
<a name="l03251"></a>03251                         <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[ii] += <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>*delta_xFR[i];
<a name="l03252"></a>03252                 }
<a name="l03253"></a>03253 
<a name="l03254"></a>03254                 <span class="keywordflow">for</span>( i=0; i&lt;nFX; ++i )
<a name="l03255"></a>03255                 {
<a name="l03256"></a>03256                         ii = FX_idx[i];
<a name="l03257"></a>03257                         <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[ii] += <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>*delta_xFX[i];
<a name="l03258"></a>03258                         <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[ii] += <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>*delta_yFX[i];
<a name="l03259"></a>03259                 }
<a name="l03260"></a>03260 
<a name="l03261"></a>03261                 <span class="comment">/* 2) Shift QP data. */</span>
<a name="l03262"></a>03262                 <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l03263"></a>03263                 {
<a name="l03264"></a>03264                         <a class="code" href="classQProblemB.html#a3efcc81e7338d5d41c99e58a766315ba">g</a>[i]  += <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>*delta_g[i];
<a name="l03265"></a>03265                         <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] += <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>*delta_lb[i];
<a name="l03266"></a>03266                         <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] += <a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>*delta_ub[i];
<a name="l03267"></a>03267                 }
<a name="l03268"></a>03268         }
<a name="l03269"></a>03269         <span class="keywordflow">else</span>
<a name="l03270"></a>03270         {
<a name="l03271"></a>03271                 <span class="comment">/* print a warning if stepsize is zero */</span>
<a name="l03272"></a>03272 <span class="preprocessor">                #ifndef __XPCTARGET__</span>
<a name="l03273"></a>03273 <span class="preprocessor"></span>                snprintf( messageString,80,<span class="stringliteral">&quot;Stepsize is %.6e&quot;</span>,<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a> );
<a name="l03274"></a>03274                 <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a20916177fb0e5a55e1cc74df22e53795">throwWarning</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea6e31912b4cbd2f653ff795896707fd41">RET_STEPSIZE</a>,messageString,<a class="code" href="MessageHandling_8hpp.html#a828bb1dfda1afd67ca795075903d227d">__FUNCTION__</a>,<a class="code" href="MessageHandling_8hpp.html#a2f6bd616afd004b1ce994c2ba2ac9937">__FILE__</a>,<a class="code" href="MessageHandling_8hpp.html#adbfa1be789063f1c21478696be51bb70">__LINE__</a>,<a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l03275"></a>03275 <span class="preprocessor">                #endif</span>
<a name="l03276"></a>03276 <span class="preprocessor"></span>        }
<a name="l03277"></a>03277 
<a name="l03278"></a>03278 
<a name="l03279"></a>03279         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03280"></a>03280 }
<a name="l03281"></a>03281 
<a name="l03282"></a>03282 
<a name="l03283"></a>03283 <span class="comment">/*</span>
<a name="l03284"></a>03284 <span class="comment"> *      c h a n g e A c t i v e S e t</span>
<a name="l03285"></a>03285 <span class="comment"> */</span>
<a name="l03286"></a><a class="code" href="classQProblemB.html#a3033858c3361c09b7f52629df6f7fdda">03286</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a3033858c3361c09b7f52629df6f7fdda">QProblemB::changeActiveSet</a>( <span class="keywordtype">int</span> BC_idx, <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4">SubjectToStatus</a> BC_status )
<a name="l03287"></a>03287 {
<a name="l03288"></a>03288         <span class="keywordtype">char</span> messageString[80];
<a name="l03289"></a>03289 
<a name="l03290"></a>03290         <span class="comment">/* IV) UPDATE ACTIVE SET */</span>
<a name="l03291"></a>03291         <span class="keywordflow">switch</span> ( BC_status )
<a name="l03292"></a>03292         {
<a name="l03293"></a>03293                 <span class="comment">/* Optimal solution found as no working set change detected. */</span>
<a name="l03294"></a>03294                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a>:
<a name="l03295"></a>03295                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea0da5fbbcc17e08d9f65123a69051a817">RET_OPTIMAL_SOLUTION_FOUND</a>;
<a name="l03296"></a>03296 
<a name="l03297"></a>03297 
<a name="l03298"></a>03298                 <span class="comment">/* Remove one variable from active set. */</span>
<a name="l03299"></a>03299                 <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a>:
<a name="l03300"></a>03300 <span class="preprocessor">                        #ifndef __XPCTARGET__</span>
<a name="l03301"></a>03301 <span class="preprocessor"></span>                        snprintf( messageString,80,<span class="stringliteral">&quot;bound no. %d.&quot;</span>, BC_idx );
<a name="l03302"></a>03302                         <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a57fafea776d1d7be7a36676a7396aabe">throwInfo</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea0f461fcae9d87e4b1334401a3be6eb46">RET_REMOVE_FROM_ACTIVESET</a>,messageString,<a class="code" href="MessageHandling_8hpp.html#a828bb1dfda1afd67ca795075903d227d">__FUNCTION__</a>,<a class="code" href="MessageHandling_8hpp.html#a2f6bd616afd004b1ce994c2ba2ac9937">__FILE__</a>,<a class="code" href="MessageHandling_8hpp.html#adbfa1be789063f1c21478696be51bb70">__LINE__</a>,<a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l03303"></a>03303 <span class="preprocessor">                        #endif</span>
<a name="l03304"></a>03304 <span class="preprocessor"></span>
<a name="l03305"></a>03305                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a45a48ffc46ef0d6ca41db087a3f85307">removeBound</a>( BC_idx,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03306"></a>03306                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaddb537678cb9d40290ba4e0ef5514a37">RET_REMOVE_FROM_ACTIVESET_FAILED</a> );
<a name="l03307"></a>03307 
<a name="l03308"></a>03308                         <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[BC_idx] = 0.0;
<a name="l03309"></a>03309                         <span class="keywordflow">break</span>;
<a name="l03310"></a>03310 
<a name="l03311"></a>03311 
<a name="l03312"></a>03312                 <span class="comment">/* Add one variable to active set. */</span>
<a name="l03313"></a>03313                 <span class="keywordflow">default</span>:
<a name="l03314"></a>03314 <span class="preprocessor">                        #ifndef __XPCTARGET__</span>
<a name="l03315"></a>03315 <span class="preprocessor"></span>                        <span class="keywordflow">if</span> ( BC_status == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a> )
<a name="l03316"></a>03316                                 snprintf( messageString,80,<span class="stringliteral">&quot;lower bound no. %d.&quot;</span>, BC_idx );
<a name="l03317"></a>03317                         <span class="keywordflow">else</span>
<a name="l03318"></a>03318                                 snprintf( messageString,80,<span class="stringliteral">&quot;upper bound no. %d.&quot;</span>, BC_idx );
<a name="l03319"></a>03319                                 <a class="code" href="MessageHandling_8hpp.html#aaa22c4eae12c4dd65bdb0459ba26e372">getGlobalMessageHandler</a>( )-&gt;<a class="code" href="classMessageHandling.html#a57fafea776d1d7be7a36676a7396aabe">throwInfo</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea586818f37876f1823e68e0dbbc944811">RET_ADD_TO_ACTIVESET</a>,messageString,<a class="code" href="MessageHandling_8hpp.html#a828bb1dfda1afd67ca795075903d227d">__FUNCTION__</a>,<a class="code" href="MessageHandling_8hpp.html#a2f6bd616afd004b1ce994c2ba2ac9937">__FILE__</a>,<a class="code" href="MessageHandling_8hpp.html#adbfa1be789063f1c21478696be51bb70">__LINE__</a>,<a class="code" href="Types_8hpp.html#a36503475bb1fea0a7fd7087259ee63c1a3ff036f60aca3f1da826be88496d219b">VS_VISIBLE</a> );
<a name="l03320"></a>03320 <span class="preprocessor">                        #endif</span>
<a name="l03321"></a>03321 <span class="preprocessor"></span>
<a name="l03322"></a>03322                         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a2ae40020546914db0d3349792c415c10">addBound</a>( BC_idx,BC_status,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03323"></a>03323                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea80918441c8f157b07cd0b40ed5cd9bd8">RET_ADD_TO_ACTIVESET_FAILED</a> );
<a name="l03324"></a>03324                         <span class="keywordflow">break</span>;
<a name="l03325"></a>03325         }
<a name="l03326"></a>03326 
<a name="l03327"></a>03327         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03328"></a>03328 }
<a name="l03329"></a>03329 
<a name="l03330"></a>03330 
<a name="l03331"></a>03331 
<a name="l03332"></a>03332 <span class="comment">/*</span>
<a name="l03333"></a>03333 <span class="comment"> * p e r f o r m D r i f t C o r r e c t i o n</span>
<a name="l03334"></a>03334 <span class="comment"> */</span>
<a name="l03335"></a><a class="code" href="classQProblemB.html#ad127c5b219d755bbe8fb6c61fd16bf0e">03335</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#ad127c5b219d755bbe8fb6c61fd16bf0e">QProblemB::performDriftCorrection</a>( )
<a name="l03336"></a>03336 {
<a name="l03337"></a>03337         <span class="keywordtype">int</span> i;
<a name="l03338"></a>03338         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a> ();
<a name="l03339"></a>03339 
<a name="l03340"></a>03340         <span class="keywordflow">for</span> ( i=0; i&lt;nV; ++i )
<a name="l03341"></a>03341         {
<a name="l03342"></a>03342                 <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#ad6f610e6185373fc9483292807575cb1">getType</a> ( i ) )
<a name="l03343"></a>03343                 {
<a name="l03344"></a>03344                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3ad2ba0f85d1cc4d5ee72baabed496af36">ST_BOUNDED</a>:
<a name="l03345"></a>03345                                 <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a> ( i ) )
<a name="l03346"></a>03346                                 {
<a name="l03347"></a>03347                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a>:
<a name="l03348"></a>03348                                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l03349"></a>03349                                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a> (<a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i], <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]);
<a name="l03350"></a>03350                                                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a> (<a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i], 0.0);
<a name="l03351"></a>03351                                                 <span class="keywordflow">break</span>;
<a name="l03352"></a>03352                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a>:
<a name="l03353"></a>03353                                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="Utils_8hpp.html#aa083f5ed6e68f9cf54621ab4dc072fcf">getMin</a> (<a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i], <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]);
<a name="l03354"></a>03354                                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l03355"></a>03355                                                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = <a class="code" href="Utils_8hpp.html#aa083f5ed6e68f9cf54621ab4dc072fcf">getMin</a> (<a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i], 0.0);
<a name="l03356"></a>03356                                                 <span class="keywordflow">break</span>;
<a name="l03357"></a>03357                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a>:
<a name="l03358"></a>03358                                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="Utils_8hpp.html#aa083f5ed6e68f9cf54621ab4dc072fcf">getMin</a> (<a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i], <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]);
<a name="l03359"></a>03359                                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="Utils_8hpp.html#a63c73c0daee32d69d1113f09e8e8825c">getMax</a> (<a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i], <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i]);
<a name="l03360"></a>03360                                                 <a class="code" href="classQProblemB.html#a3fcf4f7abdb0189fd304e6bd31431d4f">y</a>[i] = 0.0;
<a name="l03361"></a>03361                                                 <span class="keywordflow">break</span>;
<a name="l03362"></a>03362                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a>:
<a name="l03363"></a>03363                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ac8720c8c1c59b164e2661101ef805887">ST_INFEASIBLE_LOWER</a>:
<a name="l03364"></a>03364                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4aba6d460c0037c0df179a4f3843317e9a">ST_INFEASIBLE_UPPER</a>:
<a name="l03365"></a>03365                                                 <span class="keywordflow">break</span>;
<a name="l03366"></a>03366                                 }
<a name="l03367"></a>03367                                 <span class="keywordflow">break</span>;
<a name="l03368"></a>03368                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a083507944ba3aedb928a8e625459aae0">ST_EQUALITY</a>:
<a name="l03369"></a>03369                                 <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l03370"></a>03370                                 <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[i] = <a class="code" href="classQProblemB.html#af5f392cdcebe7abe2fc827929e8cfe3b">x</a>[i];
<a name="l03371"></a>03371                                 <span class="keywordflow">break</span>;
<a name="l03372"></a>03372                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a9dd4eea536b458dbd9fb66950c52eb87">ST_UNBOUNDED</a>:
<a name="l03373"></a>03373                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a795a8c4151ff34f7ec9fb9d39b419064">ST_UNKNOWN</a>:
<a name="l03374"></a>03374             <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a3e65c061dde41562d1aeb2c4453bf1d3a0dee93bdee24d1a0823663359cb5f448">ST_DISABLED</a>:
<a name="l03375"></a>03375                                 <span class="keywordflow">break</span>;
<a name="l03376"></a>03376                 }
<a name="l03377"></a>03377         }
<a name="l03378"></a>03378 
<a name="l03379"></a>03379         <a class="code" href="classQProblemB.html#a755a6dc3f2c212179e490b1982f578ef">setupAuxiliaryQPgradient</a>( );
<a name="l03380"></a>03380 
<a name="l03381"></a>03381         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03382"></a>03382 }
<a name="l03383"></a>03383 
<a name="l03384"></a>03384 
<a name="l03385"></a>03385 <span class="comment">/*</span>
<a name="l03386"></a>03386 <span class="comment"> *      s h a l l R e f a c t o r i s e</span>
<a name="l03387"></a>03387 <span class="comment"> */</span>
<a name="l03388"></a><a class="code" href="classQProblemB.html#a52fa5dafb270b6d6872c4344d14aa529">03388</a> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> <a class="code" href="classQProblemB.html#a52fa5dafb270b6d6872c4344d14aa529">QProblemB::shallRefactorise</a>( <span class="keyword">const</span> <a class="code" href="classBounds.html" title="Manages working sets of bounds (= box constraints).">Bounds</a>* <span class="keyword">const</span> guessedBounds )<span class="keyword"> const</span>
<a name="l03389"></a>03389 <span class="keyword"></span>{
<a name="l03390"></a>03390         <span class="keywordtype">int</span> i;
<a name="l03391"></a>03391         <span class="keywordtype">int</span> nV = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l03392"></a>03392 
<a name="l03393"></a>03393         <span class="comment">/* always refactorise if Hessian is not known to be positive definite */</span>
<a name="l03394"></a>03394         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#acffad5ba74e516c1ebca5e67739bc107">getHessianType</a>( ) == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a4bd6c8ccecaaf211801db7381f2361ec">HST_SEMIDEF</a> )
<a name="l03395"></a>03395                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l03396"></a>03396 
<a name="l03397"></a>03397         <span class="comment">/* 1) Determine number of bounds that have same status</span>
<a name="l03398"></a>03398 <span class="comment">         *    in guessed AND current bounds.*/</span>
<a name="l03399"></a>03399         <span class="keywordtype">int</span> differenceNumber = 0;
<a name="l03400"></a>03400 
<a name="l03401"></a>03401         <span class="keywordflow">for</span>( i=0; i&lt;nV; ++i )
<a name="l03402"></a>03402                 <span class="keywordflow">if</span> ( guessedBounds-&gt;<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) != <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>( i ) )
<a name="l03403"></a>03403                         ++differenceNumber;
<a name="l03404"></a>03404 
<a name="l03405"></a>03405         <span class="comment">/* 2) Decide wheter to refactorise or not. */</span>
<a name="l03406"></a>03406         <span class="keywordflow">if</span> ( 2*differenceNumber &gt; guessedBounds-&gt;<a class="code" href="classBounds.html#a93af6a24513cae52988646aec520bd89">getNFX</a>( ) )
<a name="l03407"></a>03407                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>;
<a name="l03408"></a>03408         <span class="keywordflow">else</span>
<a name="l03409"></a>03409                 <span class="keywordflow">return</span> <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a>;
<a name="l03410"></a>03410 }
<a name="l03411"></a>03411 
<a name="l03412"></a>03412 
<a name="l03413"></a>03413 <span class="comment">/*</span>
<a name="l03414"></a>03414 <span class="comment"> *      a d d B o u n d</span>
<a name="l03415"></a>03415 <span class="comment"> */</span>
<a name="l03416"></a><a class="code" href="classQProblemB.html#a2ae40020546914db0d3349792c415c10">03416</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a2ae40020546914db0d3349792c415c10">QProblemB::addBound</a>(        <span class="keywordtype">int</span> number, <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4">SubjectToStatus</a> B_status,
<a name="l03417"></a>03417                                                                         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> updateCholesky
<a name="l03418"></a>03418                                                                         )
<a name="l03419"></a>03419 {
<a name="l03420"></a>03420         <span class="keywordtype">int</span> i, j;
<a name="l03421"></a>03421         <span class="keywordtype">int</span> nV  = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l03422"></a>03422         <span class="keywordtype">int</span> nFR = <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l03423"></a>03423 
<a name="l03424"></a>03424 
<a name="l03425"></a>03425         <span class="comment">/* consistency check */</span>
<a name="l03426"></a>03426         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a> )    ||
<a name="l03427"></a>03427                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a> ) ||
<a name="l03428"></a>03428                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a> )  ||
<a name="l03429"></a>03429                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a> )            )
<a name="l03430"></a>03430         {
<a name="l03431"></a>03431                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaee57058f3b42d5e58c701115a79c38a0">RET_UNKNOWN_BUG</a> );
<a name="l03432"></a>03432         }
<a name="l03433"></a>03433 
<a name="l03434"></a>03434         <span class="comment">/* Perform cholesky updates only if QProblemB has been initialised! */</span>
<a name="l03435"></a>03435         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac5afc0889e446a94b965bff2b1e823d6">QPS_PREPARINGAUXILIARYQP</a> )
<a name="l03436"></a>03436         {
<a name="l03437"></a>03437                 <span class="comment">/* UPDATE INDICES */</span>
<a name="l03438"></a>03438                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a6d6f6a6405fb0b7ff607e5a587eedafb">moveFreeToFixed</a>( number,B_status ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03439"></a>03439                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea74695b25879d843bc327dbc24b6b7894">RET_ADDBOUND_FAILED</a> );
<a name="l03440"></a>03440 
<a name="l03441"></a>03441                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03442"></a>03442         }
<a name="l03443"></a>03443 
<a name="l03444"></a>03444 
<a name="l03445"></a>03445         <span class="comment">/* I) PERFORM CHOLESKY UPDATE: */</span>
<a name="l03446"></a>03446         <span class="keywordflow">if</span> ( ( updateCholesky == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) &amp;&amp;
<a name="l03447"></a>03447                  ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> )   &amp;&amp; ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a> ) )
<a name="l03448"></a>03448         {
<a name="l03449"></a>03449                 <span class="comment">/* 1) Index of variable to be added within the list of free variables. */</span>
<a name="l03450"></a>03450                 <span class="keywordtype">int</span> number_idx = <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>( )-&gt;<a class="code" href="classIndexlist.html#ad6531121bb05cfc3ab38d05973b462d9">getIndex</a>( number );
<a name="l03451"></a>03451 
<a name="l03452"></a>03452                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> c, s, nu;
<a name="l03453"></a>03453 
<a name="l03454"></a>03454                 <span class="comment">/* 2) Use row-wise Givens rotations to restore upper triangular form of R. */</span>
<a name="l03455"></a>03455                 <span class="keywordflow">for</span>( i=number_idx+1; i&lt;nFR; ++i )
<a name="l03456"></a>03456                 {
<a name="l03457"></a>03457                         <a class="code" href="classQProblemB.html#a736d704a3575d1a4ec4565ddfdf3e6d8">computeGivens</a>( <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i-1,i),<a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i), <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i-1,i),<a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,i),c,s );
<a name="l03458"></a>03458                         nu = s/(1.0+c);
<a name="l03459"></a>03459 
<a name="l03460"></a>03460                         <span class="keywordflow">for</span>( j=(1+i); j&lt;nFR; ++j ) <span class="comment">/* last column of R is thrown away */</span>
<a name="l03461"></a>03461                                 <a class="code" href="classQProblemB.html#acd1eae6b1b9fe21d5b9341a64dc82e98">applyGivens</a>( c,s,nu,<a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i-1,j),<a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,j), <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i-1,j),<a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,j) );
<a name="l03462"></a>03462                 }
<a name="l03463"></a>03463 
<a name="l03464"></a>03464                 <span class="comment">/* 3) Delete &lt;number_idx&gt;th column and ... */</span>
<a name="l03465"></a>03465                 <span class="keywordflow">for</span>( i=0; i&lt;nFR-1; ++i )
<a name="l03466"></a>03466                         <span class="keywordflow">for</span>( j=number_idx+1; j&lt;nFR; ++j )
<a name="l03467"></a>03467                                 <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,j-1) = <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,j);
<a name="l03468"></a>03468                 <span class="comment">/* ... last column of R. */</span>
<a name="l03469"></a>03469                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03470"></a>03470                         <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,nFR-1) = 0.0;
<a name="l03471"></a>03471         }
<a name="l03472"></a>03472 
<a name="l03473"></a>03473         <span class="comment">/* II) UPDATE INDICES */</span>
<a name="l03474"></a>03474         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#a6d6f6a6405fb0b7ff607e5a587eedafb">moveFreeToFixed</a>( number,B_status ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03475"></a>03475                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea74695b25879d843bc327dbc24b6b7894">RET_ADDBOUND_FAILED</a> );
<a name="l03476"></a>03476 
<a name="l03477"></a>03477 
<a name="l03478"></a>03478         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03479"></a>03479 }
<a name="l03480"></a>03480 
<a name="l03481"></a>03481 
<a name="l03482"></a>03482 <span class="comment">/*</span>
<a name="l03483"></a>03483 <span class="comment"> *      r e m o v e B o u n d</span>
<a name="l03484"></a>03484 <span class="comment"> */</span>
<a name="l03485"></a><a class="code" href="classQProblemB.html#a45a48ffc46ef0d6ca41db087a3f85307">03485</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a45a48ffc46ef0d6ca41db087a3f85307">QProblemB::removeBound</a>(     <span class="keywordtype">int</span> number,
<a name="l03486"></a>03486                                                                         <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089">BooleanType</a> updateCholesky
<a name="l03487"></a>03487                                                                         )
<a name="l03488"></a>03488 {
<a name="l03489"></a>03489         <span class="keywordtype">int</span> i;
<a name="l03490"></a>03490         <span class="keywordtype">int</span> nV  = <a class="code" href="classQProblemB.html#a341a93cc01d9a586ae407a6dfa9728bc">getNV</a>( );
<a name="l03491"></a>03491         <span class="keywordtype">int</span> nFR = <a class="code" href="classQProblemB.html#af7bd05a4562b10f6abda736cfed019d2">getNFR</a>( );
<a name="l03492"></a>03492 
<a name="l03493"></a>03493 
<a name="l03494"></a>03494         <span class="comment">/* consistency check */</span>
<a name="l03495"></a>03495         <span class="keywordflow">if</span> ( ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda5ce84ee8a93fc7e780e2c1e9440c95ed">QPS_NOTINITIALISED</a> )    ||
<a name="l03496"></a>03496                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda1ace398d1f8eddff294c06c72bc58fdb">QPS_AUXILIARYQPSOLVED</a> ) ||
<a name="l03497"></a>03497                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abda6f8af598b9b98f5a3582f8063f3b3ecb">QPS_HOMOTOPYQPSOLVED</a> )  ||
<a name="l03498"></a>03498                  ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdaeaeec92065e112d99b1f82851e069bd3">QPS_SOLVED</a> )            )
<a name="l03499"></a>03499         {
<a name="l03500"></a>03500                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaee57058f3b42d5e58c701115a79c38a0">RET_UNKNOWN_BUG</a> );
<a name="l03501"></a>03501         }
<a name="l03502"></a>03502 
<a name="l03503"></a>03503         <span class="comment">/* save index sets and decompositions for flipping bounds strategy */</span>
<a name="l03504"></a>03504         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#abba3f3ece76237c647b5719eae9c26f2">enableFlippingBounds</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l03505"></a>03505                 <a class="code" href="classQProblemB.html#afc23c08b6cdc0ca93f9c049e9a318744">flipper</a>.<a class="code" href="classFlipper.html#a918b42bfc9a7caa375170ffb50ff5708">set</a>( &amp;<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>,<a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> );
<a name="l03506"></a>03506 
<a name="l03507"></a>03507         <span class="comment">/* I) UPDATE INDICES */</span>
<a name="l03508"></a>03508         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#ad5b809717231157ee0e02ab972106795">moveFixedToFree</a>( number ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03509"></a>03509                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eac2eeb585c861a7dd1f953d3ccfc82761">RET_REMOVEBOUND_FAILED</a> );
<a name="l03510"></a>03510 
<a name="l03511"></a>03511         <span class="comment">/* Perform cholesky updates only if QProblemB has been initialised! */</span>
<a name="l03512"></a>03512         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a6977b3a990bab9268ca1c71e8b0d30cf">getStatus</a>( ) == <a class="code" href="Types_8hpp.html#a8d5ce5a92124dc0106a5720f6d9a5abdac5afc0889e446a94b965bff2b1e823d6">QPS_PREPARINGAUXILIARYQP</a> )
<a name="l03513"></a>03513                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03514"></a>03514 
<a name="l03515"></a>03515 
<a name="l03516"></a>03516         <span class="comment">/* II) PERFORM CHOLESKY UPDATE */</span>
<a name="l03517"></a>03517         <span class="keywordflow">if</span> ( ( updateCholesky == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> ) &amp;&amp;
<a name="l03518"></a>03518                  ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> )   &amp;&amp; ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> != <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a> ) )
<a name="l03519"></a>03519         {
<a name="l03520"></a>03520                 <span class="keywordtype">int</span>* FR_idx;
<a name="l03521"></a>03521                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>( )-&gt;<a class="code" href="classIndexlist.html#a0db44282494b4986dc25a5f82acc6255">getNumberArray</a>( &amp;FR_idx );
<a name="l03522"></a>03522 
<a name="l03523"></a>03523                 <span class="comment">/* 1) Calculate new column of cholesky decomposition. */</span>
<a name="l03524"></a>03524                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* rhs = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nFR+1];
<a name="l03525"></a>03525                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>* r   = <span class="keyword">new</span> <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a>[nFR];
<a name="l03526"></a>03526 
<a name="l03527"></a>03527                 <a class="code" href="Types_8hpp.html#acfbb1546e581bff0de2fa030397dc14d">real_t</a> r0;
<a name="l03528"></a>03528                 <span class="keywordflow">switch</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> )
<a name="l03529"></a>03529                 {
<a name="l03530"></a>03530                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a>:
<a name="l03531"></a>03531                                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#ad3b0413d59cf68b7ee855561082b60ef">usingRegularisation</a>( ) == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a85b8a20e72a8bea5dd10a6007fe3071e">BT_FALSE</a> )
<a name="l03532"></a>03532                                         r0 = 0.0;
<a name="l03533"></a>03533                                 <span class="keywordflow">else</span>
<a name="l03534"></a>03534                                         r0 = <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3521b2ae6a97e3f10f08ef8130ca7a49">epsRegularisation</a>;
<a name="l03535"></a>03535                                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03536"></a>03536                                         rhs[i] = 0.0;
<a name="l03537"></a>03537                                 <span class="keywordflow">break</span>;
<a name="l03538"></a>03538 
<a name="l03539"></a>03539                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a801323f9ac1f4bd78ea51fef79d7d975">HST_IDENTITY</a>:
<a name="l03540"></a>03540                                 r0 = 1.0;
<a name="l03541"></a>03541                                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03542"></a>03542                                         rhs[i] = 0.0;
<a name="l03543"></a>03543                                 <span class="keywordflow">break</span>;
<a name="l03544"></a>03544 
<a name="l03545"></a>03545                         <span class="keywordflow">default</span>:
<a name="l03546"></a>03546                                 <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#ab67514f6450264a6c8d55b319802099d">getRow</a>(number, <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#aa015d4fafc119776f4274c51a0e60a08">getFree</a>(), 1.0, rhs);
<a name="l03547"></a>03547                                 r0 = <a class="code" href="classQProblemB.html#a10b5660ca133fee1cedbb9636cea8431">H</a>-&gt;<a class="code" href="classMatrix.html#ab78435722398170cb87b0eb9650d8ca1">diag</a>(number);
<a name="l03548"></a>03548                                 <span class="keywordflow">break</span>;
<a name="l03549"></a>03549                 }
<a name="l03550"></a>03550 
<a name="l03551"></a>03551                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a95838c30238aac5f614731cd33ceb48e">backsolveR</a>( rhs,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>,<a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a>,r ) != <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a> )
<a name="l03552"></a>03552                 {
<a name="l03553"></a>03553                         <span class="keyword">delete</span>[] rhs; <span class="keyword">delete</span>[] r;
<a name="l03554"></a>03554                         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eac2eeb585c861a7dd1f953d3ccfc82761">RET_REMOVEBOUND_FAILED</a> );
<a name="l03555"></a>03555                 }
<a name="l03556"></a>03556 
<a name="l03557"></a>03557                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03558"></a>03558                         r0 -= r[i]*r[i];
<a name="l03559"></a>03559 
<a name="l03560"></a>03560                 <span class="comment">/* 2) Store new column into R. */</span>
<a name="l03561"></a>03561                 <span class="keywordflow">for</span>( i=0; i&lt;nFR; ++i )
<a name="l03562"></a>03562                         <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(i,nFR) = r[i];
<a name="l03563"></a>03563 
<a name="l03564"></a>03564                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#abba3f3ece76237c647b5719eae9c26f2">enableFlippingBounds</a> == <a class="code" href="Types_8hpp.html#a20f82124c82b6f5686a7fce454ef9089a34c57965bfb07125b09326a69019f9c6">BT_TRUE</a> )
<a name="l03565"></a>03565                 {
<a name="l03566"></a>03566                         <span class="keywordflow">if</span> ( r0 &gt; <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#aadb15470a12af09f0146a8b24e1a26fd">epsFlipping</a> )
<a name="l03567"></a>03567                                 <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(nFR,nFR) = sqrt( r0 );
<a name="l03568"></a>03568                         <span class="keywordflow">else</span>
<a name="l03569"></a>03569                         {
<a name="l03570"></a>03570                                 <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a4bd6c8ccecaaf211801db7381f2361ec">HST_SEMIDEF</a>;
<a name="l03571"></a>03571 
<a name="l03572"></a>03572                                 <a class="code" href="classQProblemB.html#afc23c08b6cdc0ca93f9c049e9a318744">flipper</a>.<a class="code" href="classFlipper.html#adb66871d1abbf22109618085b9636f26">get</a>( &amp;<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>,<a class="code" href="classQProblemB.html#a8402fb9f4dbfaa9ad433457ba03751f0">R</a> );
<a name="l03573"></a>03573                                 <a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classBounds.html#ae040b8d26920a6e52a572171504891df">flipFixed</a>(number);
<a name="l03574"></a>03574 
<a name="l03575"></a>03575                                 <span class="keywordflow">switch</span> (<a class="code" href="classQProblemB.html#af0822225676e7ca195a0724a8841c4d9">bounds</a>.<a class="code" href="classSubjectTo.html#a04ff21190d9a070f886f03918bb90eb8">getStatus</a>(number))
<a name="l03576"></a>03576                                 {
<a name="l03577"></a>03577                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4ab8aabf121d848d6194b580b25848bdc1">ST_LOWER</a>: <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[number] = <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[number]; <span class="keywordflow">break</span>;
<a name="l03578"></a>03578                                         <span class="keywordflow">case</span> <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a75adc57fce7eec5df99c4e3d373e204b">ST_UPPER</a>: <a class="code" href="classQProblemB.html#ae7d207471df9894e89e974b252fc341e">ub</a>[number] = <a class="code" href="classQProblemB.html#a424f1b8c4badffef270a68a461671d44">lb</a>[number]; <span class="keywordflow">break</span>;
<a name="l03579"></a>03579                                         <span class="keywordflow">default</span>: <span class="keyword">delete</span>[] rhs; <span class="keyword">delete</span>[] r; <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eab3a33d8e827abc7dc3c89a4a3ff8bc53">RET_MOVING_BOUND_FAILED</a> );
<a name="l03580"></a>03580                                 }
<a name="l03581"></a>03581 
<a name="l03582"></a>03582                         }
<a name="l03583"></a>03583                 }
<a name="l03584"></a>03584                 <span class="keywordflow">else</span>
<a name="l03585"></a>03585                 {
<a name="l03586"></a>03586                         <span class="keywordflow">if</span> ( r0 &gt; <a class="code" href="Constants_8hpp.html#ad819f2d51fdea4cd4ff6023e9e276e11">ZERO</a> )
<a name="l03587"></a>03587                                 <a class="code" href="Types_8hpp.html#ad1a7cec2a5fe530a76ed5d03ea25ef66">RR</a>(nFR,nFR) = sqrt( r0 );
<a name="l03588"></a>03588                         <span class="keywordflow">else</span>
<a name="l03589"></a>03589                         {
<a name="l03590"></a>03590                                 <span class="keyword">delete</span>[] rhs; <span class="keyword">delete</span>[] r;
<a name="l03591"></a>03591 
<a name="l03592"></a>03592                                 <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> = <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9a4bd6c8ccecaaf211801db7381f2361ec">HST_SEMIDEF</a>;
<a name="l03593"></a>03593                                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea02db76e7e6badd1b34350674562e9284">RET_HESSIAN_NOT_SPD</a> );
<a name="l03594"></a>03594                         }
<a name="l03595"></a>03595                 }
<a name="l03596"></a>03596 
<a name="l03597"></a>03597                 <span class="keyword">delete</span>[] rhs; <span class="keyword">delete</span>[] r;
<a name="l03598"></a>03598         }
<a name="l03599"></a>03599 
<a name="l03600"></a>03600         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03601"></a>03601 }
<a name="l03602"></a>03602 
<a name="l03603"></a>03603 
<a name="l03604"></a>03604 <span class="comment">/*</span>
<a name="l03605"></a>03605 <span class="comment"> *      p r i n t I t e r a t i o n</span>
<a name="l03606"></a>03606 <span class="comment"> */</span>
<a name="l03607"></a><a class="code" href="classQProblemB.html#a1f9623a773023031d2de267956e5e4be">03607</a> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865e" title="Defines all symbols for global return values.">returnValue</a> <a class="code" href="classQProblemB.html#a1f9623a773023031d2de267956e5e4be">QProblemB::printIteration</a>(  <span class="keywordtype">int</span> iteration,
<a name="l03608"></a>03608                                                                                 <span class="keywordtype">int</span> BC_idx,     <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4">SubjectToStatus</a> BC_status
<a name="l03609"></a>03609                                                                                 )
<a name="l03610"></a>03610 {
<a name="l03611"></a>03611 <span class="preprocessor">        #ifndef __XPCTARGET__</span>
<a name="l03612"></a>03612 <span class="preprocessor"></span>        <span class="keywordtype">char</span> myPrintfString[160];
<a name="l03613"></a>03613 
<a name="l03614"></a>03614         <span class="comment">/* consistency check */</span>
<a name="l03615"></a>03615         <span class="keywordflow">if</span> ( iteration &lt; 0 )
<a name="l03616"></a>03616                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a8bc2bee847b74e80aeb52a1375945ed4">THROWERROR</a>( <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865ea85fb8027157a2c6713c2f7c9b9d93bc6">RET_INVALID_ARGUMENTS</a> );
<a name="l03617"></a>03617 
<a name="l03618"></a>03618         <span class="comment">/* nothing to do */</span>
<a name="l03619"></a>03619         <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#a59d8ee93443bc8e7ce509a94ff4330e6">options</a>.<a class="code" href="classOptions.html#a3c7327943ce25f36479356d33a0b0723">printLevel</a> != <a class="code" href="Types_8hpp.html#a83ff212f474e3669d8fac2d727f65de5ad4184c636ebb71d54bd55080e3e5a4a4">PL_MEDIUM</a> )
<a name="l03620"></a>03620                 <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03621"></a>03621 
<a name="l03622"></a>03622 
<a name="l03623"></a>03623         <span class="comment">/* 1) Print header at first iteration. */</span>
<a name="l03624"></a>03624         <span class="keywordflow">if</span> ( iteration == 0 )
<a name="l03625"></a>03625         {
<a name="l03626"></a>03626                 snprintf( myPrintfString,160,<span class="stringliteral">&quot;\n\n#################   qpOASES  --  QP NO. %3.0d   ##################\n\n&quot;</span>, <a class="code" href="classQProblemB.html#acd42fb385651070ee34d7ad7802e924b">count</a> );
<a name="l03627"></a>03627                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( myPrintfString );
<a name="l03628"></a>03628 
<a name="l03629"></a>03629                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot;    Iter   |    StepLength    |       Info       |   nFX    \n&quot;</span> );
<a name="l03630"></a>03630                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( <span class="stringliteral">&quot; ----------+------------------+------------------+--------- \n&quot;</span> );
<a name="l03631"></a>03631         }
<a name="l03632"></a>03632 
<a name="l03633"></a>03633         <span class="comment">/* 2) Print iteration line. */</span>
<a name="l03634"></a>03634         <span class="keywordflow">if</span> ( BC_status == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4af5b09f89acd9d344989c2e5eed019ccb">ST_UNDEFINED</a> )
<a name="l03635"></a>03635         {
<a name="l03636"></a>03636                 <span class="keywordflow">if</span> ( <a class="code" href="classQProblemB.html#af288e4e7320b9c47c2c95a230cedcbf4">hessianType</a> == <a class="code" href="Types_8hpp.html#a604cad5cda14e378ce4a77ab28ee9fd9aa41daece61bf96c425863731850060bb">HST_ZERO</a> )
<a name="l03637"></a>03637                         snprintf( myPrintfString,80,<span class="stringliteral">&quot;   %5.1d   |   %1.6e   |    LP SOLVED     |  %4.1d   \n&quot;</span>, iteration,<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,<a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( ) );
<a name="l03638"></a>03638                 <span class="keywordflow">else</span>
<a name="l03639"></a>03639                         snprintf( myPrintfString,80,<span class="stringliteral">&quot;   %5.1d   |   %1.6e   |    QP SOLVED     |  %4.1d   \n&quot;</span>, iteration,<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,<a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( ) );
<a name="l03640"></a>03640                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( myPrintfString );
<a name="l03641"></a>03641         }
<a name="l03642"></a>03642         <span class="keywordflow">else</span>
<a name="l03643"></a>03643         {
<a name="l03644"></a>03644                 <span class="keywordtype">char</span> info[8];
<a name="l03645"></a>03645 
<a name="l03646"></a>03646                 <span class="keywordflow">if</span> ( BC_status == <a class="code" href="Types_8hpp.html#a70a6a40d261a015ead8d43aa589383a4a830e6b358e8a1fe88b26cb221883eacf">ST_INACTIVE</a> )
<a name="l03647"></a>03647                         snprintf( info,8,<span class="stringliteral">&quot;REM BND&quot;</span> );
<a name="l03648"></a>03648                 <span class="keywordflow">else</span>
<a name="l03649"></a>03649                         snprintf( info,8,<span class="stringliteral">&quot;ADD BND&quot;</span> );
<a name="l03650"></a>03650 
<a name="l03651"></a>03651                 snprintf( myPrintfString,80,<span class="stringliteral">&quot;   %5.1d   |   %1.6e   |   %s %4.1d   |  %4.1d   \n&quot;</span>, iteration,<a class="code" href="classQProblemB.html#a382545a2e9cf4591bf372c9297cac294">tau</a>,info,BC_idx,<a class="code" href="classQProblemB.html#a4fabb68b173c50bf9fb66e015d8248d6">getNFX</a>( ) );
<a name="l03652"></a>03652                 <a class="code" href="Utils_8hpp.html#a03be15fd21d365895333869e3b08446a">myPrintf</a>( myPrintfString );
<a name="l03653"></a>03653         }
<a name="l03654"></a>03654 <span class="preprocessor">        #endif</span>
<a name="l03655"></a>03655 <span class="preprocessor"></span>
<a name="l03656"></a>03656         <span class="keywordflow">return</span> <a class="code" href="MessageHandling_8hpp.html#a81d556f613bfbabd0b1f9488c0fa865eaec77507a25a637aa3a6650ba26875984">SUCCESSFUL_RETURN</a>;
<a name="l03657"></a>03657 }
<a name="l03658"></a>03658 
<a name="l03659"></a>03659 
<a name="l03660"></a>03660 
<a name="l03661"></a>03661 <a class="code" href="Types_8hpp.html#adee2e4c0805d76ae74d10597f96dd70f">END_NAMESPACE_QPOASES</a>
<a name="l03662"></a>03662 
<a name="l03663"></a>03663 
<a name="l03664"></a>03664 <span class="comment">/*</span>
<a name="l03665"></a>03665 <span class="comment"> *      end of file</span>
<a name="l03666"></a>03666 <span class="comment"> */</span>
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://ros.org/wiki/gdm_tdlas">gdm_tdlas</a><br />
Author(s): Victor Hernandez</br />
<small>autogenerated on Fri Jul 27 2012 16:09:56</small>
</div>
</body>
</html>
